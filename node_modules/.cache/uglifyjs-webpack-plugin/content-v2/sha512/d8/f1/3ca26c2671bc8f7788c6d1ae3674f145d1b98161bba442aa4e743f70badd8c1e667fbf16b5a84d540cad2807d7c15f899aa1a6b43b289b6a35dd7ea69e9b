{"code":"webpackJsonp([89],{Jxmi:function(s,t,e){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=e(\"WT6e\"),r=e(\"Xjw4\"),i=e(\"bfOx\"),n=e(\"Exih\"),l=e(\"NOoU\"),o=e(\"ntJC\"),c=e(\"R12H\"),d=e(\"xHjW\"),u=this&&this.__decorate||function(s,t,e,a){var r,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,a);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(i<3?r(n):i>3?r(t,e,n):r(t,e))||n);return i>3&&n&&Object.defineProperty(t,e,n),n},p=this&&this.__metadata||function(s,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(s,t)},_=function(){function s(s,t,e,a,r){this.http=s,this.router=t,this.cookieStore=e,this.globalService=a,this.notificationService=r,this.prev=!1,this.next=!1,this.assetsDefault=[],this.assetsList=[],this.userList=[],this.assetsInfo=[],this.selects=[],this.check=!1,this.assets_id=0,this.assets_name=\"\",this.assets_date=\"\",this.assets_department_id=0,this.assets_user_id=0,this.assets_use_note=\"\",this.editStatusAssetsId=0,this.isStatus=0,this.isAll=0,this.width=\"0%\",this.width_1=\"70%\",this.isDetail=\"\",this.keyword=\"\",this.cid=0,this.super_admin_id=0,this.assets_status_default=1,this.edit_assets_status_default=2,this.edit_assets_type_default=2,this.rollback_url=\"/assets-management/assets-issue\",this.pr_status=\"\",this.pr_u_id=\"\",this.pr_u_username=\"\",this.pr_order=\"\",this.select_count=\"\",this.assets_assign=\"\",this.assets_copy_person=\"\",this.approve_user=[],this.follower_user=[],this.transfer_user=[],this.remove_user_ids=[],this.approval_or_copy=\"\",this.is_show_detail=\"\",this.is_show_details=\"\",this.approve_users=[],this.create_user_id=0,this.showType=\"\",this.uid=\"\",this.operate_type=\"\",this.operate_button_type=\"\",this.operate_button_type_is_more=\"\",this.operate_types=\"\",this.log_type=\"assets_ff\",this.log_table_name=\"assets\";this.globalService.navEventEmitter.emit('{\"title\":\"\\u8d44\\u4ea7\\u53d1\\u653e\",\"url\":\"/assets-management/assets-issue\",\"class_\":\"active\"}'),this.uid=this.cookieStore.getCookie(\"uid\"),this.getAssetsList(\"1\"),window.scrollTo(0,0),this.super_admin_id=this.globalService.getAdminID(),this.cid=this.cookieStore.getCookie(\"cid\"),this.getAssetsListDefault()}return s.prototype.ngOnInit=function(){},s.prototype.getAssetsListDefault=function(){var s=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getAssetsDefault?type=department&assets_status=\"+this.assets_status_default+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(s){return s.json()}).subscribe(function(t){s.assetsDefault=t,202==s.assetsDefault.status&&(alert(s.assetsDefault.msg),s.cookieStore.removeAll(s.rollback_url),s.router.navigate([\"/auth/login\"]))})},s.prototype.geteUserList=function(s,t){var e=this,a=0;0!=(a=1==t?s.target.value:s)&&this.http.get(this.globalService.getDomain()+\"/api/v1/getAssetsDefault?type=user&department_id=\"+a+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(s){return s.json()}).subscribe(function(s){e.userList=s,202==e.userList.status&&(alert(e.userList.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"]))})},s.prototype.getAssetsList=function(s){var t=this,e=this.globalService.getDomain()+\"/api/v1/getAssetsList?page=\"+s+\"&assets_status=\"+this.edit_assets_status_default+\"&assets_type=\"+this.edit_assets_type_default+\"&sid=\"+this.cookieStore.getCookie(\"sid\");\"\"!=this.keyword.trim()&&(e+=\"&keyword=\"+this.keyword.trim()),this.http.get(e).map(function(s){return s.json()}).subscribe(function(s){if(t.assetsList=s,202==t.assetsList.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"])),t.assetsList.length>0){t.assetsList.result.assetsList.current_page==t.assetsList.result.assetsList.last_page?t.next=!0:t.next=!1,1==t.assetsList.result.assetsList.current_page?t.prev=!0:t.prev=!1,t.selects=[];for(var e=0,a=t.assetsList.result.assetsList.data;e<a.length;e++){var r=a[e];t.selects[r.assets_id]=!1}t.check=!1}})},s.prototype.pagination=function(s){this.page=s,this.getAssetsList(this.page)},s.prototype.changeCheckAll=function(s){var t=this,e=s.target.checked;this.selects.forEach(function(s,a,r){t.selects[a]=e}),this.check=e},s.prototype.handle=function(s){var t=s.target,e=t.value,a=t.checked;this.selects[e]=a;for(var r=0,i=0,n=this.selects;i<n.length;i++){0==n[i]&&(r+=1)}this.check=!(r>=1)},s.prototype.onSubmit=function(){var s=this;if(0==this.assets_id)return alert(\"\\u8bf7\\u9009\\u62e9\\u53d1\\u653e\\u6e05\\u5355\\uff01\"),!1;if(\"\"==this.assets_date.trim())return alert(\"\\u8bf7\\u8f93\\u5165\\u53d1\\u9001\\u65e5\\u671f\\uff01\"),!1;var t=[];this.approve_user.length>0&&this.approve_user.forEach(function(s,e,a){t.push(s.id.toString())});var e=[];this.follower_user.length>0&&this.follower_user.forEach(function(s,t,a){e.push(s.id.toString())}),this.http.post(this.globalService.getDomain()+\"/api/v1/addAssets\",{assets_id:this.assets_id,assets_date:this.assets_date,assets_department_id:this.assets_department_id,assets_user_id:this.assets_user_id,assets_use_note:this.assets_use_note,assets_status:this.edit_assets_status_default,assets_type:this.edit_assets_type_default,assets_assign:JSON.stringify(t),assets_copy_person:JSON.stringify(e),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var e=JSON.parse(t._body);if(201==e.status)return alert(e.msg),!1;if(200==e.status){if(s.assetsList=e,s.assetsList){s.assetsList.result.assetsList.current_page==s.assetsList.result.assetsList.last_page?s.next=!0:s.next=!1,1==s.assetsList.result.assetsList.current_page?s.prev=!0:s.prev=!1,s.selects=[];for(var a=0,r=s.assetsList.result.assetsList.data;a<r.length;a++){var i=r[a];s.selects[i.assets_id]=!1}s.check=!1}s.clear_(\"\"),s.addModal.hide()}else 202==e.status&&(s.cookieStore.removeAll(s.rollback_url),s.router.navigate([\"/auth/login\"]))})},s.prototype.clear_=function(s){\"detail\"==s?this.detailModal.hide():this.addModal.hide(),this.assets_id=0,this.assets_date=\"\",this.assets_name=\"\",this.assets_department_id=0,this.assets_user_id=0,this.assets_use_note=\"\",this.assets_assign=\"\",this.assets_copy_person=\"\",this.isDetail=\"\"},s.prototype.setValue=function(s){this.assets_id=s.result.assets_id,this.assets_date=s.result.assets_date,this.assets_name=s.result.assets_name,this.assets_department_id=s.result.assets_department_id,this.assets_user_id=s.result.assets_user_id,this.assets_use_note=s.result.assets_use_note,this.assets_assign=s.result.assets_assign,this.assets_copy_person=s.result.assets_copy_person,this.create_user_id=s.result.u_id,this.approve_user=s.result.assign_user_name,this.follower_user=s.result.copy_user,this.pr_u_id=s.result.u_id,this.pr_status=s.result.assets_verify_status,this.pr_u_username=s.result.create_u_username,this.pr_order=s.result.assets_number,this.assets_department_id&&this.geteUserList(this.assets_department_id,2)},s.prototype.detailAssets=function(s){var t=this;if(this.showType=s,\"add\"==s)this.isStatus=0,this.editStatusAssetsId=0,this.addModal.show();else{if(0==this.isStatus)return!1;this.isDetail=s,this.http.get(this.globalService.getDomain()+\"/api/v1/getAssetsInfo?type=\"+s+\"&assets_id=\"+this.editStatusAssetsId+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(s){return s.json()}).subscribe(function(e){t.assetsInfo=e,200==t.assetsInfo.status?(t.setValue(t.assetsInfo),\"detail\"==s?t.detailModal.show():t.addModal.show()):202==t.assetsInfo.status&&(alert(t.assetsInfo.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"]))})}},s.prototype.deleteAssets=function(s){var t=this;if(this.globalService.demoAlert(\"\",\"\"))return!1;var e=\"\",a=\"\";if(\"id\"==s)a=this.editStatusAssetsId;else if(\"all\"==s){var r=0;if(this.selects.forEach(function(s,t,e){1==s&&(a+=t+\",\",r+=1)}),r<1)return e=\"\\u8bf7\\u786e\\u8ba4\\u5df2\\u9009\\u4e2d\\u9700\\u8981\\u5220\\u9664\\u7684\\u4fe1\\u606f\\uff01\",alert(e),!1}if(e=\"\\u60a8\\u786e\\u5b9a\\u8981\\u5220\\u9664\\u8be5\\u4fe1\\u606f\\u5417\\uff1f\",confirm(e)){var i=this.globalService.getDomain()+\"/api/v1/deleteAssetsById?assets_id=\"+a+\"&assets_status=\"+this.edit_assets_status_default+\"&assets_type=\"+this.edit_assets_type_default+\"&type=\"+s+\"&sid=\"+this.cookieStore.getCookie(\"sid\");this.http.delete(i).map(function(s){return s.json()}).subscribe(function(s){if(t.assetsList=s,202==t.assetsList.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"])),t.assetsList){t.assetsList.result.assetsList.current_page==t.assetsList.result.assetsList.last_page?t.next=!0:t.next=!1,1==t.assetsList.result.assetsList.current_page?t.prev=!0:t.prev=!1,t.selects=[];for(var e=0,a=t.assetsList.result.assetsList.data;e<a.length;e++){var r=a[e];t.selects[r.assets_id]=!1}t.check=!1}})}},s.prototype.isStatusShow=function(s,t,e,a,r,i){var n=this;this.editStatusAssetsId=s,this.isStatus=t,this.pr_u_id=e,this.pr_status=i,this.pr_u_username=a,this.pr_order=r,this.isAll=0,this.width=\"0%\",this.width_1=\"70%\",this.selects.forEach(function(s,t,e){1==s&&(n.selects[t]=!1)})},s.prototype.showAllCheck=function(){0==this.isAll&&(this.isAll=1,this.editStatusAssetsId=0,this.isStatus=0,this.width=\"10%\",this.width_1=\"60%\")},s.prototype.showDetail=function(s){var t=this;this.approval_or_copy=s,setTimeout(function(){t.is_show_detail=\"1\"},500)},s.prototype.getData=function(s){var t=this,e=\"\";\"assign\"==this.approval_or_copy?this.approve_user=JSON.parse(s):\"follower\"==this.approval_or_copy?this.follower_user=JSON.parse(s):\"transfer\"==this.approval_or_copy&&(this.transfer_user=JSON.parse(s),this.transfer_user.forEach(function(s,t,a){e+='\"'+s.id+'\",'}),this.http.post(this.globalService.getDomain()+\"/api/v1/addAssetsLog\",{other_id:this.assets_id,other_table_name:this.log_table_name,log_type:this.log_type,log_operation_type:\"transfer\",log_uid:e,create_user_id:this.assetsInfo.result.u_id,u_id:this.cookieStore.getCookie(\"uid\"),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(s){var e=JSON.parse(s._body);200==e.status?t.detailAssets(\"edit\"):202==e.status?(alert(e.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"])):9999!=e.status&&201!=e.status||alert(e.msg)}))},s.prototype.getShowStatus=function(s){this.is_show_detail=s},s.prototype.removeUser=function(s,t){this.remove_user_ids.push(s);var e=[];\"assign\"==t?(this.approve_user.forEach(function(t,a,r){t.id!=s&&e.push(t)}),this.approve_user=e):\"follower\"==t&&(this.follower_user.forEach(function(t,a,r){t.id!=s&&e.push(t)}),this.follower_user=e)},s.prototype.showModal=function(s,t,e){if(this.operate_type=s,this.operate_button_type=t,\"add\"==e)this.operate_button_type_is_more=\"\";else{this.operate_button_type_is_more=e;var a=[],r=0;this.selects.forEach(function(s,t,e){1==s&&(a[t]=s,r+=1)}),this.selects=a,this.select_count=r}},s.prototype.getOperateTypes=function(s){this.operate_type=\"\",this.operate_button_type=\"\",\"edit\"==this.showType?this.detailAssets(\"edit\"):(this.editStatusAssetsId=0,this.pr_u_id=\"\",this.pr_status=\"\",this.pr_u_username=\"\",this.pr_order=\"\",this.getAssetsList(\"1\"))},s.prototype.smartModEg1=function(){this.notificationService.smartMessageBox({title:\"\\u6dfb\\u52a0\",content:\"\\u8bf7\\u5728\\u65b0\\u9875\\u9762\\u6dfb\\u52a0\\u9009\\u9879\\uff0c\\u6dfb\\u52a0\\u5b8c\\u6210\\u540e\\u5728\\u5f53\\u524d\\u9875\\u9762\\u70b9\\u51fb<i class='fa fa-link'></i>\\u5237\\u65b0\\u6309\\u94ae\\u7ee7\\u7eed\\u9009\\u62e9\\uff08\\u6ce8\\uff1a\\u5237\\u65b0\\u6309\\u94ae\\u53ea\\u662f\\u5c40\\u90e8\\u5237\\u65b0\\uff09\",buttons:\"[\\u53d6\\u6d88][\\u786e\\u5b9a]\"},function(s){})},u([Object(a.ViewChild)(\"addModal\"),p(\"design:type\",n.d)],s.prototype,\"addModal\",void 0),u([Object(a.ViewChild)(\"detailModal\"),p(\"design:type\",n.d)],s.prototype,\"detailModal\",void 0),s=u([Object(a.Component)({selector:\"app-assets-issue\",template:e(\"a8GA\")}),p(\"design:paramtypes\",[l.b,i.c,o.a,c.a,d.a])],s)}(),h=[{path:\"\",component:_}],f=i.d.forChild(h),g=e(\"pvSQ\"),b=e(\"JOm+\"),v=e(\"50Tv\"),m=e(\"pkyk\");e.d(t,\"AssetsIssueModule\",function(){return w});var y=this&&this.__decorate||function(s,t,e,a){var r,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,a);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(i<3?r(n):i>3?r(t,e,n):r(t,e))||n);return i>3&&n&&Object.defineProperty(t,e,n),n},w=function(){function s(){}return s=y([Object(a.NgModule)({imports:[r.CommonModule,g.a,b.a,v.a,m.a,f],declarations:[_]})],s)}()},a8GA:function(s,t){s.exports='<div id=\"content\">\\r\\n\\x3c!--  <div class=\"row\">\\r\\n    <sa-big-breadcrumbs [items]=\"[\\'\\u8d44\\u4ea7\\u7ba1\\u7406\\', \\'\\u8d44\\u4ea7\\u53d1\\u653e\\']\" icon=\"table\" class=\"col-xs-12 col-sm-7 col-md-7 col-lg-4\"></sa-big-breadcrumbs>\\r\\n  </div>--\\x3e\\r\\n  <sa-widgets-grid>\\r\\n    <div class=\"row\">\\r\\n      <article class=\"col-sm-12 \">\\r\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" [colorbutton]=\"false\">\\r\\n          <header>\\r\\n            <span class=\"widget-icon\"> <i class=\"fa fa-table\"></i> </span>\\r\\n            <h2>\\u8d44\\u4ea7\\u53d1\\u653e</h2>\\r\\n          </header>\\r\\n\\r\\n          <div>\\r\\n            <div class=\"widget-body no-padding\" >\\r\\n              <div  class=\"row\">\\r\\n                <article  class=\"col-sm-12\">\\r\\n                  <div class=\"navbar navbar-default\">\\r\\n                    <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n                        <div class=\"form-group pdlr-4\">\\r\\n                          <a class=\"btn btn-success btn-sm\" (click)=\"detailAssets(\\'add\\');\">\\r\\n                            <span class=\"glyphicon glyphicon-plus mr-5\"></span>\\u6dfb\\u52a0</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\">\\r\\n                          <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"detailAssets(\\'edit\\')\">\\r\\n                            <span class=\"glyphicon glyphicon-pencil mr-5 color-yellow\"></span>\\u4fee\\u6539</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\">\\r\\n                          <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"deleteAssets(\\'id\\')\">\\r\\n                            <span class=\"fa-fw fa  fa-trash-o mr-5 color-red\"></span>\\u5220\\u9664</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\">\\r\\n                          <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"detailAssets(\\'detail\\')\">\\r\\n                            <span class=\"glyphicon glyphicon-zoom-in mr-5 color-green\"></span>\\u8be6\\u60c5</a>\\r\\n                        </div>\\r\\n                      <div class=\"form-group pdlr-4\" (click)=\"showModal(\\'operation\\',\\'operation\\',\\'\\')\" *ngIf=\"uid == pr_status\">\\r\\n                        <a class=\"btn default-btn btn-sm\" >\\r\\n                          <span class=\"fa-fw fa fa-stop  mr-5 text-warning\"></span>\\u5ba1\\u6838</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\" (click)=\"showModal(\\'operation\\',\\'cancel\\',\\'\\')\" *ngIf=\"uid == pr_u_id && pr_status != \\'yes\\' && pr_status != \\'no\\' && pr_status != \\'cancel\\'\">\\r\\n                        <a  class=\"btn default-btn btn-sm\" >\\r\\n                          <span class=\"fa-fw fa fa-trash-o mr-5 text-warning\"></span>\\u4f5c\\u5e9f</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\" (click)=\"showModal(\\'operation\\',\\'back_cancel\\',\\'\\')\" *ngIf=\"uid == pr_u_id && pr_status == \\'cancel\\'\">\\r\\n                        <a class=\"btn default-btn btn-sm\" >\\r\\n                          <span class=\"fa-fw fa fa-mail-reply-all mr-5 text-primary\"></span>\\u5f03\\u5e9f</a>\\r\\n                      </div>\\r\\n\\r\\n                        <div class=\"form-group btn-group pdlr-4\">\\r\\n                          <a class=\"btn default-btn btn-sm dropdown-toggle\" (click)=\"showAllCheck()\" data-toggle=\"dropdown\">\\r\\n                            <span class=\"fa-fw fa fa-th-large mr-5 color-red\"></span>\\u6279\\u5904\\u7406<i class=\"fa fa-fw fa-chevron-down\"></i></a>\\r\\n\\r\\n                          <ul class=\"dropdown-menu\" role=\"menu\">\\r\\n                            <li><a (click)=\"showModal(\\'operation\\',\\'operation\\',\\'all\\')\"><span class=\"fa-fw fa  fa-stop  mr-5 text-warning\"></span>\\u6279\\u91cf\\u5ba1\\u6838</a></li>\\r\\n                            <li class=\"divider\"></li>\\r\\n                            <li><a (click)=\"showModal(\\'operation\\',\\'cancel\\',\\'all\\')\"><span class=\"fa-fw fa fa-trash-o mr-5 text-warning\"></span>\\u6279\\u91cf\\u4f5c\\u5e9f</a></li>\\r\\n                            <li><a (click)=\"showModal(\\'operation\\',\\'back_cancel\\',\\'all\\')\"><span class=\"fa-fw fa fa-mail-reply-all mr-5 text-primary\"></span>\\u6279\\u91cf\\u5f03\\u5e9f</a></li>\\r\\n                            <li class=\"divider\"></li>\\r\\n                            <li><a (click)=\"deleteAssets(\\'all\\')\"><span class=\"fa-fw fa  fa-trash-o color-red mr-5\"></span>\\u6279\\u91cf\\u5220\\u9664</a></li>\\r\\n                          </ul>\\r\\n                        </div>\\r\\n\\r\\n                      </form>\\r\\n                    <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <input  class=\"form-control ng-pristine ng-valid ng-touched\" maxlength=\"15\" [(ngModel)]=\"keyword\" name=\"keyword\" placeholder=\"\\u8bf7\\u8f93\\u5165\\u641c\\u7d22\\u5185\\u5bb9\" type=\"text\">\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <button class=\"btn btn-default\" type=\"button\" (click)=\"getAssetsList(1,0)\">\\r\\n                          <i  class=\"glyphicon glyphicon-search\"></i>\\r\\n                          \\u641c\\u7d22\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </form>\\r\\n                  </div>\\r\\n                </article>\\r\\n              </div>\\r\\n\\r\\n              <div style=\"padding:0;\">\\r\\n                <div *ngIf=\"isAll != 0\" [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'2\\',\\'width\\':width,\\'float\\':\\'left\\'}\" class=\"table-scrolling\">\\r\\n                  <table class=\"table table-striped   smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr  >\\r\\n                      <td><label class=\"checkbox mt-8\" >\\r\\n                        <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"check\" (change)=\"changeCheckAll($event)\" >\\r\\n                        <i></i>\\r\\n                      </label>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr   *ngFor=\"let al of assetsList.result?.assetsList?.data\">\\r\\n                      <td >\\r\\n                        <div class=\"\">\\r\\n                          <label class=\"checkbox mt-8\" *ngIf=\"cid != super_admin_id && cid != al.c_id\" >\\r\\n                            <input type=\"checkbox\" name=\"checkbox-inline\" disabled=\"disabled\">\\r\\n                            <i></i>\\r\\n                          </label>\\r\\n                          <label class=\"checkbox mt-8\" *ngIf=\"cid == super_admin_id || cid == al.c_id\" >\\r\\n                            <input type=\"checkbox\" name=\"checkbox-inline\" value=\"{{ al.assets_id }}\" [checked]=\"selects[al.assets_id]\" (change)=\"handle($event)\">\\r\\n                            <i></i>\\r\\n                          </label>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div style=\"padding: 0;z-index: 2;width:30%;float:left;\" class=\"table-scrolling\">\\r\\n                  <table class=\"table table-striped  smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr>\\r\\n                      <th>\\u5ba1\\u6838\\u72b6\\u6001 </th>\\r\\n                      <th>\\u8d44\\u4ea7\\u7f16\\u53f7</th>\\r\\n                      <th>\\u8d44\\u4ea7\\u540d\\u79f0</th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let a of assetsList.result?.assetsList?.data\" (click)=\"isStatusShow(a.assets_id,a.assets_status,a.u_id,a.create_u_username,a.assets_number,a.assets_verify_status)\" [ngClass]=\"{\\'table-color\\':editStatusAssetsId == a.assets_id}\">\\x3c!--class=\"table-color\"--\\x3e\\r\\n                      <td>\\r\\n                        <div>\\r\\n                          <span class=\"label-maintain\" *ngIf=\"a.assets_verify_status != \\'yes\\' && a.assets_verify_status != \\'no\\' && a.assets_verify_status != \\'cancel\\'\">\\u5ba1\\u6838\\u4e2d</span>\\r\\n                          <span class=\"label-normal\" *ngIf=\"a.assets_verify_status == \\'yes\\'\">\\u5df2\\u540c\\u610f</span>\\r\\n                          <span  class=\"label-full\" *ngIf=\"a.assets_verify_status == \\'no\\'\">\\u5df2\\u62d2\\u7edd</span>\\r\\n                          <span  class=\"label-full\" *ngIf=\"a.assets_verify_status == \\'cancel\\'\">\\u5df2\\u4f5c\\u5e9f</span>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <span class=\"click-a\"><a>{{a.assets_number}}</a></span>\\r\\n                      </td>\\r\\n                      <td><span class=\"\">{{a.assets_name}}</span></td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'1\\',\\'width\\':width_1,\\'float\\':\\'left\\'}\" class=\"table-responsive\">\\r\\n                  <table class=\"table table-striped smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr>\\r\\n                      <th>\\u4f7f\\u7528\\u90e8\\u95e8 </th>\\r\\n                      <th>\\u4f7f\\u7528\\u4eba </th>\\r\\n                      <th>\\u53d1\\u653e\\u65e5\\u671f </th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let a1 of assetsList.result?.assetsList?.data\" (click)=\"isStatusShow(a1.assets_id,a1.assets_status,a1.u_id,a1.create_u_username,a1.assets_number,a1.assets_verify_status)\" [ngClass]=\"{\\'table-color\\':editStatusAssetsId == a1.assets_id}\">\\x3c!-- class=\"table-color\"--\\x3e\\r\\n                      <td><span class=\"\">{{a1.department_name}}</span></td>\\r\\n                      <td>{{a1.u_username}}</td>\\r\\n                      <td><span class=\"\">{{a1.assets_date}}</span></td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n              </div>\\r\\n              \\x3c!-- \\u5e95\\u90e8-\\uff08\\u5206\\u9875\\u90e8\\u5206\\uff09--\\x3e\\r\\n              <div class=\"dt-toolbar\">\\r\\n                <div class=\"col-xs-12 col-sm-6\">\\r\\n                  <span>\\u5171{{assetsList.result?.assetsList?.total}}\\u6761</span>\\r\\n                </div>\\r\\n                <div class=\"hidden-xs right\">\\r\\n                  <ul class=\"pagination pagination-sm\">\\r\\n                    <li *ngFor=\"let p of assetsList?.result?.page\" class=\"{{p.class}}\">\\r\\n                      <a (click)=\"pagination(p.value)\" *ngIf=\"p.method==\\'method\\'\">{{p.text}}</a>\\r\\n                      <a *ngIf=\"p.method==\\'\\'\">{{p.text}}</a>\\r\\n                    </li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </article>\\r\\n    </div>\\r\\n  </sa-widgets-grid>\\r\\n</div>\\r\\n\\r\\n<div class=\"modal fade bg-transparent\" bsModal #addModal=\"bs-modal\">\\r\\n  <div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content\">\\r\\n      <div class=\"modal-header\">\\r\\n        \\x3c!-- \\u5173\\u95ed\\u6309\\u94ae --\\x3e\\r\\n        <button type=\"button\" class=\"close\" (click)=\"clear_(\\'add\\')\">\\xd7</button>\\r\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\r\\n        <h3 class=\"modal-title txt-color-blue\" data-ng-bind=\\'results.title\\' *ngIf=\"editStatusAssetsId == 0\"><i class=\"fa-fw fa fa-plus\"></i>\\u6dfb\\u52a0\\u8d44\\u4ea7\\u53d1\\u653e</h3>\\r\\n         <h3 class=\"modal-title   color-yellow\" data-ng-bind=\\'results.title\\' *ngIf=\"editStatusAssetsId != 0\"><i class=\"glyphicon glyphicon-pencil\"></i>\\u4fee\\u6539\\u8d44\\u4ea7\\u53d1\\u653e</h3>\\r\\n      </div>\\r\\n      <div class=\"modal-body  height-overflow-380\">\\r\\n        <div class=\"row mt-20\">\\r\\n          <form class=\"smart-form \">\\r\\n            <fieldset>\\r\\n              <div class=\"picture-opacity\" style=\"left: -24px; top: 38px;position: absolute;z-index: 999;\">\\r\\n                \\x3c!--\\u540c\\u610f--\\x3e\\r\\n                <img src=\"assets/img/chapter1.png\" *ngIf=\"assetsInfo?.result?.assets_verify_status == \\'yes\\'\">\\r\\n                \\x3c!--\\u62d2\\u7edd--\\x3e\\r\\n                <img src=\"assets/img/chapter2.png\" *ngIf=\"assetsInfo?.result?.assets_verify_status == \\'no\\'\">\\r\\n                \\x3c!--\\u4f5c\\u5e9f--\\x3e\\r\\n                <img src=\"assets/img/chapter4.png\" *ngIf=\"assetsInfo?.result?.assets_verify_status == \\'cancel\\'\">\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label txt-color-blue\">\\u8d44\\u4ea7<span class=\"asterisk-color\">*</span></label>\\r\\n                  <label class=\"select\" *ngIf=\"editStatusAssetsId == 0\">\\r\\n                    <select name=\"assets_id\" [(ngModel)]=\"assets_id\">\\r\\n                      <option value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                      <option value=\"{{a.assets_id}}\" [selected]=\"assetsInfo?.result?.assets_id == a.assets_id\" *ngFor=\"let a of assetsDefault?.result?.assetsList\">{{a.assets_name}}</option>\\r\\n                    </select>\\r\\n                    <i></i>\\r\\n                  </label>\\r\\n                <label class=\"input\" *ngIf=\"editStatusAssetsId != 0\">\\r\\n                    <input type=\"text\" disabled=\"disabled\" name=\"assets_name\" [(ngModel)]=\"assets_name\">\\r\\n                </label>\\r\\n                </section>\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label txt-color-blue\">\\u53d1\\u653e\\u65e5\\u671f<span class=\"asterisk-color\">*</span></label>\\r\\n                  <label class=\"input\">\\r\\n                    <input type=\"date\" name=\"assets_date\" [(ngModel)]=\"assets_date\">\\r\\n                  </label>\\r\\n                </section>\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <label class=\"label \">\\u4f7f\\u7528\\u90e8\\u95e8</label>\\r\\n                <section >\\r\\n                  <div class=\"input-group\">\\r\\n                    <label class=\"select\">\\r\\n                      <select name=\"assets_department_id\" [(ngModel)]=\"assets_department_id\" (change)=\"geteUserList($event,1)\">\\r\\n                        <option value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                        <option value=\"{{p.department_id}}\" [selected]=\"assetsInfo?.result?.assets_department_id == p.department_id\" *ngFor=\"let p of assetsDefault?.result?.department\">{{p.department_name}}</option>\\r\\n                      </select>\\r\\n                      <i></i> </label>\\r\\n                    <div class=\"input-group-btn\">\\r\\n                      <a  href=\"http://cn.i3ot.com/#/management/setting-departmentnew\" target=\"_blank\" (click)=\"smartModEg1()\" class=\"btn btn-default btn-sm pb-6\" type=\"button\">\\u6dfb\\u52a0</a>\\r\\n                      <a class=\"btn btn-default btn-sm pb-6\" type=\"button\" (click)=\"getAssetsListDefault(1)\"><i class=\"fa fa-link\"></i>\\u5237\\u65b0</a>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </section>\\r\\n              </div>\\r\\n                <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                    <section>\\r\\n                        <label class=\"label \">\\u4f7f\\u7528\\u4eba</label>\\r\\n                        <label class=\"select\">\\r\\n                            <select name=\"assets_user_id\" [(ngModel)]=\"assets_user_id\">\\r\\n                                <option value=\"0\" [selected]=\"assets_id == 0\">&#45;&#45;\\u8bf7\\u9009\\u62e9&#45;&#45;</option>\\r\\n                                <option value=\"{{u.id}}\" [selected]=\"assetsInfo?.result?.assets_user_id == u.id\" *ngFor=\"let u of userList?.result?.userList\">{{u.u_username}}</option>\\r\\n                            </select>\\r\\n                            <i></i> </label>\\r\\n                    </section>\\r\\n                </div>\\r\\n              <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u8bf4\\u660e</label>\\r\\n                  <label class=\"textarea textarea-resizable\">\\r\\n                    <textarea class=\"custom-scroll\" rows=\"2\" name=\"assets_use_note\" [(ngModel)]=\"assets_use_note\"></textarea>\\r\\n                  </label>\\r\\n                </section>\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\r\\n                <div class=\"label \">\\u5ba1\\u6279\\u4eba<a *ngIf=\"assetsInfo?.result?.assets_verify_status != \\'no\\' && assetsInfo?.result?.assets_verify_status != \\'yes\\' && assetsInfo?.result?.assets_verify_status != \\'cancel\\'\" class=\"txt-color-blue pd-10\" (click)=\"showDetail(\\'assign\\')\">\\u6dfb\\u52a0\\u5ba1\\u6279\\u4eba</a></div>\\r\\n                <ul  class=\"avatars\" *ngIf=\"approve_user\">\\r\\n                  <li *ngFor=\"let su of approve_user;let ind = index;\">\\r\\n                    <a *ngIf=\"isDetail!=\\'detail\\'\" class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su.id,\\'assign\\')\"></a>\\r\\n                    <a class=\"portrait-size\" title=\"{{su.u_username}}\">\\r\\n                      {{su.u_username}}\\r\\n                    </a>\\r\\n                    <div class=\"approval-arrow\" *ngIf=\"ind < approve_user.length && ind != 0\" >\\r\\n                      <img src=\"assets/img/icon/arrow.png\" >\\r\\n                    </div>\\r\\n                  </li>\\r\\n                </ul>\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\r\\n                <div class=\"label \">\\u6284\\u9001\\u4eba<a *ngIf=\"assetsInfo?.result?.assets_verify_status != \\'no\\' && assetsInfo?.result?.assets_verify_status != \\'yes\\' && assetsInfo?.result?.assets_verify_status != \\'cancel\\'\" class=\"txt-color-blue pd-10\" (click)=\"showDetail(\\'follower\\')\">\\u6dfb\\u52a0\\u6284\\u9001\\u4eba</a><span class=\"txt-color-blueLight pd-10\">(\\u5ba1\\u6279\\u901a\\u8fc7\\u540e\\uff0c\\u901a\\u77e5\\u6284\\u9001\\u4eba)</span></div>\\r\\n                <ul  class=\"avatars\" *ngIf=\"follower_user\">\\r\\n                  <li *ngFor=\"let su1 of follower_user;let ind1 = index;\">\\r\\n                    <a *ngIf=\"isDetail!=\\'detail\\'\" class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su1.id,\\'follower\\')\"></a>\\r\\n                    <a class=\"portrait-size\" title=\"{{su1.u_username}}\">\\r\\n                      {{su1.u_username}}\\r\\n                    </a>\\r\\n                  </li>\\r\\n                </ul>\\r\\n              </div>\\r\\n            </fieldset>\\r\\n          </form>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"modal-footer\">\\r\\n        <button type=\"button\" class=\"btn btn-primary\"  (click)=\"showDetail(\\'transfer\\')\" *ngIf=\"uid == assetsInfo?.result?.assets_verify_status\">\\r\\n          \\u8f6c\\u4ea4\\r\\n        </button>\\r\\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"showModal(\\'urge\\',\\'urge\\',\\'add\\')\" *ngIf=\"uid == assetsInfo?.result?.u_id && assetsInfo?.result?.assets_verify_status != \\'yes\\' && assetsInfo?.result?.assets_verify_status != \\'no\\' && assetsInfo?.result?.assets_verify_status != \\'cancel\\'\">\\r\\n          \\u50ac\\u529e\\r\\n        </button>\\r\\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"showModal(\\'operation\\',\\'back_cancel\\',\\'add\\')\" *ngIf=\"uid == assetsInfo?.result?.u_id && assetsInfo?.result?.assets_verify_status == \\'cancel\\'\">\\r\\n          \\u5f03\\u5e9f\\r\\n        </button>\\r\\n        <button type=\"button\" class=\"btn btn-warning\"  (click)=\"showModal(\\'operation\\',\\'cancel\\',\\'add\\')\" *ngIf=\"uid == assetsInfo?.result?.u_id && assetsInfo?.result?.assets_verify_status != \\'yes\\' && assetsInfo?.result?.assets_verify_status != \\'no\\' && assetsInfo?.result?.assets_verify_status != \\'cancel\\'\">\\r\\n          \\u4f5c\\u5e9f\\r\\n        </button>\\r\\n        <button type=\"button\" class=\"btn btn-warning\" (click)=\"showModal(\\'operation\\',\\'operation\\',\\'add\\')\" *ngIf=\"uid == assetsInfo?.result?.assets_verify_status\">\\r\\n          \\u5ba1\\u6838\\r\\n        </button>\\r\\n        <button *ngIf=\"assets_id==0\" type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\">\\u4fdd\\u5b58</button>\\r\\n        <button *ngIf=\"assets_id!=0 && assetsInfo?.result?.assets_verify_status != \\'no\\' && assetsInfo?.result?.assets_verify_status != \\'yes\\' && assetsInfo?.result?.assets_verify_status != \\'cancel\\'\" type=\"submit\" class=\"btn btn-primary\">\\u4fee\\u6539</button>\\r\\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"clear_(\\'add\\')\">\\u8fd4\\u56de</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\"modal fade bg-transparent\" bsModal #detailModal=\"bs-modal\">\\r\\n  <div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content\">\\r\\n      <div class=\"modal-header\">\\r\\n        \\x3c!-- \\u5173\\u95ed\\u6309\\u94ae --\\x3e\\r\\n        <button type=\"button\" class=\"close\" (click)=\"clear_(\\'detail\\')\">\\xd7</button>\\r\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\r\\n        <h3 class=\"modal-title\" data-ng-bind=\\'results.title\\'></h3>\\r\\n        <h4 class=\"modal-title\">{{assetsInfo?.result?.assets_name}}-{{assetsInfo?.result?.assets_number}}</h4>\\r\\n      </div>\\r\\n      <div class=\"modal-body height-overflow-380\">\\r\\n        <div class=\"row \">\\r\\n          <div class=\"col-sm-12\">\\r\\n            <div class=\"picture-opacity\" style=\"left: -24px; top: 38px;position: absolute;z-index: 999;\">\\r\\n              \\x3c!--\\u540c\\u610f--\\x3e\\r\\n              <img src=\"assets/img/chapter1.png\" *ngIf=\"assetsInfo?.result?.assets_verify_status == \\'yes\\'\">\\r\\n              \\x3c!--\\u62d2\\u7edd--\\x3e\\r\\n              <img src=\"assets/img/chapter2.png\" *ngIf=\"assetsInfo?.result?.assets_verify_status == \\'no\\'\">\\r\\n              \\x3c!--\\u4f5c\\u5e9f--\\x3e\\r\\n              <img src=\"assets/img/chapter4.png\" *ngIf=\"assetsInfo?.result?.assets_verify_status == \\'cancel\\'\">\\r\\n            </div>\\r\\n            <div class=\"\" >\\r\\n              <P class=\"alert alert-info\">\\u57fa\\u672c\\u4fe1\\u606f</P>\\r\\n              <table class=\"table table-striped table-forum\">\\r\\n                <tbody>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u8d44\\u4ea7:</td>\\r\\n                  <td class=\"\">{{assetsInfo?.result?.assets_name}}</td>\\r\\n                  <td class=\"width-120\">\\u4f7f\\u7528\\u4eba:</td>\\r\\n                  <td >{{assetsInfo?.result?.u_username}} </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u53d1\\u653e\\u65e5\\u671f:</td>\\r\\n                  <td class=\"\">{{assetsInfo?.result?.assets_date}}</td>\\r\\n                  <td class=\"width-120\">\\u4f7f\\u7528\\u90e8\\u95e8\\uff1a</td>\\r\\n                  <td class=\"\">{{assetsInfo?.result?.department_name}}</td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u8bf4\\u660e:</td>\\r\\n                  <td class=\"\" colspan=\"3\">{{assetsInfo?.result?.assets_use_note}}</td>\\r\\n                </tr>\\r\\n                </tbody>\\r\\n              </table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"modal-footer\">\\r\\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"clear_(\\'detail\\')\">\\u8fd4\\u56de</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<app-select-user (approve_users)=\"getData($event)\" [is_show_detail]=\"is_show_detail\" (is_show_details)=\"getShowStatus($event)\" [approval_or_copy]=\"approval_or_copy\" *ngIf=\"is_show_detail\"></app-select-user>\\r\\n<app-verify-frame [log_type]=\"log_type\" [log_table_name]=\"log_table_name\" [select_count]=\"select_count\" [selects]=\"selects\" [operate_type]=\"operate_type\" [username]=\"pr_u_username\" [order_number]=\"pr_order\" [pr_id]=\"editStatusAssetsId\" [create_user_id]=\"pr_u_id\" [operate_button_type]=\"operate_button_type\" [operate_button_type_is_more]=\"operate_button_type_is_more\"  (operate_types)=\"getOperateTypes($event)\" *ngIf=\"operate_type\"></app-verify-frame>\\r\\n\\r\\n'}});","extractedComments":[]}