{"code":"webpackJsonp([32],{ZvoA:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=s(\"WT6e\"),i=s(\"Xjw4\"),l=s(\"bfOx\"),o=s(\"NOoU\"),a=s(\"ntJC\"),n=s(\"R12H\"),c=s(\"OMJi\"),d=s(\"Exih\"),p=this&&this.__decorate||function(t,e,s,r){var i,l=arguments.length,o=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(l<3?i(o):l>3?i(e,s,o):i(e,s))||o);return l>3&&o&&Object.defineProperty(e,s,o),o},u=this&&this.__metadata||function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e,s,r){this.http=t,this.router=e,this.cookieStore=s,this.globalService=r,this.productDefault=[],this.addProductDefault=[],this.productList=[],this.productInfo=[],this.selects=[],this.check=!1,this.datePickerConfig={locale:\"zh-CN\",format:\"YYYY-MM-DD\",enableMonthSelector:!0,showMultipleYearsNavigation:!0},this.prev=!1,this.next=!1,this.p_id=0,this.p_product_id=\"\",this.p_name=\"\",this.p_category_id=\"0\",this.p_type=3,this.p_quantity=0,this.p_unit=\"\",this.p_cost_price=\"0\",this.p_sales_price=\"0\",this.p_storage_time=\"\",this.p_notes=\"\",this.assets_type=4,this.last_product_id=0,this.select_category_ids=[],this.showUl=1,this.showUlChild=0,this.editStatusProductId=0,this.isStatus=0,this.isAll=0,this.width=\"0%\",this.width_1=\"80%\",this.isDetail=\"\",this.keyword=\"\",this.cid=0,this.super_admin_id=0,this.category_type=6,this.rollback_url=\"/medical/medical-commodity\";this.globalService.navEventEmitter.emit('{\"title\":\"\\u5546\\u54c1\\u5165\\u5e93\\u7ba1\\u7406\",\"url\":\"/medical/medical-commodity\",\"class_\":\"active\"}'),window.scrollTo(0,0),this.super_admin_id=this.globalService.getAdminID(),this.cid=this.cookieStore.getCookie(\"cid\"),this.getProductDefault()}return t.prototype.ngOnInit=function(){},t.prototype.getProductDefault=function(){var t=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getProductDefault?type=list&p_type=\"+this.p_type+\"&category_type=\"+this.category_type+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(t){return t.json()}).subscribe(function(e){t.productDefault=e,console.log(t.productDefault),202==t.productDefault.status&&(alert(t.productDefault.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"])),t.select_category_ids[0]=!0,t.productDefault.result.categoryList.forEach(function(e,s,r){t.select_category_ids[e.category_id]=!0,e.has_child>=1&&e.child.forEach(function(e,s,r){t.select_category_ids[e.category_id]=!0})});var s=\"\";t.select_category_ids.forEach(function(t,e,r){1==t&&(s+=e+\",\")}),t.getProductList(\"1\",s)})},t.prototype.getProductList=function(t,e){var s=this,r=this.globalService.getDomain()+\"/api/v1/getProductList?p_type=\"+this.p_type+\"&page=\"+t+\"&sid=\"+this.cookieStore.getCookie(\"sid\");if(\"\"!=this.keyword.trim()&&(r+=\"&keyword=\"+this.keyword.trim()),0!=e)r+=\"&category_ids=\"+e;else{var i=\"\";this.select_category_ids.forEach(function(t,e,s){1==t&&(i+=e+\",\")}),r+=\"&category_ids=\"+i}this.http.get(r).map(function(t){return t.json()}).subscribe(function(t){if(s.productList=t,console.log(s.productList),202==s.productList.status&&(s.cookieStore.removeAll(s.rollback_url),s.router.navigate([\"/auth/login\"])),s.productList.length>0){s.productList.result.productList.current_page==s.productList.result.productList.last_page?s.next=!0:s.next=!1,1==s.productList.result.productList.current_page?s.prev=!0:s.prev=!1,s.selects=[];for(var e=0,r=s.productList.result.productList.data;e<r.length;e++){var i=r[e];s.selects[i.p_id]=!1}s.check=!1}})},t.prototype.getAddProductDefault=function(t){var e=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getProductDefault?type=add&p_type=\"+this.p_type+\"&category_type=\"+this.category_type+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(t){return t.json()}).subscribe(function(s){e.addProductDefault=s,console.log(e.addProductDefault),202==e.addProductDefault.status&&(alert(e.addProductDefault.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),0==t&&(e.editStatusProductId=0,e.lgModal.show())})},t.prototype.pagination=function(t){this.page=t,this.getProductList(this.page,0)},t.prototype.changeCheckAll=function(t){var e=this,s=t.target.checked;this.selects.forEach(function(t,r,i){e.selects[r]=s}),this.check=s},t.prototype.handle=function(t){var e=t.target,s=e.value,r=e.checked;this.selects[s]=r;for(var i=0,l=0,o=this.selects;l<o.length;l++){0==o[l]&&(i+=1)}this.check=!(i>=1)},t.prototype.onSubmit=function(){var t=this;if(\"\"==this.p_name.trim())return alert(\"\\u8bf7\\u8f93\\u5165\\u540d\\u79f0\\uff01\"),!1;var e=\"\";this.select_category_ids.forEach(function(t,s,r){1==t&&(e+=s+\",\")}),this.http.post(this.globalService.getDomain()+\"/api/v1/addProduct\",{p_id:this.p_id,product_id:this.p_product_id,name:this.p_name,category_id:this.p_category_id,unit:this.p_unit,notes:this.p_notes,p_type:this.p_type,quantity:this.p_quantity,p_cost_price:this.p_cost_price,p_sales_price:this.p_sales_price,storage_time:this.p_storage_time,category_ids:e,u_id:this.cookieStore.getCookie(\"uid\"),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(e){var s=JSON.parse(e._body);if(console.log(s.status),201==s.status)return alert(s.msg),!1;if(200==s.status){if(t.productList=s,t.last_product_id=s.msg,t.productList){t.productList.result.productList.current_page==t.productList.result.productList.last_page?t.next=!0:t.next=!1,1==t.productList.result.productList.current_page?t.prev=!0:t.prev=!1,t.selects=[];for(var r=0,i=t.productList.result.productList.data;r<i.length;r++){var l=i[r];t.selects[l.p_id]=!1}t.check=!1}0==t.p_id&&t.http.post(t.globalService.getDomain()+\"/api/v1/addAssets\",{p_id:t.last_product_id,assets_name:t.p_name,assets_number:t.p_product_id,category_type_ids:t.p_category_id,assets_count:t.p_quantity,assets_unit:t.p_unit,assets_price:t.p_sales_price,assets_buy_date:t.p_storage_time,assets_status:1,assets_type:t.assets_type,assets_note:t.p_notes,u_id:t.cookieStore.getCookie(\"uid\"),sid:t.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var e=JSON.parse(t._body);if(201==e.status)return alert(e.msg),!1}),t.clear_(),t.lgModal.hide()}else 202==s.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"]))})},t.prototype.clear_=function(){this.p_id=0,this.p_product_id=\"\",this.p_name=\"\",this.p_category_id=\"0\",this.p_unit=\"\",this.p_notes=\"\",this.p_quantity=0,this.p_cost_price=\"0\",this.p_sales_price=\"0\",this.p_storage_time=\"\"},t.prototype.setValue=function(t){this.p_id=t.result.p_id,this.p_product_id=t.result.p_product_id,this.p_name=t.result.p_name,this.p_category_id=t.result.p_category_id,this.p_type=3,this.p_unit=t.result.p_unit,this.p_quantity=t.result.p_quantity,this.p_notes=t.result.p_notes,this.p_cost_price=t.result.p_cost_price,this.p_sales_price=t.result.p_sales_price,this.p_storage_time=t.result.p_storage_time},t.prototype.detailProduct=function(t){var e=this;if(0==this.isStatus)return!1;this.getAddProductDefault(1),this.isDetail=t,this.lgModal.show(),this.http.get(this.globalService.getDomain()+\"/api/v1/getProductInfo?p_id=\"+this.editStatusProductId+\"&p_type=\"+this.p_type+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(t){return t.json()}).subscribe(function(t){e.productInfo=t,200==e.productInfo.status?e.setValue(e.productInfo):202==e.productInfo.status&&(alert(e.productInfo.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"]))})},t.prototype.deleteProduct=function(t){var e=this;if(this.globalService.demoAlert(\"\",\"\"))return!1;var s=\"\",r=\"\";if(\"id\"==t)r=this.editStatusProductId;else if(\"all\"==t){var i=0;if(this.selects.forEach(function(t,e,s){1==t&&(r+=e+\",\",i+=1)}),i<1)return s=\"\\u8bf7\\u786e\\u8ba4\\u5df2\\u9009\\u4e2d\\u9700\\u8981\\u5220\\u9664\\u7684\\u4fe1\\u606f\\uff01\",alert(s),!1}var l=\"\";if(this.select_category_ids.forEach(function(t,e,s){1==t&&(l+=e+\",\")}),s=\"\\u60a8\\u786e\\u5b9a\\u8981\\u5220\\u9664\\u8be5\\u4fe1\\u606f\\u5417\\uff1f\",confirm(s)){var o=this.globalService.getDomain()+\"/api/v1/deleteProductById?p_id=\"+r+\"&category_ids=\"+l+\"&p_type=\"+this.p_type+\"&type=\"+t+\"&sid=\"+this.cookieStore.getCookie(\"sid\");this.http.delete(o).map(function(t){return t.json()}).subscribe(function(t){if(e.productList=t,202==e.productList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.productList){e.productList.result.productList.current_page==e.productList.result.productList.last_page?e.next=!0:e.next=!1,1==e.productList.result.productList.current_page?e.prev=!0:e.prev=!1,e.selects=[];for(var s=0,r=e.productList.result.productList.data;s<r.length;s++){var i=r[s];e.selects[i.p_id]=!1}e.check=!1}})}},t.prototype.selectDepartment=function(t,e,s,r){var i=this;if(1==r)1==this.select_category_ids[t]?(this.productDefault.result.categoryList[e]&&this.productDefault.result.categoryList[e].child_count>=1&&this.productDefault.result.categoryList[e].child.forEach(function(t,e,s){i.select_category_ids[t.category_id]=!1}),this.select_category_ids[t]=!1):(this.select_category_ids[t]=!0,this.productDefault.result.categoryList[e]&&(console.log(this.productDefault.result.categoryList[e].child_count),this.productDefault.result.categoryList[e].child_count>=1&&this.productDefault.result.categoryList[e].child.forEach(function(t,e,s){console.log(t.category_id),i.select_category_ids[t.category_id]=!0})));else if(1!=r)if(1==this.select_category_ids[t])this.select_category_ids[r]=!1,this.select_category_ids[t]=!1;else{this.select_category_ids[t]=!0;var l=0;this.productDefault.result.categoryList[e]&&this.productDefault.result.categoryList[e].child_count>=1&&this.productDefault.result.categoryList[e].child.forEach(function(t,e,s){(0==i.select_category_ids[t.category_id]||Object(c.isUndefined)(i.select_category_ids[t.category_id]))&&l++}),0==l&&(this.select_category_ids[r]=!0)}var o=\"\";this.select_category_ids.forEach(function(t,e,s){1==t&&(o+=e+\",\")}),this.editStatusProductId=0,this.isStatus=0,this.getProductList(\"1\",o)},t.prototype.isStatusShow=function(t,e){var s=this;this.editStatusProductId=t,this.isStatus=e,this.isAll=0,this.width=\"0%\",this.width_1=\"80%\",this.selects.forEach(function(t,e,r){1==t&&(s.selects[e]=!1)})},t.prototype.editStatus=function(t,e){var s=this,r=\"\";\"all\"==e?this.selects.forEach(function(t,e,s){1==t&&(r+=e+\",\")}):r=this.editStatusProductId;var i=\"\";if(this.select_category_ids.forEach(function(t,e,s){1==t&&(i+=e+\",\")}),!r)return alert(\"\\u8bf7\\u786e\\u4fdd\\u5df2\\u9009\\u4e2d\\u9700\\u8981\\u64cd\\u4f5c\\u7684\\u9879\\uff01\"),!1;this.http.post(this.globalService.getDomain()+\"/api/v1/addProduct\",{p_id:r,p_status:t,type:e,p_type:this.p_type,category_ids:i,keyword:this.keyword.trim(),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var e=JSON.parse(t._body);if(alert(e.msg),200==e.status){if(s.productList=e,s.productList){s.productList.result.productList.current_page==s.productList.result.productList.last_page?s.next=!0:s.next=!1,1==s.productList.result.productList.current_page?s.prev=!0:s.prev=!1,s.selects=[];for(var r=0,i=s.productList.result.productList.data;r<i.length;r++){var l=i[r];s.selects[l.p_id]=!1}s.check=!1}}else 202==e.status&&(s.cookieStore.removeAll(s.rollback_url),s.router.navigate([\"/auth/login\"]));s.editStatusProductId=0,s.isStatus=0})},t.prototype.showAllCheck=function(){0==this.isAll&&(this.isAll=1,this.editStatusProductId=0,this.isStatus=0,this.width=\"10%\",this.width_1=\"70%\")},t.prototype.selectCategoryAll=function(){var t=this;1==this.select_category_ids[0]?(this.select_category_ids[0]=!1,this.productDefault.result.categoryList.forEach(function(e,s,r){t.select_category_ids[e.category_id]=!1,e.has_child>=1&&e.child.forEach(function(e,s,r){t.select_category_ids[e.category_id]=!1})})):(this.select_category_ids[0]=!0,this.productDefault.result.categoryList.forEach(function(e,s,r){t.select_category_ids[e.category_id]=!0,e.has_child>=1&&e.child.forEach(function(e,s,r){t.select_category_ids[e.category_id]=!0})}));var e=\"\";this.select_category_ids.forEach(function(t,s,r){1==t&&(e+=s+\",\")}),this.getProductList(\"1\",e)},t.prototype.showLeftUl=function(t){this.showUl=t},t.prototype.showLeftUlChild=function(t){this.showUlChild=t},p([Object(r.ViewChild)(\"lgModal\"),u(\"design:type\",d.d)],t.prototype,\"lgModal\",void 0),p([Object(r.ViewChild)(\"detailModal\"),u(\"design:type\",d.d)],t.prototype,\"detailModal\",void 0),t=p([Object(r.Component)({selector:\"app-medical-commodity\",template:s(\"hpir\")}),u(\"design:paramtypes\",[o.b,l.c,a.a,n.a])],t)}(),g=[{path:\"\",component:h}],_=l.d.forChild(g),f=s(\"pvSQ\"),b=s(\"JOm+\"),y=s(\"jfyD\"),m=s(\"7DMc\"),v=s(\"SSMX\");s.d(e,\"MedicalCommodityModule\",function(){return w});var k=this&&this.__decorate||function(t,e,s,r){var i,l=arguments.length,o=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(l<3?i(o):l>3?i(e,s,o):i(e,s))||o);return l>3&&o&&Object.defineProperty(e,s,o),o},w=function(){function t(){}return t=k([Object(r.NgModule)({imports:[i.CommonModule,f.a,b.a,m.b,m.f,v.a,_],declarations:[h],providers:[y.CookieService,a.a]})],t)}()},hpir:function(t,e){t.exports='<div id=\"content\">\\r\\n  <sa-widgets-grid>\\r\\n    <div class=\"row\">\\r\\n      <article class=\"col-sm-12 \">\\r\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" [colorbutton]=\"false\">\\r\\n          <header>\\r\\n            <span class=\"widget-icon\"> <i class=\"fa fa-table\"></i> </span>\\r\\n            <h2>\\u5546\\u54c1\\u5165\\u5e93\\u7ba1\\u7406</h2>\\r\\n          </header>\\r\\n          <div>\\r\\n            <div class=\"widget-body no-padding\" >\\r\\n              <div  class=\"row\">\\r\\n                <article  class=\"col-sm-12\">\\r\\n                  <div class=\"navbar navbar-default\">\\r\\n                    <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a class=\"btn btn-success btn-sm\" (click)=\"getAddProductDefault(0);\">\\r\\n                          <span class=\"glyphicon glyphicon-plus mr-5\"></span>\\u6dfb\\u52a0</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"detailProduct(\\'edit\\')\">\\r\\n                          <span class=\"glyphicon glyphicon-pencil mr-5 color-yellow\"></span>\\u4fee\\u6539</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\"  (click)=\"deleteProduct(\\'id\\')\" >\\r\\n                          <span class=\"fa-fw fa  fa-trash-o mr-5 color-red\"></span>\\u5220\\u9664</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"detailProduct(\\'detail\\')\">\\r\\n                          <span class=\"glyphicon glyphicon-zoom-in mr-5 color-green\"></span>\\u8be6\\u60c5</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group btn-group pdlr-4\">\\r\\n                        <a class=\"btn default-btn btn-sm dropdown-toggle\" (click)=\"showAllCheck()\" data-toggle=\"dropdown\">\\r\\n                          <span class=\"fa-fw fa fa-th-large mr-5 color-red\"></span>\\u6279\\u5904\\u7406<i class=\"fa fa-fw fa-chevron-down\"></i></a>\\r\\n\\r\\n                        <ul class=\"dropdown-menu\" role=\"menu\">\\r\\n                          <li><a (click)=\"deleteProduct(\\'all\\')\"><span class=\"fa-fw fa  fa-trash-o color-red mr-5\"></span>\\u6279\\u91cf\\u5220\\u9664</a></li>\\r\\n                        </ul>\\r\\n                      </div>\\r\\n                    </form>\\r\\n                    <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <input  class=\"form-control ng-pristine ng-valid ng-touched\" maxlength=\"15\" [(ngModel)]=\"keyword\"  name=\"keyword\" placeholder=\"\\u8bf7\\u8f93\\u5165\\u641c\\u7d22\\u5185\\u5bb9\" type=\"text\">\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <button class=\"btn btn-default\" type=\"button\" (click)=\"getProductList(1,0)\">\\r\\n                          <i  class=\"glyphicon glyphicon-search\"></i>\\r\\n                          \\u641c\\u7d22\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </form>\\r\\n\\r\\n                  </div>\\r\\n                </article>\\r\\n              </div>\\r\\n\\r\\n\\r\\n              <div class=\"pt\">\\r\\n                <article class=\"form-group col col-xs-4\">\\r\\n                  <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\r\\n                             [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\r\\n                    <div>\\r\\n                      <div class=\"widget-body no-padding\">\\r\\n                        <alert type=\"info\" class=\"no-margin\">\\r\\n                          <i class=\"fa-fw fa fa-sitemap\"></i>\\r\\n                          \\u5546\\u54c1\\u5206\\u7c7b\\r\\n                        </alert>\\r\\n                        <div class=\"pd-10\">\\r\\n                          <div class=\"widget-body\">\\r\\n                            <div class=\"tree smart-form\">\\r\\n                              <ul class=\"\">\\r\\n                                <li class=\" parent_li\">\\r\\n                                  <span><label class=\"checkbox inline-block tree-label pt-12 \">\\r\\n                                          <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_category_ids[0]\" (click)=\"selectCategoryAll()\"><i></i>\\r\\n                                        </label>\\r\\n                                    <i class=\"fa fa-lg fa-folder-open\"></i>\\u5168\\u90e8\\r\\n                                    <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUl == 0\" (click)=\"showLeftUl(1)\"></i>\\r\\n                                    <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUl == 1\" (click)=\"showLeftUl(0)\"></i>\\r\\n                                  </span>\\r\\n                                  <ul class=\"\" *ngIf=\"showUl == 1\">\\r\\n                                    <li class=\" parent_li\" *ngFor=\"let c of productDefault?.result?.categoryList;let ind = index;\">\\r\\n                                    <span>\\r\\n                                      <label class=\"checkbox inline-block tree-label \">\\r\\n                                        <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_category_ids[c.category_id]\" (click)=\"selectDepartment(c.category_id,ind,0,1)\">\\r\\n                                        <i></i>{{c.category_desc}}\\r\\n                                        <em class=\"txt-color-blue\">({{c.child_count}})</em>\\r\\n                                      </label>\\r\\n                                      <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUlChild == c.category_id && c.has_child != 0\" (click)=\"showLeftUlChild(0)\"></i>\\r\\n                                      <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUlChild != c.category_id && c.has_child != 0\" (click)=\"showLeftUlChild(c.category_id)\"></i>\\r\\n                                    </span>\\r\\n                                      <ul class=\"\" *ngIf=\"showUlChild == c.category_id\">\\r\\n                                        <li *ngFor=\"let dc of c.child;let indChild = index;\">\\r\\n                                        <span>\\r\\n                                          <label class=\"checkbox inline-block tree-label\">\\r\\n                                            <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_category_ids[c.category_id] || select_category_ids[dc.category_id]\" (click)=\"selectDepartment(dc.category_id,ind,indChild,c.category_id)\">\\r\\n                                            <i></i>{{dc.category_desc}}\\r\\n                                            <em class=\"txt-color-blue\">({{dc.child_count}})</em>\\r\\n                                          </label>\\r\\n                                        </span>\\r\\n                                        </li>\\r\\n                                      </ul>\\r\\n                                    </li>\\r\\n                                  </ul>\\r\\n                                </li>\\r\\n                              </ul>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </sa-widget>\\r\\n                </article>\\r\\n                <article class=\"form-group col col-xs-8\">\\r\\n                  <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\r\\n                             [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\r\\n                    <div>\\r\\n                      <div class=\"widget-body no-padding\">\\r\\n                        <alert type=\"info\" class=\"no-margin\" >\\r\\n                          <i class=\"fa-fw fa fa-table\"></i>\\r\\n                          \\u5546\\u54c1\\u5217\\u8868\\r\\n                        </alert>\\r\\n                        <div class=\"mt-10\" style=\"padding:0;\">\\r\\n                          <div *ngIf=\"isAll != 0\" [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'2\\',\\'width\\':width,\\'float\\':\\'left\\'}\" class=\"table-scrolling\">\\r\\n                            <table class=\"table table-striped smart-form\">\\r\\n                              <thead>\\r\\n                              <tr style=\"height: 37px;\">\\r\\n                                <td><label class=\"checkbox \" >\\r\\n                                  <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"check\" (change)=\"changeCheckAll($event)\" >\\r\\n                                  <i></i>\\r\\n                                </label>\\r\\n                                </td>\\r\\n                              </tr>\\r\\n                              </thead>\\r\\n                              <tbody>\\r\\n                              <tr style=\"height: 35px;\" *ngFor=\"let p of productList.result?.productList?.data\">\\r\\n                                <td >\\r\\n                                  <div class=\"\">\\r\\n                                    <label class=\"checkbox padding-top-10\">\\r\\n                                      <input type=\"checkbox\" name=\"checkbox-inline\" value=\"{{ p.p_id }}\" [checked]=\"selects[p.p_id]\" (change)=\"handle($event)\">\\r\\n                                      <i></i>\\r\\n                                    </label>\\r\\n                                  </div>\\r\\n                                </td>\\r\\n                              </tr>\\r\\n                              </tbody>\\r\\n                            </table>\\r\\n                          </div>\\r\\n                          <div style=\"padding: 0;z-index: 2;width:20%;float:left;\" class=\"table-scrolling\">\\r\\n                            <table class=\"table table-striped smart-form\">\\r\\n                              <thead>\\r\\n                              <tr >\\r\\n                                <th><span class=\"\">\\u5546\\u54c1\\u7f16\\u53f7</span></th>\\r\\n                              </tr>\\r\\n                              </thead>\\r\\n                              <tbody>\\r\\n                              <tr style=\"height: 35px;\" *ngFor=\"let p of productList.result?.productList?.data\" (click)=\"isStatusShow(p.p_id,p.p_status)\" [ngClass]=\"{\\'table-color\\':editStatusProductId == p.p_id}\">\\x3c!--class=\"table-color\"--\\x3e\\r\\n                                <td><span class=\"\">{{p.p_product_id}}</span></td>\\r\\n                              </tr>\\r\\n                              </tbody>\\r\\n                            </table>\\r\\n                          </div>\\r\\n                          <div class=\"table-responsive\"  [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'1\\',\\'width\\':width_1,\\'float\\':\\'left\\'}\">\\r\\n                            <table class=\"table table-striped  smart-form \">\\r\\n                              <thead>\\r\\n                              <tr >\\r\\n                                <th>\\u5546\\u54c1\\u540d\\u79f0</th>\\r\\n                                <th>\\u5546\\u54c1\\u7c7b\\u578b</th>\\r\\n                                <th>\\u6570\\u91cf</th>\\r\\n                                <th>\\u8ba1\\u91cf\\u5355\\u4f4d</th>\\r\\n                                <th>\\u552e\\u4ef7(\\u5143)</th>\\r\\n                                <th>\\u5165\\u5e93\\u65f6\\u95f4</th>\\r\\n                                <th>\\u5907\\u6ce8</th>\\r\\n                              </tr>\\r\\n                              </thead>\\r\\n                              <tbody>\\r\\n                              <tr *ngFor=\"let p1 of productList.result?.productList?.data\" (click)=\"isStatusShow(p1.p_id,p1.p_status)\" [ngClass]=\"{\\'table-color\\':editStatusProductId == p1.p_id}\">\\x3c!-- class=\"table-color\"--\\x3e\\r\\n                                <td><span class=\"\">{{p1.p_name}}</span></td>\\r\\n                                <td><span class=\"\">{{p1.category}}</span></td>\\r\\n                                <td><span class=\"\">{{p1.p_quantity}}</span></td>\\r\\n                                <td><span class=\"\">{{p1.p_unit}}</span></td>\\r\\n                                <td><span class=\"\">{{p1.p_sales_price}}</span></td>\\r\\n                                <td>{{p1.p_storage_time}}  </td>\\r\\n                                <td> {{p1.p_notes}} </td>\\r\\n                              </tr>\\r\\n                              </tbody>\\r\\n                            </table>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        \\x3c!-- \\u5e95\\u90e8-\\uff08\\u5206\\u9875\\u90e8\\u5206\\uff09--\\x3e\\r\\n                        <div class=\"dt-toolbar\">\\r\\n                          <div class=\"col-xs-12 col-sm-6\">\\r\\n                            <span>\\u5171{{productList.result?.productList?.total}}\\u6761</span>\\r\\n                          </div>\\r\\n                          <div class=\"hidden-xs right\">\\r\\n                            <ul class=\"pagination pagination-sm\">\\r\\n                              <li *ngFor=\"let p of productList?.result?.page\" class=\"{{p.class}}\">\\r\\n                                <a (click)=\"pagination(p.value)\" *ngIf=\"p.method==\\'method\\'\">{{p.text}}</a>\\r\\n                                <a *ngIf=\"p.method==\\'\\'\">{{p.text}}</a>\\r\\n                              </li>\\r\\n                            </ul>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </sa-widget>\\r\\n                  \\x3c!-- end widget --\\x3e\\r\\n                </article>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </article>\\r\\n    </div>\\r\\n  </sa-widgets-grid>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<div class=\"modal fade\"  bsModal #lgModal=\"bs-modal\">\\r\\n  <div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content\">\\r\\n      <div class=\"modal-header\">\\r\\n        \\x3c!-- \\u5173\\u95ed\\u6309\\u94ae --\\x3e\\r\\n        <button type=\"button\" class=\"close\" (click)=\"clear_();lgModal.hide()\">\\r\\n          \\xd7\\r\\n        </button>\\r\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\r\\n        <h3 *ngIf=\"editStatusProductId == 0\" class=\"modal-title txt-color-blue\" data-ng-bind=\\'results.title\\'><i class=\"fa-fw fa fa-plus\"></i>\\u6dfb\\u52a0\\u5546\\u54c1\\u4fe1\\u606f</h3>\\r\\n        <h3 *ngIf=\"editStatusProductId != 0\" class=\"modal-title  color-yellow\" data-ng-bind=\\'results.title\\'><i class=\"glyphicon glyphicon-pencil\"></i>\\u4fee\\u6539\\u5546\\u54c1\\u4fe1\\u606f</h3>\\r\\n      </div>\\r\\n      <div class=\"modal-body height-overflow-380\">\\r\\n        <div class=\"row mt-20\">\\r\\n          <form   class=\"smart-form \">\\r\\n            <fieldset>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u7f16\\u53f7</label>\\r\\n                  <label class=\"input\">\\r\\n                    <input  type=\"text\" name=\"p_product_id\" [(ngModel)]=\"p_product_id\" placeholder=\"\\u5546\\u54c1\\u7f16\\u53f7\" [disabled]=\"isDetail==\\'detail\\'\">\\r\\n                  </label>\\r\\n                </section>\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label  class=\"label txt-color-blue\">\\u5546\\u54c1\\u540d\\u79f0<span  class=\"asterisk-color\">*</span></label>\\r\\n                  <label class=\"input\">\\r\\n                    <input  type=\"text\" name=\"p_name\" [(ngModel)]=\"p_name\" [disabled]=\"isDetail==\\'detail\\'\">\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u5546\\u54c1\\u7c7b\\u578b</label>\\r\\n                  <label   class=\"select form-control border-0\">\\r\\n                    <select class=\"input-sm\" name=\"p_category_id\" [(ngModel)]=\"p_category_id\" [disabled]=\"isDetail==\\'detail\\'\">\\r\\n                      <option [selected]=\"p_id == 0\" value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                      <option *ngFor=\"let c of addProductDefault?.result?.categoryListForAdd\" [selected]=\"productInfo?.result?.p_category_id == c.category_id\" value=\"{{ c.category_id }}\" [disabled]=\"(c.category_depth == 0 && c.child_count > 0) ? \\'disabled\\' : false\" [ngStyle]=\"{\\'font-weight\\':((c.category_depth == 0) ? \\'bold\\' : \\'normal\\'),\\'color\\':((c.category_depth == 0 && c.child_count > 0) ? \\'black\\' : \\'#404040\\')}\">\\r\\n                        <strong *ngIf=\"c.category_depth == 0\">{{c.category_desc}}</strong>\\r\\n                        <span *ngIf=\"c.category_depth != 0\">--{{c.category_desc}}</span>\\r\\n                      </option>\\r\\n                    </select><i></i>\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u6570\\u91cf</label>\\r\\n                  <label class=\"input\">\\r\\n                    <input  type=\"number\" placeholder=\"\" name=\"p_quantity\" [(ngModel)]=\"p_quantity\" [disabled]=\"isDetail==\\'detail\\'\">\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u8ba1\\u91cf\\u5355\\u4f4d</label>\\r\\n                  <label class=\"input\">\\r\\n                    <input  type=\"text\" placeholder=\"\" name=\"p_unit\" [(ngModel)]=\"p_unit\" [disabled]=\"isDetail==\\'detail\\'\">\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u6210\\u672c\\u5355\\u4ef7</label>\\r\\n                  <label class=\"input\">\\r\\n                    <input  type=\"number\" name=\"p_cost_price\" [(ngModel)]=\"p_cost_price\" [disabled]=\"isDetail==\\'detail\\'\">\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u9500\\u552e\\u5355\\u4ef7</label>\\r\\n                  <label class=\"input\">\\r\\n                    <input  type=\"number\" name=\"p_sales_price\" [(ngModel)]=\"p_sales_price\" [disabled]=\"isDetail==\\'detail\\'\" >\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                <section class=\"\">\\r\\n                  <label class=\"label\">\\u5165\\u5e93\\u65f6\\u95f4</label>\\r\\n                  <label  class=\"input\">\\r\\n                    <input name=\"p_storage_time\" [(ngModel)]=\"p_storage_time\" [disabled]=\"isDetail==\\'detail\\'\" [dpDayPicker]=\"datePickerConfig\" [theme]=\"\\'dp-material\\'\" [mode]=\"\\'day\\'\"  placeholder=\"\\u9009\\u62e9\\u65e5\\u671f\"  class=\"form-control ng-binding expire-text-soon\"/>\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n              <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\r\\n                <section>\\r\\n                  <label class=\"label\">\\u5907\\u6ce8</label>\\r\\n                  <label class=\"textarea textarea-resizable\">\\r\\n                    <textarea  class=\"custom-scroll\" rows=\"3\" name=\"p_notes\" [(ngModel)]=\"p_notes\" [disabled]=\"isDetail==\\'detail\\'\"></textarea>\\r\\n                  </label>\\r\\n                </section>\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </fieldset>\\r\\n          </form>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"modal-footer\">\\r\\n        \\x3c!--<button class=\"btn btn-success btn-sm\" type=\"button\"><span class=\"glyphicon glyphicon-plus\"></span>\\u4fdd\\u5b58\\u5e76\\u65b0\\u589e</button>--\\x3e\\r\\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"onSubmit();\">\\u4fdd\\u5b58</button>\\r\\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"clear_();lgModal.hide()\">\\u8fd4\\u56de</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n<div class=\"modal fade\" bsModal #detailModal=\"bs-modal\">\\r\\n  <div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content\">\\r\\n      <div class=\"modal-header\">\\r\\n        \\x3c!-- \\u5173\\u95ed\\u6309\\u94ae --\\x3e\\r\\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\\r\\n          \\xd7\\r\\n        </button>\\r\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\r\\n        <h3 class=\"modal-title\" data-ng-bind=\\'results.title\\'></h3>\\r\\n        <h4 class=\"modal-title\">\\u5546\\u54c1\\u4fe1\\u606f</h4>\\r\\n      </div>\\r\\n      <div class=\"modal-body height-overflow-380\">\\r\\n        <div class=\"row \">\\r\\n          <div class=\"col-sm-12\">\\r\\n            <div class=\"\" >\\r\\n              <P class=\"alert alert-info\">\\u57fa\\u672c\\u4fe1\\u606f</P>\\r\\n              <table class=\"table table-striped table-forum\">\\r\\n                <tbody>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u7f16\\u53f7:</td>\\r\\n                  <td class=\"\"></td>\\r\\n                  <td class=\"width-120\">\\u5546\\u54c1\\u540d\\u79f0:</td>\\r\\n                  <td >\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u5546\\u54c1\\u7c7b\\u578b:</td>\\r\\n                  <td class=\"\"></td>\\r\\n                  <td class=\"width-120\">\\u6570\\u91cf:</td>\\r\\n                  <td >\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u8ba1\\u91cf\\u5355\\u4f4d:</td>\\r\\n                  <td class=\"\"></td>\\r\\n                  <td class=\"width-120\">\\u6210\\u672c\\u5355\\u4ef7:</td>\\r\\n                  <td >\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u9500\\u552e\\u5355\\u4ef7:</td>\\r\\n                  <td class=\"\"></td>\\r\\n                  <td class=\"width-120\">\\u5165\\u5e93\\u65f6\\u95f4:</td>\\r\\n                  <td >\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                  <td class=\"width-120\">\\u5907\\u6ce8:</td>\\r\\n                  <td class=\"\" colspan=\"3\"></td>\\r\\n\\r\\n                </tr>\\r\\n                </tbody>\\r\\n              </table>\\r\\n\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"modal-footer\">\\r\\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">\\u8fd4\\u56de</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n'}});","extractedComments":[]}