{"code":"webpackJsonp([28],{\"00Ky\":function(t,e){t.exports='<div id=\"content\">\\r\\n  <sa-widgets-grid>\\r\\n    <div class=\"row\">\\r\\n      <article class=\"col-sm-12 \">\\r\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" [colorbutton]=\"false\">\\r\\n          <header>\\r\\n            <span class=\"widget-icon\"> <i class=\"fa fa-table\"></i> </span>\\r\\n            <h2>\\u9500\\u552e\\u5217\\u8868</h2>\\r\\n          </header>\\r\\n\\r\\n          <div>\\r\\n            <div class=\"widget-body no-padding\" >\\r\\n              <div  class=\"row\">\\r\\n                <article  class=\"col-sm-12\">\\r\\n                  <div class=\"navbar navbar-default\">\\r\\n                    <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a class=\"btn btn-success btn-sm\" (click)=\"isDemo(\\'/medical/medical-billing\\',\\'0\\',\\'\\')\">\\r\\n                          <span class=\"glyphicon glyphicon-plus mr-5\"></span>\\u6dfb\\u52a0</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"isDemo(\\'/medical/medical-billing\\',\\'1\\',\\'edit\\')\" >\\r\\n                          <span class=\"glyphicon glyphicon-pencil mr-5 color-yellow\"></span>\\u4fee\\u6539</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"deletePurchase(\\'id\\')\">\\r\\n                          <span class=\"fa-fw fa  fa-trash-o mr-5 color-red\"></span>\\u5220\\u9664</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':isStatus == 0}\" (click)=\"isDemo(\\'/medical/medical-billing\\',\\'1\\',\\'detail\\')\" >\\r\\n                          <span class=\"glyphicon glyphicon-zoom-in mr-5 color-green\"></span>\\u8be6\\u60c5</a>\\r\\n                      </div>\\r\\n                      <div class=\"form-group btn-group pdlr-4\">\\r\\n                        <a class=\"btn default-btn btn-sm dropdown-toggle\"  data-toggle=\"dropdown\" (click)=\"showAllCheck()\">\\r\\n                          <span class=\"fa-fw fa fa-th-large mr-5 color-red\"></span>\\u6279\\u5904\\u7406<i class=\"fa fa-fw fa-chevron-down\"></i></a>\\r\\n                        <ul class=\"dropdown-menu\" role=\"menu\">\\r\\n                          <li><a (click)=\"deletePurchase(\\'all\\')\"><span class=\"fa-fw fa  fa-trash-o color-red mr-5\"></span>\\u6279\\u91cf\\u5220\\u9664</a></li>\\r\\n                        </ul>\\r\\n                      </div>\\r\\n                    </form>\\r\\n                    <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <input  class=\"form-control ng-pristine ng-valid ng-touched\" maxlength=\"15\" [(ngModel)]=\"keyword\" name=\"keyword\" placeholder=\"\\u8bf7\\u8f93\\u5165\\u641c\\u7d22\\u5185\\u5bb9\" type=\"text\">\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <button class=\"btn btn-default\" type=\"button\" (click)=\"getPurchaseList(1)\">\\r\\n                          <i  class=\"glyphicon glyphicon-search\"></i>\\r\\n                          \\u641c\\u7d22\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </form>\\r\\n                  </div>\\r\\n                </article>\\r\\n              </div>\\r\\n              <div class=\"mt-10\" style=\"padding:0;\">\\r\\n                <div *ngIf=\"isAll != 0\" [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'2\\',\\'width\\':width,\\'float\\':\\'left\\'}\" class=\"table-scrolling padding0\">\\r\\n                  <table class=\"table table-striped   smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr>\\r\\n                      <td><label class=\"checkbox mt-8\">\\r\\n                        <input type=\"checkbox\" name=\"checkbox-inline\"  [checked]=\"check\" (change)=\"changeCheckAll($event)\" >\\r\\n                        <i></i>\\r\\n                      </label>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let p of purchaseList.result?.purchaseList?.data\">\\r\\n                      <td>\\r\\n                        <label class=\"checkbox mt-8\">\\r\\n                          <input type=\"checkbox\" value=\"{{p.pr_id}}\" [checked]=\"selects[p.pr_id]\" (change)=\"handle($event)\">\\r\\n                          <i></i>\\r\\n                        </label>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div style=\"z-index: 2;width:10%;float:left;\" class=\"table-scrolling padding0\">\\r\\n                  <table class=\"table table-striped   smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr >\\r\\n                      <th>\\u5355\\u636e\\u53f7</th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let p of purchaseList.result?.purchaseList?.data\" (click)=\"isStatusShow(p.pr_id,p.pr_status)\" [ngClass]=\"{\\'table-color\\':editStatusPurchaseId == p.pr_id}\">\\x3c!--class=\"table-color\" ---\\x3e\\r\\n                      <td>{{p.pr_order}}</td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div class=\"table-responsive\" [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'1\\',\\'width\\':width_1,\\'float\\':\\'left\\'}\">\\r\\n                  <table class=\"table table-striped  smart-form \">\\r\\n                    <thead>\\r\\n                    <tr >\\r\\n                      <th>\\u65e5\\u671f</th>\\r\\n                      <th>\\u59d3\\u540d</th>\\r\\n                      <th>\\u5408\\u8ba1\\u91d1\\u989d</th>\\r\\n                      <th>\\u7ecf\\u529e\\u4eba</th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let p1 of purchaseList.result?.purchaseList?.data\" (click)=\"isStatusShow(p1.pr_id,p1.pr_status)\" [ngClass]=\"{\\'table-color\\':editStatusPurchaseId == p1.pr_id}\">\\x3c!--class=\"table-color\" ---\\x3e\\r\\n                      <td>{{p1.created_at}}</td>\\r\\n                      <td>{{p1.c_name}}</td>\\r\\n                      <td>{{p1.pr_total_price}}</td>\\r\\n                      <td>{{p1.u_username}}</td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n              </div>\\r\\n              \\x3c!-- \\u5e95\\u90e8-\\uff08\\u5206\\u9875\\u90e8\\u5206\\uff09--\\x3e\\r\\n              <div class=\"dt-toolbar\">\\r\\n                <div class=\"col-xs-12 col-sm-6\">\\r\\n                  <span>\\u5171{{purchaseList?.result?.purchaseList?.total}}\\u6761</span>\\r\\n                </div>\\r\\n                <div class=\"hidden-xs right\">\\r\\n                  <ul class=\"pagination pagination-sm\">\\r\\n                    <li *ngFor=\"let p of purchaseList?.result?.page\" class=\"{{p.class}}\">\\r\\n                      <a (click)=\"pagination(p.value)\" *ngIf=\"p.method==\\'method\\'\">{{p.text}}</a>\\r\\n                      <a *ngIf=\"p.method==\\'\\'\">{{p.text}}</a>\\r\\n                    </li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </article>\\r\\n    </div>\\r\\n  </sa-widgets-grid>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n'},RO3e:function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=r(\"WT6e\"),a=r(\"Xjw4\"),i=r(\"bfOx\"),n=r(\"NOoU\"),l=r(\"ntJC\"),c=r(\"R12H\"),o=this&&this.__decorate||function(t,e,r,s){var a,i=arguments.length,n=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,r,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(n=(i<3?a(n):i>3?a(e,r,n):a(e,r))||n);return i>3&&n&&Object.defineProperty(e,r,n),n},d=this&&this.__metadata||function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e,r,s){this.http=t,this.router=e,this.cookieStore=r,this.globalService=s,this.purchaseList=[],this.purchaseInfo=[],this.prev=!1,this.next=!1,this.selects=[],this.check=!1,this.editStatusPurchaseId=0,this.isStatus=0,this.isAll=0,this.width=\"0%\",this.width_1=\"90%\",this.type=6,this.keyword=\"\",this.rollback_url=\"/medical/medical-sales\";this.globalService.navEventEmitter.emit('{\"title\":\"\\u9500\\u552e\\u5217\\u8868\",\"url\":\"/medical/medical-sales\",\"class_\":\"active\"}'),this.getPurchaseList(\"1\"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){},t.prototype.getPurchaseList=function(t){var e=this,r=this.globalService.getDomain()+\"/api/v1/getPurchaseList?pr_type=\"+this.type+\"&page=\"+t+\"&sid=\"+this.cookieStore.getCookie(\"sid\");\"\"!=this.keyword.trim()&&(r+=\"&keyword=\"+this.keyword.trim()),this.http.get(r).map(function(t){return t.json()}).subscribe(function(t){if(e.purchaseList=t,202==e.purchaseList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.purchaseList){e.purchaseList.result.purchaseList.current_page==e.purchaseList.result.purchaseList.last_page?e.next=!0:e.next=!1,1==e.purchaseList.result.purchaseList.current_page?e.prev=!0:e.prev=!1,e.selects=[];for(var r=0,s=e.purchaseList.result.purchaseList.data;r<s.length;r++){var a=s[r];e.selects[a.pr_id]=!1}e.check=!1}})},t.prototype.changeCheckAll=function(t){var e=this,r=t.target.checked;this.selects.forEach(function(t,s,a){e.selects[s]=r}),this.check=r},t.prototype.handle=function(t){var e=t.target,r=e.value,s=e.checked;this.selects[r]=s;for(var a=0,i=0,n=this.selects;i<n.length;i++){0==n[i]&&(a+=1)}this.check=!(a>=1)},t.prototype.deletePurchase=function(t){var e=this;if(this.globalService.demoAlert(\"\",\"\"))return!1;var r=\"\",s=\"\";if(\"id\"==t)s=this.editStatusPurchaseId;else if(\"all\"==t){var a=0;if(this.selects.forEach(function(t,e,r){1==t&&(s+=e+\",\",a+=1)}),a<1)return r=\"\\u8bf7\\u786e\\u8ba4\\u5df2\\u9009\\u4e2d\\u9700\\u8981\\u5220\\u9664\\u7684\\u4fe1\\u606f\\uff01\",alert(r),!1}if(r=\"\\u60a8\\u786e\\u5b9a\\u8981\\u5220\\u9664\\u8be5\\u4fe1\\u606f\\u5417\\uff1f\",confirm(r)){var i=this.globalService.getDomain()+\"/api/v1/deletePurchaseById?pr_id=\"+s+\"&type=\"+t+\"&pr_type=\"+this.type+\"&sid=\"+this.cookieStore.getCookie(\"sid\");this.http.delete(i).map(function(t){return t.json()}).subscribe(function(t){e.purchaseList=t,202==e.purchaseList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.selects=[];for(var r=0,s=e.purchaseList.result.purchaseList.data;r<s.length;r++){var a=s[r];e.selects[a.pr_id]=!1}e.check=!1,e.purchaseList&&(e.purchaseList.result.purchaseList.current_page==e.purchaseList.result.purchaseList.last_page?e.next=!0:e.next=!1,1==e.purchaseList.result.purchaseList.current_page?e.prev=!0:e.prev=!1)})}},t.prototype.isDemo=function(t,e,r){\"1\"==e&&(e=this.editStatusPurchaseId,\"detail\"==r&&(e=e+\"_\"+r)),this.globalService.demoAlert(t,e)},t.prototype.pagination=function(t){this.page=t,this.getPurchaseList(this.page)},t.prototype.isStatusShow=function(t,e){var r=this;this.editStatusPurchaseId=t,this.isStatus=e,this.isAll=0,this.width=\"0%\",this.width_1=\"90%\",this.selects.forEach(function(t,e,s){1==t&&(r.selects[e]=!1)})},t.prototype.editStatus=function(t,e){var r=this,s=\"\";if(\"all\"==e?this.selects.forEach(function(t,e,r){1==t&&(s+=e+\",\")}):s=this.editStatusPurchaseId,!s)return alert(\"\\u8bf7\\u786e\\u4fdd\\u5df2\\u9009\\u4e2d\\u9700\\u8981\\u64cd\\u4f5c\\u7684\\u9879\\uff01\"),!1;this.http.post(this.globalService.getDomain()+\"/api/v1/addPurchase\",{pr_id:s,pr_status:t,type:e,pr_type:this.type,keyword:this.keyword.trim(),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var e=JSON.parse(t._body);if(alert(e.msg),200==e.status){r.purchaseList=e,r.selects=[];for(var s=0,a=r.purchaseList.result.purchaseList.data;s<a.length;s++){var i=a[s];r.selects[i.pr_id]=!1}r.check=!1}else 202==e.status&&(r.cookieStore.removeAll(r.rollback_url),r.router.navigate([\"/auth/login\"]));r.editStatusPurchaseId=0,r.isStatus=0})},t.prototype.showAllCheck=function(){0==this.isAll&&(this.isAll=1,this.editStatusPurchaseId=0,this.isStatus=0,this.width=\"10%\",this.width_1=\"80%\")},t=o([Object(s.Component)({selector:\"app-medical-sales\",template:r(\"00Ky\")}),d(\"design:paramtypes\",[n.b,i.c,l.a,c.a])],t)}(),p=[{path:\"\",component:h}],u=i.d.forChild(p),f=r(\"pvSQ\"),g=r(\"JOm+\");r.d(e,\"MedicalSalesModule\",function(){return b});var v=this&&this.__decorate||function(t,e,r,s){var a,i=arguments.length,n=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,r,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(n=(i<3?a(n):i>3?a(e,r,n):a(e,r))||n);return i>3&&n&&Object.defineProperty(e,r,n),n},b=function(){function t(){}return t=v([Object(s.NgModule)({imports:[a.CommonModule,f.a,g.a,u],declarations:[h]})],t)}()}});","extractedComments":[]}