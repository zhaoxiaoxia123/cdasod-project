{"code":"webpackJsonp([8],{HmGx:function(e,t){e.exports='<div id=\"content\">\\n  <sa-widgets-grid>\\n    <div class=\"row\">\\n      <article class=\"col-sm-12 \">\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" >\\n          <header >\\n            <span class=\"widget-icon\"> <i class=\"fa fa-edit\"></i> </span>\\n            <h2 >\\u8bf7\\u5047</h2>\\n          </header>\\n          <div>\\n            \\x3c!--\\u5c0f\\u90e8\\u4ef6\\u5185\\u5bb9--\\x3e\\n            <div class=\"widget-body no-padding\">\\n              <form id=\"smart-form-register\" class=\"smart-form\" [formGroup]=\"formModel\" (ngSubmit)=\"onSubmit()\" >\\n                <fieldset>\\n                  <legend>\\u57fa\\u672c\\u4fe1\\u606f</legend>\\n                  <input type=\"hidden\" name=\"\">\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\n                    <label class=\"label txt-color-blue\">\\u8bf7\\u5047\\u7c7b\\u578b<span class=\"asterisk-color\">*</span></label>\\n                    <section>\\n                        <label   class=\"select form-control border-0\">\\n                          <select  name=\"type\" formControlName=\"type\" >\\n                            <option  value=\"0\" disabled>--\\u8bf7\\u9009\\u62e9--</option>\\n                            <option  value=\"\\u4e8b\\u5047\">\\u4e8b\\u5047</option>\\n                            <option  value=\"\\u75c5\\u5047\">\\u75c5\\u5047</option>\\n                            <option  value=\"\\u5e74\\u5047\">\\u5e74\\u5047</option>\\n                            <option  value=\"\\u8c03\\u4f11\">\\u8c03\\u4f11</option>\\n                            <option  value=\"\\u5a5a\\u5047\">\\u5a5a\\u5047</option>\\n                            <option  value=\"\\u4ea7\\u5047\">\\u4ea7\\u5047</option>\\n                            <option  value=\"\\u966a\\u4ea7\\u5047\">\\u966a\\u4ea7\\u5047</option>\\n                            <option  value=\"\\u8def\\u9014\\u5047\">\\u8def\\u9014\\u5047</option>\\n                            <option  value=\"\\u5176\\u4ed6\">\\u5176\\u4ed6</option>\\n                          </select><i></i>\\n                        </label>\\n                    </section>\\n                  </div>\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\n                    <section >\\n                      <label class=\"label txt-color-blue\">\\u5f00\\u59cb\\u65e5\\u671f<span class=\"asterisk-color\">*</span></label>\\n                      <label  class=\"input\">\\n                        <input name=\"approval_start_date\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"approval_start_date\" value=\"{{approval_start_date}}\" [dpDayPicker]=\"datePickerConfig\" [theme]=\"\\'dp-material\\'\" [mode]=\"\\'day\\'\"  class=\"form-control ng-binding expire-text-soon\" placeholder=\"\\u9009\\u62e9\\u65e5\\u671f\\uff08\\u5fc5\\u586b\\uff09\" />\\n\\n                      </label>\\n                    </section>\\n                  </div>\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\n                    <section >\\n                      <label class=\"label txt-color-blue\">\\u7ed3\\u675f\\u65e5\\u671f<span class=\"asterisk-color\">*</span></label>\\n                      <label  class=\"input\">\\n                        <input name=\"approval_end_date\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"approval_end_date\" value=\"{{approval_end_date}}\" [dpDayPicker]=\"datePickerConfig\" [theme]=\"\\'dp-material\\'\" [mode]=\"\\'day\\'\"  class=\"form-control ng-binding expire-text-soon\" placeholder=\"\\u9009\\u62e9\\u65e5\\u671f\\uff08\\u5fc5\\u586b\\uff09\" />\\n                      </label>\\n                    </section>\\n                  </div>\\n\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\n                    <section>\\n                      <label class=\"label txt-color-blue\">\\u8bf7\\u5047\\u5929\\u6570<span class=\"asterisk-color\">*</span></label>\\n                      <label class=\"input\">\\n                        <input  type=\"number\" placeholder=\"\\u8bf7\\u5047\\u5929\\u6570\\uff08\\u5fc5\\u586b\\uff09\" name=\"day\" formControlName=\"day\">\\n                      </label>\\n                    </section>\\n                  </div>\\n\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\\n                    <section>\\n                      <label class=\"label txt-color-blue\">\\u8bf7\\u5047\\u4e8b\\u7531<span class=\"asterisk-color\">*</span></label>\\n                      <label class=\"textarea textarea-resizable\">\\n                        <textarea class=\"custom-scroll\" rows=\"4\" placeholder=\"\\u8bf7\\u5047\\u4e8b\\u7531\\uff08\\u5fc5\\u586b\\uff09\" name=\"reason\" formControlName=\"reason\"></textarea>\\n                      </label>\\n                    </section>\\n                  </div>\\n\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\\n                    <div class=\"label \">\\u56fe\\u7247\\n                      <a class=\"txt-color-blue pd-10\" >\\u6dfb\\u52a0\\u56fe\\u7247</a>\\n                      <span class=\"txt-color-blueLight pd-10\">(\\u6700\\u591a\\u53ef\\u4ee5\\u9009\\u62e910\\u5f20)</span>\\n                    </div>\\n                    <div  class=\"picture mb-20\">\\n                      <div  class=\"picture-list\" *ngFor=\"let img of imgList;let ind = index;\">\\n                        <a  class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeImg(ind)\"></a>\\n                        <img src=\"{{url}}{{img}}\">\\n                      </div>\\n                    </div>\\n\\n                    <ul class=\"ace-thumbnails clearfix\" *ngIf=\"imgCount < 10\">\\n                      <li>\\n                        <img-cropper #cropper [image]=\"data1\" [settings]=\"cropperSettings1\" (onCrop)=\"cropped($event)\"></img-cropper>\\n                      </li>\\n                      <li>\\n                        <div  class=\"c-file-upload\">\\n                          <a class=\"btn btn-primary \" style=\"width: 100px; height: 100px;\" >\\n                            <i class=\"fa fa-plus fa-2x\" style=\"font-size: 100px;\"></i>\\n                          </a>\\n                          <input id=\"image-input\" class=\"btn btn-primary \" type=\"file\" c-img-cropper-select [cropper]=\"cropper\">\\n                        </div>\\n                      </li>\\n                      <li><button type=\"button\" class=\"btn btn-primary\" (click)=\"postFile()\">\\u786e\\u8ba4\\u4e0a\\u4f20</button></li>\\n                    </ul>\\n\\n                  </div>\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\n                    <div class=\"label \">\\u9644\\u4ef6<a class=\"txt-color-blue pd-10\" >\\u6dfb\\u52a0\\u9644\\u4ef6</a></div>\\n                  </div>\\n\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\n                    <div class=\"label \">\\u5ba1\\u6279\\u4eba<a class=\"txt-color-blue pd-10\" data-toggle=\"modal\" data-target=\"#myModal\" (click)=\"changeType(\\'assign\\')\">\\u6dfb\\u52a0\\u5ba1\\u6279\\u4eba</a></div>\\n                    <ul  class=\"avatars\">\\n                      <li *ngFor=\"let su of approve_user;let ind = index;\">\\n                        <a class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su.id,\\'assign\\')\"></a>\\n                        <a  class=\"portrait-size\" title=\"{{su.u_username}}\">\\n                          {{su.u_username}}\\n                        </a>\\n                        <div class=\"approval-arrow\" *ngIf=\"ind < approve_user.length && ind != 0\">\\n                          <img  src=\"assets/img/icon/arrow.png\" >\\n                        </div>\\n                      </li>\\n                    </ul>\\n\\n                  </div>\\n\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\n                    <div class=\"label \">\\u6284\\u9001\\u4eba<a class=\"txt-color-blue pd-10\" data-toggle=\"modal\" data-target=\"#myModal\" (click)=\"changeType(\\'follower\\')\">\\u6dfb\\u52a0\\u6284\\u9001\\u4eba</a><span class=\"txt-color-blueLight pd-10\">(\\u5ba1\\u6279\\u901a\\u8fc7\\u540e\\uff0c\\u901a\\u77e5\\u6284\\u9001\\u4eba)</span></div>\\n                    <ul  class=\"avatars\">\\n                      <li *ngFor=\"let su1 of follower_user;let ind1 = index;\">\\n                        <a class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su1.id,\\'follower\\')\"></a>\\n                        <a  class=\"portrait-size\" title=\"{{su1.u_username}}\">\\n                          {{su1.u_username}}\\n                        </a>\\n                      </li>\\n                    </ul>\\n\\n                  </div>\\n\\n                </fieldset>\\n                <footer>\\n                  <button type=\"button\" class=\"btn btn-default\" >\\n                    \\u8fd4\\u56de\\n                  </button>\\n                  <button  type=\"submit\" class=\"btn btn-primary\">\\n                    \\u63d0\\u4ea4\\n                  </button>\\n                </footer>\\n              </form>\\n            </div>\\n          </div>\\n        </sa-widget>\\n      </article>\\n    </div>\\n  </sa-widgets-grid>\\n</div>\\n\\n<div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\\n<div class=\"modal-dialog\">\\n    <div class=\"modal-content\">\\n      <div class=\"modal-header\">\\n        \\x3c!-- \\u5173\\u95ed\\u6309\\u94ae --\\x3e\\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\" (click)=\"closeSelectedUser()\">\\xd7</button>\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\n        <h3 class=\"modal-title txt-color-blue\" data-ng-bind=\\'results.title\\'><i class=\"fa-fw fa fa-plus\"></i>\\u9009\\u62e9\\u4eba</h3>\\n      </div>\\n      <div class=\"modal-body \">\\n        <div  class=\"row\">\\n          <article  class=\"col-sm-12\">\\n            <div class=\"navbar navbar-default\">\\n              <div class=\"collapse navbar-collapse\">\\n                <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\n                  <div class=\"form-group pdlr-4\">\\n                    <div class=\"form-group padding-left-10\">\\n                      <input  class=\"form-control ng-pristine ng-valid ng-touched\" maxlength=\"15\" [(ngModel)]=\"keyword\" name=\"keyword\" placeholder=\"\\u8bf7\\u8f93\\u5165\\u641c\\u7d22\\u5185\\u5bb9\" type=\"text\">\\n                    </div>\\n                    <button class=\"btn btn-default\" type=\"button\" (click)=\"getUserList(1,0)\">\\n                      <i  class=\"glyphicon glyphicon-search\"></i>\\n                      \\u641c\\u7d22\\n                    </button>\\n                  </div>\\n                </form>\\n              </div>\\n            </div>\\n          </article>\\n        </div>\\n        <div class=\"pt\">\\n          <div class=\"row margin-b50\" style=\"padding:0 10px;\">\\n            <article class=\"form-group col col-xs-4 \">\\n              <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\n                         [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\n                <div>\\n                  <div class=\"widget-body no-padding\">\\n                    <alert type=\"info\" class=\"no-margin\">\\n                      <i class=\"fa-fw fa fa-sitemap\"></i>\\n                      \\u90e8\\u95e8\\u5206\\u7c7b\\n                    </alert>\\n                    <div class=\"pd-10 border-overflow-320\" style=\"margin-top: -11px;\">\\n                      <div class=\"widget-body\">\\n                        <div class=\"tree smart-form\">\\n                          <ul class=\"\">\\n                            <li class=\" parent_li\">\\n                                <span>\\n                                  <label class=\"checkbox inline-block tree-label pt-12 \">\\n                                      <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_department_ids[0]\" (click)=\"selectDepartmentAll()\"><i></i>\\n                                    </label>\\n\\n                                  <i class=\"fa fa-lg fa-folder-open\"></i>{{customer_name}}\\n                                  <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUl == 0\" (click)=\"showLeftUl(1)\"></i>\\n                                  <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUl == 1\" (click)=\"showLeftUl(0)\"></i>\\n                                </span>\\n                              <ul *ngIf=\"showUl == 1\">\\n                                <li class=\" parent_li\" *ngFor=\"let d of userDefault?.result?.departmentList;let ind = index;\">\\n                                  <span>\\n                                    <label class=\"checkbox inline-block tree-label \">\\n                                      <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_department_ids[d.department_id]\" (click)=\"selectDepartment(d.department_id,ind,0,1)\"><i></i>{{d.department_name}}\\n                                      <em class=\"txt-color-blue\">({{d.child_count}})</em>\\n                                    </label>\\n                                    <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUlChild == d.department_id && d.has_child != 0\" (click)=\"showLeftUlChild(0)\"></i>\\n                                    <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUlChild != d.department_id && d.has_child != 0\" (click)=\"showLeftUlChild(d.department_id)\"></i>\\n                                  </span>\\n                                  <ul class=\"\" *ngIf=\"showUlChild == d.department_id\">\\n                                    <li *ngFor=\"let dc of d.child;let indChild = index;\">\\n                                      <span>\\n                                        <label class=\"checkbox inline-block tree-label\">\\n                                          <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_department_ids[d.department_id] || select_department_ids[dc.department_id]\" (click)=\"selectDepartment(dc.department_id,ind,indChild,d.department_id)\">\\n                                          <i></i>{{dc.department_name}}\\n                                          <em class=\"txt-color-blue\">({{dc.child_count}})</em>\\n                                        </label>\\n                                      </span>\\n                                    </li>\\n                                  </ul>\\n                                </li>\\n                              </ul>\\n                            </li>\\n                          </ul>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    <div class=\"dt-toolbar\">\\n                    </div>\\n                  </div>\\n                </div>\\n              </sa-widget>\\n\\n            </article>\\n            <article class=\"form-group col col-xs-8 \">\\n              <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\n                         [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\n                <div>\\n                  <div class=\"widget-body no-padding\">\\n                    <alert type=\"info\" class=\"no-margin\" >\\n                      <i class=\"fa-fw fa fa-table\"></i>\\n                      \\u5458\\u5de5\\u5217\\u8868\\n                    </alert>\\n                    <div class=\"mt-10 \"  style=\"padding:0;\">\\n                      <div style=\"padding: 0;z-index: 1;\" class=\"table-responsive border-overflow-320\">\\n                        <table class=\"table table-striped   smart-form table-height-20\">\\n                          <thead>\\n                          <tr>\\n                            <td>\\n                              <label class=\"checkbox mt-8\">\\n                                <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"check\" (change)=\"changeCheckAll($event)\">\\n                                <i></i>\\n                              </label>\\n                            </td>\\n                            <th>\\u5458\\u5de5ID </th>\\n                            <th>\\u59d3\\u540d</th>\\n                            <th>\\u6240\\u5c5e\\u90e8\\u95e8</th>\\n                          </tr>\\n                          </thead>\\n                          <tbody>\\n                          <tr *ngFor=\"let ul of userList.result?.userList?.data\">\\n                            <td>\\n                              <label class=\"checkbox mt-8\" >\\n                                <input type=\"checkbox\" value=\"{{ul.id}}\" [checked]=\"selected_user[ul.id]\" (change)=\"handle($event);\" />\\n                                <i></i>\\n                              </label>\\n                            </td>\\n                            <td>{{ ul.name }}</td>\\n                            <td>{{ ul.u_username }}</td>\\n                            <td>{{ ul.department_name }}</td>\\n                          </tr>\\n                          </tbody>\\n                        </table>\\n                      </div>\\n\\n                    </div>\\n                    \\x3c!-- \\u5e95\\u90e8-\\uff08\\u5206\\u9875\\u90e8\\u5206\\uff09--\\x3e\\n                    <div class=\"dt-toolbar\">\\n                      <div class=\"col-xs-12 col-sm-6\">\\n                        <span>\\u5171{{userList.result?.userList?.total}}\\u6761</span>\\n                      </div>\\n                      <div class=\"hidden-xs right\">\\n                        <ul class=\"pagination pagination-sm\" *ngIf=\"userList?.result?.page != \\'\\'\">\\n                          <li *ngFor=\"let p of userList?.result?.page\" class=\"{{p.class}}\">\\n                            <a (click)=\"pagination(p.value)\" *ngIf=\"p.method==\\'method\\'\">{{p.text}}</a>\\n                            <a *ngIf=\"p.method==\\'\\'\">{{p.text}}</a>\\n                          </li>\\n                        </ul>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n              </sa-widget>\\n              \\x3c!-- end widget --\\x3e\\n            </article>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\"modal-footer\">\\n        <button type=\"button\" class=\"btn btn-success btn-sm\" data-ng-click=\"ok()\" data-dismiss=\"modal\" (click)=\"submitSelectedUser()\"><span class=\"glyphicon glyphicon-plus\"></span>\\u9009\\u5165</button>\\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"closeSelectedUser()\">\\u8fd4\\u56de</button>\\n      </div>\\n    </div>\\x3c!-- /.modal-content --\\x3e\\n  </div>\\x3c!-- /.modal --\\x3e\\n</div>\\n'},\"XEY/\":function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(\"WT6e\"),n=s(\"Xjw4\"),a=s(\"bfOx\"),l=s(\"R12H\"),o=s(\"ntJC\"),r=s(\"7DMc\"),c=s(\"NOoU\"),d=s(\"xHjW\"),p=s(\"OMJi\"),u=s(\"D1Z2\"),h=s(\"a3dU\"),m=this&&this.__decorate||function(e,t,s,i){var n,a=arguments.length,l=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(a<3?n(l):a>3?n(t,s,l):n(t,s))||l);return a>3&&l&&Object.defineProperty(t,s,l),l},f=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,s,i,n,a,l){this.http=t,this.router=s,this.routInfo=i,this.cookieStore=n,this.globalService=a,this.notificationService=l,this.datePickerConfig={locale:\"zh-CN\",format:\"YYYY-MM-DD\",enableMonthSelector:!0,showMultipleYearsNavigation:!0},this.approve_user=[],this.follower_user=[],this.submit_user_ids=[],this.remove_user_ids=[],this.selected_user=[],this.check=!1,this.userList=[],this.userDefault=[],this.prev=!1,this.next=!1,this.select_department_ids=[],this.showUl=1,this.showUlChild=0,this.keyword=\"\",this.approval_start_date=\"\",this.approval_end_date=\"\",this.imgList=[],this.imgCount=0,this.path=\"\",this.uid=0,this.cid=0,this.type=1,this.approval_or_copy=\"\",this.domain_url=\"\",this.url=this.globalService.getDomain(),this.rollback_url=\"/process/initiate-leave\";this.globalService.navEventEmitter.emit('{\"title\":\"\\u8bf7\\u5047\",\"url\":\"/process/initiate-leave\",\"class_\":\"active\"}'),this.uid=this.cookieStore.getCookie(\"uid\"),this.cid=this.cookieStore.getCookie(\"cid\"),this.domain_url=this.globalService.getDomain(),this.cropperSettings1=new h.a,this.cropperSettings1.width=150,this.cropperSettings1.height=150,this.cropperSettings1.croppedWidth=150,this.cropperSettings1.croppedHeight=150,this.cropperSettings1.canvasWidth=200,this.cropperSettings1.canvasHeight=200,this.cropperSettings1.minWidth=10,this.cropperSettings1.minHeight=10,this.cropperSettings1.rounded=!1,this.cropperSettings1.keepAspect=!0,this.cropperSettings1.cropperDrawSettings.strokeColor=\"rgba(255,255,255,1)\",this.cropperSettings1.cropperDrawSettings.strokeWidth=2,this.data1={},this.formModel=e.group({approval_id:[\"\"],type:[\"\"],day:[\"\"],reason:[\"\"],approval_assign:[\"\"],approval_copy_person:[\"\"]}),this.getUserDefault()}return e.prototype.ngOnInit=function(){},e.prototype.cropped=function(e){this.croppedHeight=e.bottom-e.top,this.croppedWidth=e.right-e.left},e.prototype.onSubmit=function(){var e=this;if(\"\"==this.approval_start_date.trim())return alert(\"\\u8bf7\\u586b\\u5199\\u5f00\\u59cb\\u65e5\\u671f\\uff01\"),!1;if(\"\"==this.approval_end_date.trim())return alert(\"\\u8bf7\\u586b\\u5199\\u7ed3\\u675f\\u65e5\\u671f\\uff01\"),!1;var t=[];this.approve_user.forEach(function(e,s,i){t.push(e.id.toString())});var s=[];this.follower_user.forEach(function(e,t,i){s.push(e.id.toString())}),this.http.post(this.globalService.getDomain()+\"/api/v1/addApproval\",{approval_id:this.formModel.value.approval_id,type:this.formModel.value.type,approval_start_date:this.approval_start_date,approval_end_date:this.approval_end_date,day:this.formModel.value.day,reason:this.formModel.value.reason,approval_img:JSON.stringify(this.imgList),approval_assign:JSON.stringify(t),approval_copy_person:JSON.stringify(s),approval_type:this.type,u_id:this.cookieStore.getCookie(\"uid\"),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var s=JSON.parse(t._body);alert(s.msg),200==s.status?e.router.navigate([\"/process/approval-process\"]):202==s.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"]))})},e.prototype.getUserDefault=function(){var e=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getUserDefault?type=list&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(e){return e.json()}).subscribe(function(t){e.userDefault=t,202==e.userDefault.status&&(alert(e.userDefault.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.select_department_ids[0]=!0,e.userDefault.result.departmentList.forEach(function(t,s,i){e.select_department_ids[t.department_id]=!0,t.has_child>=1&&t.child.forEach(function(t,s,i){e.select_department_ids[t.department_id]=!0})});var s=\"\";e.select_department_ids.forEach(function(e,t,i){1==e&&(s+=t+\",\")}),e.getUserList(\"1\",s)})},e.prototype.getUserList=function(e,t){var s=this,i=this.globalService.getDomain()+\"/api/v1/getUserList?page=\"+e+\"&sid=\"+this.cookieStore.getCookie(\"sid\");if(\"\"!=this.keyword.trim()&&(i+=\"&keyword=\"+this.keyword.trim()),0!=t)i+=\"&depart=\"+t;else{var n=\"\";this.select_department_ids.forEach(function(e,t,s){1==e&&(n+=t+\",\")}),i+=\"&depart=\"+n}this.http.get(i).map(function(e){return e.json()}).subscribe(function(e){if(s.userList=e,202==s.userList.status&&(s.cookieStore.removeAll(s.rollback_url),s.router.navigate([\"/auth/login\"])),s.submit_user_ids=[],s.userList){if(s.userList.result.userList.current_page==s.userList.result.userList.last_page?s.next=!0:s.next=!1,1==s.userList.result.userList.current_page?s.prev=!0:s.prev=!1,s.userList.result.userList)for(var t=0,i=s.userList.result.userList.data;t<i.length;t++){var n=i[t];s.submit_user_ids[n.id]=!1}s.check=!1}})},e.prototype.selectDepartmentAll=function(){var e=this;1==this.select_department_ids[0]?(this.select_department_ids[0]=!1,this.userDefault.result.departmentList.forEach(function(t,s,i){e.select_department_ids[t.department_id]=!1,t.has_child>=1&&t.child.forEach(function(t,s,i){e.select_department_ids[t.department_id]=!1})})):(this.select_department_ids[0]=!0,this.userDefault.result.departmentList.forEach(function(t,s,i){e.select_department_ids[t.department_id]=!0,t.has_child>=1&&t.child.forEach(function(t,s,i){e.select_department_ids[t.department_id]=!0})}));var t=\"\";this.select_department_ids.forEach(function(e,s,i){1==e&&(t+=s+\",\")}),this.getUserList(\"1\",t)},e.prototype.selectDepartment=function(e,t,s,i){var n=this;if(1==i)1==this.select_department_ids[e]?(this.userDefault.result.departmentList[t]&&this.userDefault.result.departmentList[t].has_child>=1&&this.userDefault.result.departmentList[t].child.forEach(function(e,t,s){n.select_department_ids[e.department_id]=!1}),this.select_department_ids[e]=!1):(this.select_department_ids[e]=!0,this.userDefault.result.departmentList[t]&&this.userDefault.result.departmentList[t].has_child>=1&&this.userDefault.result.departmentList[t].child.forEach(function(e,t,s){n.select_department_ids[e.department_id]=!0}));else if(1!=i)if(1==this.select_department_ids[e])this.select_department_ids[i]=!1,this.select_department_ids[e]=!1;else{this.select_department_ids[e]=!0;var a=0;this.userDefault.result.departmentList[t]&&this.userDefault.result.departmentList[t].has_child>=1&&this.userDefault.result.departmentList[t].child.forEach(function(e,t,s){(0==n.select_department_ids[e.department_id]||Object(p.isUndefined)(n.select_department_ids[e.department_id]))&&a++}),0==a&&(this.select_department_ids[i]=!0)}var l=\"\";this.select_department_ids.forEach(function(e,t,s){1==e&&(l+=t+\",\")}),this.leftIsAll(),this.getUserList(\"1\",l)},e.prototype.leftIsAll=function(){var e=this,t=0;this.userDefault.result.departmentList.forEach(function(s,i,n){0==e.select_department_ids[s.department_id]&&t++}),this.select_department_ids[0]=0==t},e.prototype.showLeftUl=function(e){this.showUl=e},e.prototype.showLeftUlChild=function(e){this.showUlChild=e},e.prototype.changeCheckAll=function(e){var t=this,s=e.target.checked;this.submit_user_ids=[],this.selected_user.forEach(function(e,i,n){t.selected_user[i]=s,t.submit_user_ids.push(i)}),this.check=s},e.prototype.handle=function(e){var t=e.target,s=t.value,i=t.checked;this.selected_user[s]=i,1==i?this.submit_user_ids.push(s):this.submit_user_ids.splice(s,1);for(var n=0,a=0,l=this.selected_user;a<l.length;a++){0==l[a]&&(n+=1)}this.check=!(n>=1)},e.prototype.pagination=function(e){this.page=e,this.getUserList(this.page,0)},e.prototype.changeType=function(e){var t=this;this.approval_or_copy=e,\"assign\"==e?this.approve_user.forEach(function(e,s,i){t.selected_user[e.id]=!0,t.submit_user_ids.push(e.id)}):\"follower\"==e&&this.follower_user.forEach(function(e,s,i){t.selected_user[e.id]=!0,t.submit_user_ids.push(e.id)})},e.prototype.submitSelectedUser=function(){var e=this;\"assign\"==this.approval_or_copy&&(this.approve_user=[]),\"follower\"==this.approval_or_copy&&(this.follower_user=[]),this.submit_user_ids.forEach(function(t,s,i){e.userList.result.userList.data.forEach(function(s,i,n){s.id==t&&0!=t&&(\"assign\"==e.approval_or_copy?e.approve_user.push(s):\"follower\"==e.approval_or_copy&&e.follower_user.push(s))})}),this.approval_or_copy=\"\",this.selected_user=[],this.submit_user_ids=[]},e.prototype.removeUser=function(e,t){this.remove_user_ids.push(e);var s=[];\"assign\"==t?(this.approve_user.forEach(function(t,i,n){t.id!=e&&s.push(t)}),this.approve_user=s):\"follower\"==t&&(this.follower_user.forEach(function(t,i,n){t.id!=e&&s.push(t)}),this.follower_user=s)},e.prototype.closeSelectedUser=function(){this.approval_or_copy=\"\",this.selected_user=[],this.submit_user_ids=[]},e.prototype.postFile=function(){var e,t=this,s=document.forms[0],i=new FormData(s);i.append(\"uploadedfile\",this.globalService.convertBase64UrlToBlob(this.data1.image),\"approval_\"+(new Date).getTime()+\".png\");var n=new XMLHttpRequest;n.open(\"POST\",this.globalService.getDomain()+\"/api/v1/uploadFile\"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?(200==(e=JSON.parse(n.response)).status?t.path=e.result:alert(\"\\u4e0a\\u4f20\\u5931\\u8d25\\uff0c\\u65e0\\u6cd5\\u83b7\\u53d6\\u56fe\\u7247\\u4e0a\\u4f20\\u5730\\u5740\"),t.imgList.push(t.path),t.imgCount=t.imgList.length,console.log(t.imgList)):alert(\"\\u4e0a\\u4f20\\u5931\\u8d25,\\u68c0\\u67e5\\u4e0a\\u4f20\\u5730\\u5740\\u662f\\u5426\\u6b63\\u786e\"))},n.send(i)},e.prototype.removeImg=function(e){this.imgList.splice(e,1),this.imgCount=this.imgList.length},m([Object(i.ViewChild)(\"cropper\",void 0),f(\"design:type\",h.b)],e.prototype,\"cropper\",void 0),e=m([Object(u.a)(),Object(i.Component)({selector:\"app-initiate-leave\",template:s(\"HmGx\"),encapsulation:i.ViewEncapsulation.None,styles:[s(\"kblz\")]}),f(\"design:paramtypes\",[r.a,c.b,a.c,a.a,o.a,l.a,d.a])],e)}(),v=[{path:\"\",component:g}],b=a.d.forChild(v),_=s(\"pvSQ\"),y=s(\"JOm+\"),x=s(\"SSMX\"),k=s(\"jfyD\"),w=s(\"I+zP\");s.d(t,\"InitiateLeaveModule\",function(){return S});var L=this&&this.__decorate||function(e,t,s,i){var n,a=arguments.length,l=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(a<3?n(l):a>3?n(t,s,l):n(t,s))||l);return a>3&&l&&Object.defineProperty(t,s,l),l},S=function(){function e(){}return e=L([Object(i.NgModule)({imports:[n.CommonModule,_.a,y.a,b,r.b,r.f,x.a,h.c,w.a],declarations:[g],providers:[k.CookieService,o.a]})],e)}()},kblz:function(e,t){e.exports='@charset \"UTF-8\";\\n/**\\r\\n\\u4e0a\\u4f20\\u56fe\\u7247\\r\\n */\\n/*\\u56fe\\u7247\\u4e0a\\u4f20\\u6309\\u94ae*/\\n.c-file-upload {\\n  display: block;\\n  overflow: hidden;\\n  position: relative; }\\n.c-file-upload [type=file] {\\n    cursor: pointer;\\n    display: block;\\n    filter: alpha(opacity=0);\\n    min-height: 100%;\\n    min-width: 100%;\\n    opacity: 0;\\n    position: absolute;\\n    right: 0;\\n    text-align: right;\\n    top: 0; }\\n/*\\u767d\\u8272*/\\n/*\\u5185\\u5bb9*/\\n.c-content-inner {\\n  background-color: #ffffff;\\n  border: 0px;\\n  border-radius: 1px;\\n  -webkit-box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.03);\\n  box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.03);\\n  -moz-box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.03);\\n  padding: 15px; }\\n.c-mt15 {\\n  margin-top: 15px; }\\n'}});","extractedComments":[]}