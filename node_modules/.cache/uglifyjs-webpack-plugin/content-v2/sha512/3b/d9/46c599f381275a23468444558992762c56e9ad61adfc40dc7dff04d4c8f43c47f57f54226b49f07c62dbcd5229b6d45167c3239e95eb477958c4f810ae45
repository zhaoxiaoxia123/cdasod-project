{"code":"webpackJsonp([95],{UjZs:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(\"WT6e\"),c=n(\"Xjw4\"),l=n(\"bfOx\"),r=n(\"R12H\"),o=n(\"ntJC\"),s=n(\"NOoU\"),a=n(\"OMJi\"),d=this&&this.__decorate||function(e,t,n,i){var c,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(c=e[o])&&(r=(l<3?c(r):l>3?c(t,n,r):c(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r},u=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,n,i){this.http=e,this.router=t,this.cookieStore=n,this.globalService=i,this.state={tabs:{demo3:\"hr1\"}},this.customerDefault=[],this.roleList=[],this.select_category_ids=[],this.showUl=1,this.showUlChild=0,this.showUlChild3=0,this.editStatusCategoryId=0,this.customer_id=0,this.role=1,this.category_type=7,this.rollback_url=\"/account/account-permissions\",this.c_id=this.cookieStore.getCookie(\"cid\"),this.admin_c_id=this.globalService.getAdminID(),this.c_id==this.admin_c_id&&this.getCustomerDefault()}return e.prototype.ngOnInit=function(){},e.prototype.getCustomerDefault=function(){var e=this,t=this.globalService.getDomain()+\"/api/v1/getPermissionCustomerDefault?role=\"+this.role+\"&sid=\"+this.cookieStore.getCookie(\"sid\");this.http.get(t).map(function(e){return e.json()}).subscribe(function(t){e.customerDefault=t,202==e.customerDefault.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),(e.customerDefault.status=e.customerDefault.result.customerList.length>0)&&(e.customer_id=e.customerDefault.result.customerList[0].c_id,e.getRole(e.customer_id))})},e.prototype.selectCategoryAll=function(){var e=this;1==this.select_category_ids.id_0?(this.select_category_ids.id_0=!1,this.customerDefault.result.menuList.forEach(function(t,n,i){e.select_category_ids[\"id_\"+t.menu_id]=!1,t.child_count>=1&&t.child.forEach(function(t,n,i){e.select_category_ids[\"id_\"+t.menu_id]=!1,t.child_count>=1&&t.child.forEach(function(t,n,i){e.select_category_ids[\"id_\"+t.menu_id]=!0})})})):(this.select_category_ids.id_0=!0,this.customerDefault.result.menuList.forEach(function(t,n,i){e.select_category_ids[\"id_\"+t.menu_id]=!0,t.child_count>=1&&t.child.forEach(function(t,n,i){e.select_category_ids[\"id_\"+t.menu_id]=!0,t.child_count>=1&&t.child.forEach(function(t,n,i){e.select_category_ids[\"id_\"+t.menu_id]=!0})})}))},e.prototype.selectMenu=function(e,t,n,i){var c=this;if(1==i)1==this.select_category_ids[\"id_\"+e]?(this.customerDefault.result.menuList[t]&&this.customerDefault.result.menuList[t].child_count>=1&&this.customerDefault.result.menuList[t].child.forEach(function(e,t,n){c.select_category_ids[\"id_\"+e.menu_id]=!1}),this.select_category_ids[\"id_\"+e]=!1):(this.select_category_ids[\"id_\"+e]=!0,this.customerDefault.result.menuList[t]&&this.customerDefault.result.menuList[t].child_count>=1&&this.customerDefault.result.menuList[t].child.forEach(function(e,t,n){c.select_category_ids[\"id_\"+e.menu_id]=!0}));else if(1!=i)if(1==this.select_category_ids[\"id_\"+e])this.select_category_ids[\"id_\"+i]=!1,this.select_category_ids[\"id_\"+e]=!1;else{this.select_category_ids[\"id_\"+e]=!0;var l=0;this.customerDefault.result.menuList[t]&&this.customerDefault.result.menuList[t].child_count>=1&&this.customerDefault.result.menuList[t].child.forEach(function(e,t,n){(0==c.select_category_ids[\"id_\"+e.menu_id]||Object(a.isUndefined)(c.select_category_ids[\"id\"+e.menu_id]))&&l++}),0==l&&(this.select_category_ids[\"id_\"+i]=!0)}console.log(\"this.select_category_ids:------\"),console.log(this.select_category_ids),this.editStatusCategoryId=0},e.prototype.selectControl=function(e){var t=e.target.value;this.select_category_ids[\"id_\"+t]?this.select_category_ids[\"id_\"+t]=!1:this.select_category_ids[\"id_\"+t]=!0,console.log(\"this.select_category_ids:~~~~~~~\"),console.log(this.select_category_ids)},e.prototype.showLeftUl=function(e){this.showUl=e},e.prototype.showLeftUlChild=function(e){this.showUlChild=e},e.prototype.showLeftUlChild3=function(e){this.showUlChild3=e},e.prototype.getRole=function(e){var t=this,n=e;Object(a.isNumber)(n)||(n=e.target.value);var i=this.globalService.getDomain()+\"/api/v1/getCategoryByType?c_id=\"+n+\"&category_type=\"+this.category_type;this.http.get(i).map(function(e){return e.json()}).subscribe(function(e){t.roleList=e,202==t.roleList.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"]))})},e.prototype.isStatusShow=function(e){this.editStatusCategoryId=e},e.prototype.submitControl=function(){if(0==this.editStatusCategoryId)alert(\"\\u8bf7\\u9009\\u4e2d\\u8981\\u6388\\u6743\\u5f97\\u89d2\\u8272\\uff01\");else{console.log(JSON.stringify(this.select_category_ids));var e=[];this.select_category_ids.forEach(function(t,n,i){console.log(n),e.push(n.toString()),console.log(t)}),console.log(e),console.log(JSON.stringify(e))}},e=d([Object(i.Component)({selector:\"app-account-permissions\",template:n(\"uGuf\")}),u(\"design:paramtypes\",[s.b,l.c,o.a,r.a])],e)}(),_=[{path:\"\",component:h}],f=l.d.forChild(_),b=n(\"pvSQ\"),g=n(\"JOm+\");n.d(t,\"AccountPermissionsModule\",function(){return p});var m=this&&this.__decorate||function(e,t,n,i){var c,l=arguments.length,r=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(c=e[o])&&(r=(l<3?c(r):l>3?c(t,n,r):c(t,n))||r);return l>3&&r&&Object.defineProperty(t,n,r),r},p=function(){function e(){}return e=m([Object(i.NgModule)({imports:[c.CommonModule,b.a,g.a,f],declarations:[h]})],e)}()},uGuf:function(e,t){e.exports='<div id=\"content\">\\r\\n  <sa-widgets-grid>\\r\\n    <div class=\"row\">\\r\\n      <article class=\"col-sm-12 \">\\r\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" [colorbutton]=\"false\">\\r\\n          <header>\\r\\n            <span class=\"widget-icon\"> <i class=\"fa fa-spoon\"></i> </span>\\r\\n            <h2>\\u6743\\u9650\\u7ba1\\u7406</h2>\\r\\n          </header>\\r\\n          <div>\\r\\n            <div class=\"widget-body no-padding\" >\\r\\n              <div class=\"pt\">\\r\\n\\r\\n                <div *ngIf=\"c_id == admin_c_id\">\\r\\n                  <select [(ngModel)]=\"customer_id\" name=\"customer_id\" (change)=\"getRole($event)\">\\r\\n                    <option *ngFor=\"let cd of customerDefault?.result?.customerList\" value=\"{{cd.c_id}}\">{{cd.c_name}}</option>\\r\\n                  </select>\\r\\n                </div>\\r\\n\\r\\n                <article class=\"form-group col col-lg-6 col-md-6 col-sm-6  col-xs-6\">\\r\\n                  <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\r\\n                             [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\r\\n                    <div>\\r\\n                      <div class=\"widget-body no-padding\">\\r\\n                        <alert type=\"info\" class=\"no-margin\" >\\r\\n                          <i class=\"fa-fw fa fa-table\"></i>\\r\\n                          \\u89d2\\u8272\\u5217\\u8868\\r\\n                        </alert>\\r\\n                        <div class=\"mt-10\"  style=\"padding:0;\">\\r\\n                          <div style=\"padding: 0;z-index: 2;\" class=\"table-responsive\">\\r\\n                            <table class=\"table table-striped   smart-form\">\\r\\n                              <thead>\\r\\n                              <tr >\\r\\n                                <th>\\u89d2\\u8272\\u7f16\\u53f7</th>\\r\\n                                <th>\\u540d\\u79f0</th>\\r\\n                              </tr>\\r\\n                              </thead>\\r\\n                              <tbody>\\r\\n                              <tr *ngFor=\"let r of roleList?.result\" (click)=\"isStatusShow(r.category_id)\" [ngClass]=\"{\\'table-color\\':editStatusCategoryId == r.category_id}\">\\r\\n                                <td>{{r.category_id}}</td>\\r\\n                                <td>{{r.category_desc}}</td>\\r\\n                              </tr>\\r\\n                              </tbody>\\r\\n                            </table>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </sa-widget>\\r\\n                  \\x3c!-- end widget --\\x3e\\r\\n                </article>\\r\\n                <article class=\"form-group col col-lg-6 col-md-6 col-sm-6  col-xs-6\">\\r\\n                  <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\r\\n                             [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\r\\n                    <div>\\r\\n                      <div class=\"widget-body no-padding\">\\r\\n                        <alert type=\"info\" class=\"no-margin\">\\r\\n                          <i class=\"fa-fw fa fa-sitemap\"></i>\\r\\n                          \\u89d2\\u8272\\u6388\\u6743\\r\\n                        </alert>\\r\\n                        <form   class=\"smart-form \">\\r\\n                          <div class=\"pd-10\">\\r\\n                            <div class=\"widget-body\">\\r\\n                              <div class=\"tree smart-form\">\\r\\n                                <ul class=\"\">\\r\\n                                  <li class=\" parent_li\">\\r\\n                                    <span>\\r\\n                                      <label class=\"checkbox inline-block tree-label pt-12 \">\\r\\n                                        <input name=\"checkbox-inline\" type=\"checkbox\" [checked]=\"select_category_ids[\\'id_0\\']\" (click)=\"selectCategoryAll()\"><i></i>\\r\\n                                      </label>\\r\\n                                      \\u6743\\u9650\\u7ba1\\u7406\\r\\n                                    <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUl == 0\" (click)=\"showLeftUl(1)\"></i>\\r\\n                                    <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUl == 1\" (click)=\"showLeftUl(0)\"></i>\\r\\n                                    </span>\\r\\n\\r\\n                                    <ul *ngIf=\"showUl == 1\">\\r\\n                                      <li class=\" parent_li\" *ngFor=\"let c of customerDefault?.result?.menuList;let ind = index;\">\\r\\n                                      <span>\\r\\n                                        <label class=\"checkbox inline-block tree-label \">\\r\\n                                          <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_category_ids[\\'id_\\'+c.menu_id]\" (click)=\"selectMenu(c.menu_id,ind,0,1)\">\\r\\n                                          <i></i>{{c.menu_name}}\\r\\n                                        </label>\\r\\n                                        <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUlChild == c.menu_id && c.child_count != 0\" (click)=\"showLeftUlChild(0)\"></i>\\r\\n                                        <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUlChild != c.menu_id && c.child_count != 0\" (click)=\"showLeftUlChild(c.menu_id)\"></i>\\r\\n                                      </span>\\r\\n                                        <ul *ngIf=\"showUlChild == c.menu_id\">\\r\\n                                          <li *ngFor=\"let dc of c.child;let indChild = index;\">\\r\\n                                            <span>\\r\\n                                              <label class=\"checkbox inline-block tree-label\">\\r\\n                                                <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_category_ids[\\'id_\\'+c.menu_id] || select_category_ids[\\'id_\\'+dc.menu_id]\" (click)=\"selectMenu(dc.menu_id,ind,indChild,c.menu_id)\">\\r\\n                                                <i></i>{{dc.menu_name}}\\r\\n                                              </label>\\r\\n                                              <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUlChild3 == dc.menu_id && dc.child_count != 0\" (click)=\"showLeftUlChild3(0)\"></i>\\r\\n                                              <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUlChild3 != dc.menu_id && dc.child_count != 0\" (click)=\"showLeftUlChild3(dc.menu_id)\"></i>\\r\\n                                            </span>\\r\\n                                            <ul *ngIf=\"dc.child_count > 0 && showUlChild3 == dc.menu_id\">\\r\\n                                              <li *ngFor=\"let dc1 of dc.child;let indChild1 = index;\">\\r\\n                                                <span>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" [checked]=\"select_category_ids[\\'id_\\'+c.menu_id] || select_category_ids[\\'id_\\'+dc.menu_id] || select_category_ids[\\'id_\\'+dc1.menu_id]\" (click)=\"selectMenu(dc1.menu_id,indChild,indChild1,dc.menu_id)\">\\r\\n                                                    <i></i>{{dc1.menu_name}}\\r\\n                                                  </label>\\r\\n                                                </span>\\r\\n                                                <ul *ngIf=\"dc1.child_count == 0\">\\r\\n                                                  <li *ngFor=\"let dc2 of dc1.controls;let indChild2 = index;\">\\r\\n                                                <span>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc2 == \\'add\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc1.menu_id}}_{{dc2}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u6dfb\\u52a0\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc2 == \\'edit\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc1.menu_id}}_{{dc2}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u4fee\\u6539\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc2 == \\'detail\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc1.menu_id}}_{{dc2}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u8be6\\u60c5\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc2 == \\'delete\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc1.menu_id}}_{{dc2}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u5220\\u9664\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc2 == \\'verify\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc1.menu_id}}_{{dc2}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u5ba1\\u6838\\r\\n                                                  </label>\\r\\n                                                </span>\\r\\n                                                  </li>\\r\\n                                                </ul>\\r\\n\\r\\n                                              </li>\\r\\n                                            </ul>\\r\\n\\r\\n                                            <ul *ngIf=\"dc.child_count == 0\">\\r\\n                                              <li *ngFor=\"let dc1 of dc.controls;let indChild1 = index;\">\\r\\n                                                <span>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'add\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u6dfb\\u52a0\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'edit\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u4fee\\u6539\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'detail\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u8be6\\u60c5\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'delete\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u5220\\u9664\\r\\n                                                  </label>\\r\\n                                                  <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'verify\\'\">\\r\\n                                                    <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{dc.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                    <i></i>\\u5ba1\\u6838\\r\\n                                                  </label>\\r\\n                                                </span>\\r\\n                                              </li>\\r\\n                                            </ul>\\r\\n                                          </li>\\r\\n                                        </ul>\\r\\n\\r\\n\\r\\n                                        <ul *ngIf=\"c.child_count == 0\">\\r\\n                                          <li *ngFor=\"let dc1 of c.controls;let indChild1 = index;\">\\r\\n                                            <span>\\r\\n                                              <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'add\\'\">\\r\\n                                                <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{c.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                <i></i>\\u6dfb\\u52a0\\r\\n                                              </label>\\r\\n                                              <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'edit\\'\">\\r\\n                                                <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{c.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                <i></i>\\u4fee\\u6539\\r\\n                                              </label>\\r\\n                                              <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'detail\\'\">\\r\\n                                                <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{c.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                <i></i>\\u8be6\\u60c5\\r\\n                                              </label>\\r\\n                                              <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'delete\\'\">\\r\\n                                                <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{c.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                <i></i>\\u5220\\u9664\\r\\n                                              </label>\\r\\n                                              <label class=\"checkbox inline-block tree-label\" *ngIf=\"dc1 == \\'verify\\'\">\\r\\n                                                <input name=\"checkbox-inline\" type=\"checkbox\" value=\"{{c.menu_id}}_{{dc1}}\" (click)=\"selectControl($event)\">\\r\\n                                                <i></i>\\u5ba1\\u6838\\r\\n                                              </label>\\r\\n                                            </span>\\r\\n                                          </li>\\r\\n                                        </ul>\\r\\n\\r\\n\\r\\n                                      </li>\\r\\n                                    </ul>\\r\\n\\r\\n\\r\\n                                  </li>\\r\\n                                </ul>\\r\\n                              </div>\\r\\n\\r\\n                            </div>\\r\\n                          </div>\\r\\n                          <footer>\\r\\n                            <button class=\"btn btn-primary\" type=\"button\">\\r\\n                              \\u91cd\\u7f6e\\r\\n                            </button>\\r\\n                            <button class=\"btn btn-primary\" type=\"button\" (click)=\"submitControl()\">\\r\\n                              \\u4fdd\\u5b58\\r\\n                            </button>\\r\\n                          </footer>\\r\\n                        </form>\\r\\n\\r\\n\\r\\n\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </sa-widget>\\r\\n                </article>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </article>\\r\\n    </div>\\r\\n  </sa-widgets-grid>\\r\\n</div>\\r\\n'}});","extractedComments":[]}