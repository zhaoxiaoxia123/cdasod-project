{"code":"webpackJsonp([8],{HmGx:function(e,t){e.exports='<div id=\"content\">\\r\\n  <sa-widgets-grid>\\r\\n    <div class=\"row\">\\r\\n      <article class=\"col-sm-12 \">\\r\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" >\\r\\n          <header >\\r\\n            <span class=\"widget-icon\"> <i class=\"fa fa-edit\"></i> </span>\\r\\n            <h2 >\\u8bf7\\u5047</h2>\\r\\n          </header>\\r\\n          <div>\\r\\n            \\x3c!--\\u5c0f\\u90e8\\u4ef6\\u5185\\u5bb9--\\x3e\\r\\n            <div class=\"widget-body no-padding\">\\r\\n              <form id=\"smart-form-register\" class=\"smart-form\" [formGroup]=\"formModel\" (ngSubmit)=\"onSubmit()\" >\\r\\n                <fieldset>\\r\\n                  <legend>\\u57fa\\u672c\\u4fe1\\u606f</legend>\\r\\n                  <input type=\"hidden\" name=\"\">\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <label class=\"label txt-color-blue\">\\u8bf7\\u5047\\u7c7b\\u578b<span class=\"asterisk-color\">*</span></label>\\r\\n                    <section>\\r\\n                        <label   class=\"select form-control border-0\">\\r\\n                          <select  name=\"type\" formControlName=\"type\" >\\r\\n                            <option  value=\"0\" disabled>--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                            <option  value=\"\\u4e8b\\u5047\">\\u4e8b\\u5047</option>\\r\\n                            <option  value=\"\\u75c5\\u5047\">\\u75c5\\u5047</option>\\r\\n                            <option  value=\"\\u5e74\\u5047\">\\u5e74\\u5047</option>\\r\\n                            <option  value=\"\\u8c03\\u4f11\">\\u8c03\\u4f11</option>\\r\\n                            <option  value=\"\\u5a5a\\u5047\">\\u5a5a\\u5047</option>\\r\\n                            <option  value=\"\\u4ea7\\u5047\">\\u4ea7\\u5047</option>\\r\\n                            <option  value=\"\\u966a\\u4ea7\\u5047\">\\u966a\\u4ea7\\u5047</option>\\r\\n                            <option  value=\"\\u8def\\u9014\\u5047\">\\u8def\\u9014\\u5047</option>\\r\\n                            <option  value=\"\\u5176\\u4ed6\">\\u5176\\u4ed6</option>\\r\\n                          </select><i></i>\\r\\n                        </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <section >\\r\\n                      <label class=\"label txt-color-blue\">\\u5f00\\u59cb\\u65e5\\u671f<span class=\"asterisk-color\">*</span></label>\\r\\n                      <label  class=\"input\">\\r\\n                        <input name=\"approval_start_date\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"approval_start_date\" value=\"{{approval_start_date}}\" [dpDayPicker]=\"datePickerConfig\" [theme]=\"\\'dp-material\\'\" [mode]=\"\\'day\\'\"  class=\"form-control ng-binding expire-text-soon\" placeholder=\"\\u9009\\u62e9\\u65e5\\u671f\\uff08\\u5fc5\\u586b\\uff09\" />\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <section >\\r\\n                      <label class=\"label txt-color-blue\">\\u7ed3\\u675f\\u65e5\\u671f<span class=\"asterisk-color\">*</span></label>\\r\\n                      <label  class=\"input\">\\r\\n                        <input name=\"approval_end_date\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"approval_end_date\" value=\"{{approval_end_date}}\" [dpDayPicker]=\"datePickerConfig\" [theme]=\"\\'dp-material\\'\" [mode]=\"\\'day\\'\"  class=\"form-control ng-binding expire-text-soon\" placeholder=\"\\u9009\\u62e9\\u65e5\\u671f\\uff08\\u5fc5\\u586b\\uff09\" />\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <section>\\r\\n                      <label class=\"label txt-color-blue\">\\u8bf7\\u5047\\u5929\\u6570<span class=\"asterisk-color\">*</span></label>\\r\\n                      <label class=\"input\">\\r\\n                        <input  type=\"number\" placeholder=\"\\u8bf7\\u5047\\u5929\\u6570\\uff08\\u5fc5\\u586b\\uff09\" name=\"day\" formControlName=\"day\">\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\\r\\n                    <section>\\r\\n                      <label class=\"label txt-color-blue\">\\u8bf7\\u5047\\u4e8b\\u7531<span class=\"asterisk-color\">*</span></label>\\r\\n                      <label class=\"textarea textarea-resizable\">\\r\\n                        <textarea class=\"custom-scroll\" rows=\"4\" placeholder=\"\\u8bf7\\u5047\\u4e8b\\u7531\\uff08\\u5fc5\\u586b\\uff09\" name=\"reason\" formControlName=\"reason\"></textarea>\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\\r\\n                    <div class=\"label \">\\u56fe\\u7247\\r\\n                      <a class=\"txt-color-blue pd-10\" data-toggle=\"modal\" data-target=\"#mypicture\">\\u6dfb\\u52a0\\u56fe\\u7247</a>\\r\\n                      <span class=\"txt-color-blueLight pd-10\">(\\u6700\\u591a\\u53ef\\u4ee5\\u9009\\u62e910\\u5f20)</span>\\r\\n                    </div>\\r\\n                    <div  class=\"picture mb-20\">\\r\\n                      <div  class=\"picture-list\" *ngFor=\"let img of imgList;let ind = index;\">\\r\\n                        <a  class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeImg(ind)\"></a>\\r\\n                        <img width=\"90px\" height=\"90px\" src=\"{{url}}{{img}}\" data-toggle=\"modal\" data-target=\"#image-details\">\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\r\\n                    <div class=\"label \">\\u9644\\u4ef6<a class=\"txt-color-blue pd-10\" >\\u6dfb\\u52a0\\u9644\\u4ef6</a></div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\r\\n                    <div class=\"label \">\\u5ba1\\u6279\\u4eba<a class=\"txt-color-blue pd-10\" data-toggle=\"modal\" data-target=\"#myModal\" (click)=\"changeType(\\'assign\\')\">\\u6dfb\\u52a0\\u5ba1\\u6279\\u4eba</a></div>\\r\\n                    <ul  class=\"avatars\">\\r\\n                      <li *ngFor=\"let su of approve_user;let ind = index;\">\\r\\n                        <a class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su.id,\\'assign\\')\"></a>\\r\\n                        <a  class=\"portrait-size\" title=\"{{su.u_username}}\">\\r\\n                          {{su.u_username}}\\r\\n                        </a>\\r\\n                        <div class=\"approval-arrow\" *ngIf=\"ind < approve_user.length && ind != 0\">\\r\\n                          <img  src=\"assets/img/icon/arrow.png\" >\\r\\n                        </div>\\r\\n                      </li>\\r\\n                    </ul>\\r\\n\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\r\\n                    <div class=\"label \">\\u6284\\u9001\\u4eba<a class=\"txt-color-blue pd-10\" data-toggle=\"modal\" data-target=\"#myModal\" (click)=\"changeType(\\'follower\\')\">\\u6dfb\\u52a0\\u6284\\u9001\\u4eba</a><span class=\"txt-color-blueLight pd-10\">(\\u5ba1\\u6279\\u901a\\u8fc7\\u540e\\uff0c\\u901a\\u77e5\\u6284\\u9001\\u4eba)</span></div>\\r\\n                    <ul  class=\"avatars\">\\r\\n                      <li *ngFor=\"let su1 of follower_user;let ind1 = index;\">\\r\\n                        <a class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su1.id,\\'follower\\')\"></a>\\r\\n                        <a  class=\"portrait-size\" title=\"{{su1.u_username}}\">\\r\\n                          {{su1.u_username}}\\r\\n                        </a>\\r\\n                      </li>\\r\\n                    </ul>\\r\\n\\r\\n                  </div>\\r\\n\\r\\n                </fieldset>\\r\\n                <footer>\\r\\n                  <button type=\"button\" class=\"btn btn-default\" >\\r\\n                    \\u8fd4\\u56de\\r\\n                  </button>\\r\\n                  <button class=\"btn btn-success\" type=\"button\">\\u63d0\\u4ea4\\u5e76\\u65b0\\u589e</button>\\r\\n                  <button  type=\"submit\" class=\"btn btn-primary\">\\r\\n                    \\u63d0\\u4ea4\\r\\n                  </button>\\r\\n                </footer>\\r\\n              </form>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </article>\\r\\n    </div>\\r\\n  </sa-widgets-grid>\\r\\n</div>\\r\\n\\r\\n<div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\\r\\n<div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content\">\\r\\n      <div class=\"modal-header\">\\r\\n        \\x3c!-- \\u5173\\u95ed\\u6309\\u94ae --\\x3e\\r\\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\" (click)=\"closeSelectedUser()\">\\xd7</button>\\r\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\r\\n        <h3 class=\"modal-title txt-color-blue\" data-ng-bind=\\'results.title\\'><i class=\"fa-fw fa fa-plus\"></i>\\u9009\\u62e9\\u4eba</h3>\\r\\n      </div>\\r\\n      <div class=\"modal-body \">\\r\\n        <div  class=\"row\">\\r\\n          <article  class=\"col-sm-12\">\\r\\n            <div class=\"navbar navbar-default\">\\r\\n              <div class=\"collapse navbar-collapse\">\\r\\n                <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n                  <div class=\"form-group pdlr-4\">\\r\\n                    <div class=\"form-group padding-left-10\">\\r\\n                      <input  class=\"form-control ng-pristine ng-valid ng-touched\" maxlength=\"15\" [(ngModel)]=\"keyword\" name=\"keyword\" placeholder=\"\\u8bf7\\u8f93\\u5165\\u641c\\u7d22\\u5185\\u5bb9\" type=\"text\">\\r\\n                    </div>\\r\\n                    <button class=\"btn btn-default\" type=\"button\" (click)=\"getUserList(1,0)\">\\r\\n                      <i  class=\"glyphicon glyphicon-search\"></i>\\r\\n                      \\u641c\\u7d22\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </form>\\r\\n              </div>\\r\\n            </div>\\r\\n          </article>\\r\\n        </div>\\r\\n        <div class=\"pt\">\\r\\n          <div class=\"row margin-b50\" style=\"padding:0 10px;\">\\r\\n            <article class=\"form-group col col-xs-4 \">\\r\\n              <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\r\\n                         [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\r\\n                <div>\\r\\n                  <div class=\"widget-body no-padding\">\\r\\n                    <alert type=\"info\" class=\"no-margin\">\\r\\n                      <i class=\"fa-fw fa fa-sitemap\"></i>\\r\\n                      \\u90e8\\u95e8\\u5206\\u7c7b\\r\\n                    </alert>\\r\\n                    <div class=\"pd-10 border-overflow-320\" style=\"margin-top: -11px;\">\\r\\n                      <div class=\"widget-body\">\\r\\n                        <div class=\"tree smart-form\">\\r\\n                          <ul class=\"\">\\r\\n                            <li class=\" parent_li\">\\r\\n                                <span>\\r\\n                                  <label class=\"checkbox inline-block tree-label pt-12 \">\\r\\n                                      <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_department_ids[0]\" (click)=\"selectDepartmentAll()\"><i></i>\\r\\n                                    </label>\\r\\n\\r\\n                                  <i class=\"fa fa-lg fa-folder-open\"></i>{{customer_name}}\\r\\n                                  <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUl == 0\" (click)=\"showLeftUl(1)\"></i>\\r\\n                                  <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUl == 1\" (click)=\"showLeftUl(0)\"></i>\\r\\n                                </span>\\r\\n                              <ul *ngIf=\"showUl == 1\">\\r\\n                                <li class=\" parent_li\" *ngFor=\"let d of userDefault?.result?.departmentList;let ind = index;\">\\r\\n                                  <span>\\r\\n                                    <label class=\"checkbox inline-block tree-label \">\\r\\n                                      <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_department_ids[d.department_id]\" (click)=\"selectDepartment(d.department_id,ind,0,1)\"><i></i>{{d.department_name}}\\r\\n                                      <em class=\"txt-color-blue\">({{d.child_count}})</em>\\r\\n                                    </label>\\r\\n                                    <i class=\"sa-icon fa fa-lg fa-minus-circle\" *ngIf=\"showUlChild == d.department_id && d.has_child != 0\" (click)=\"showLeftUlChild(0)\"></i>\\r\\n                                    <i class=\"sa-icon fa fa-lg fa-plus-circle\" *ngIf=\"showUlChild != d.department_id && d.has_child != 0\" (click)=\"showLeftUlChild(d.department_id)\"></i>\\r\\n                                  </span>\\r\\n                                  <ul class=\"\" *ngIf=\"showUlChild == d.department_id\">\\r\\n                                    <li *ngFor=\"let dc of d.child;let indChild = index;\">\\r\\n                                      <span>\\r\\n                                        <label class=\"checkbox inline-block tree-label\">\\r\\n                                          <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"select_department_ids[d.department_id] || select_department_ids[dc.department_id]\" (click)=\"selectDepartment(dc.department_id,ind,indChild,d.department_id)\">\\r\\n                                          <i></i>{{dc.department_name}}\\r\\n                                          <em class=\"txt-color-blue\">({{dc.child_count}})</em>\\r\\n                                        </label>\\r\\n                                      </span>\\r\\n                                    </li>\\r\\n                                  </ul>\\r\\n                                </li>\\r\\n                              </ul>\\r\\n                            </li>\\r\\n                          </ul>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\"dt-toolbar\">\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </sa-widget>\\r\\n\\r\\n            </article>\\r\\n            <article class=\"form-group col col-xs-8 \">\\r\\n              <sa-widget class=\"jarviswidget well\" [colorbutton]=\"false\" [editbutton]=\"false\" [togglebutton]=\"false\"\\r\\n                         [deletebutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\r\\n                <div>\\r\\n                  <div class=\"widget-body no-padding\">\\r\\n                    <alert type=\"info\" class=\"no-margin\" >\\r\\n                      <i class=\"fa-fw fa fa-table\"></i>\\r\\n                      \\u5458\\u5de5\\u5217\\u8868\\r\\n                    </alert>\\r\\n                    <div class=\"mt-10 \"  style=\"padding:0;\">\\r\\n                      <div style=\"padding: 0;z-index: 1;\" class=\"table-responsive border-overflow-320\">\\r\\n                        <table class=\"table table-striped   smart-form table-height-20\">\\r\\n                          <thead>\\r\\n                          <tr>\\r\\n                            <td>\\r\\n                              <label class=\"checkbox mt-8\">\\r\\n                                <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"check\" (change)=\"changeCheckAll($event)\">\\r\\n                                <i></i>\\r\\n                              </label>\\r\\n                            </td>\\r\\n                            <th>\\u5458\\u5de5ID </th>\\r\\n                            <th>\\u59d3\\u540d</th>\\r\\n                            <th>\\u6240\\u5c5e\\u90e8\\u95e8</th>\\r\\n                          </tr>\\r\\n                          </thead>\\r\\n                          <tbody>\\r\\n                          <tr *ngFor=\"let ul of userList.result?.userList?.data\">\\r\\n                            <td>\\r\\n                              <label class=\"checkbox mt-8\" >\\r\\n                                <input type=\"checkbox\" value=\"{{ul.id}}\" [checked]=\"selected_user[ul.id]\" (change)=\"handle($event);\" />\\r\\n                                <i></i>\\r\\n                              </label>\\r\\n                            </td>\\r\\n                            <td>{{ ul.name }}</td>\\r\\n                            <td>{{ ul.u_username }}</td>\\r\\n                            <td>{{ ul.department_name }}</td>\\r\\n                          </tr>\\r\\n                          </tbody>\\r\\n                        </table>\\r\\n                      </div>\\r\\n\\r\\n                    </div>\\r\\n                    \\x3c!-- \\u5e95\\u90e8-\\uff08\\u5206\\u9875\\u90e8\\u5206\\uff09--\\x3e\\r\\n                    <div class=\"dt-toolbar\">\\r\\n                      <div class=\"col-xs-12 col-sm-6\">\\r\\n                        <span>\\u5171{{userList.result?.userList?.total}}\\u6761</span>\\r\\n                      </div>\\r\\n                      <div class=\"hidden-xs right\">\\r\\n                        <ul class=\"pagination pagination-sm\" *ngIf=\"userList?.result?.page != \\'\\'\">\\r\\n                          <li *ngFor=\"let p of userList?.result?.page\" class=\"{{p.class}}\">\\r\\n                            <a (click)=\"pagination(p.value)\" *ngIf=\"p.method==\\'method\\'\">{{p.text}}</a>\\r\\n                            <a *ngIf=\"p.method==\\'\\'\">{{p.text}}</a>\\r\\n                          </li>\\r\\n                        </ul>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </sa-widget>\\r\\n              \\x3c!-- end widget --\\x3e\\r\\n            </article>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"modal-footer\">\\r\\n        <button type=\"button\" class=\"btn btn-success btn-sm\" data-ng-click=\"ok()\" data-dismiss=\"modal\" (click)=\"submitSelectedUser()\"><span class=\"glyphicon glyphicon-plus\"></span>\\u9009\\u5165</button>\\r\\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"closeSelectedUser()\">\\u8fd4\\u56de</button>\\r\\n      </div>\\r\\n    </div>\\x3c!-- /.modal-content --\\x3e\\r\\n  </div>\\x3c!-- /.modal --\\x3e\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<div class=\"modal fade\" id=\"mypicture\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\\r\\n  <div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content\">\\r\\n      <div class=\"modal-header\">\\r\\n\\r\\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\\r\\n          \\xd7\\r\\n        </button>\\r\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\r\\n        <h3 class=\"modal-title\" data-ng-bind=\\'results.title\\'>\\u4e0a\\u4f20\\u56fe\\u7247</h3>\\r\\n\\r\\n      </div>\\r\\n      <div class=\"modal-body\">\\r\\n        <div class=\"row\">\\r\\n          <div class=\"col-xs-12\">\\r\\n            <div>\\r\\n              <ul class=\"clearfix pd-10\"  >\\r\\n                <li class=\"picture-list\" *ngFor=\"let img of imgList;let ind = index;\">\\r\\n                  <a  class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeImg(ind)\"></a>\\r\\n                  <img width=\"90px\" height=\"90px\" src=\"{{url}}{{img}}\">\\r\\n                </li>\\r\\n                <li>\\r\\n                  <img-cropper #cropper [image]=\"data1\" [settings]=\"cropperSettings1\" (onCrop)=\"cropped($event)\"></img-cropper>\\r\\n                </li>\\r\\n                <li class=\"picture-list\" *ngIf=\"imgCount < 10\">\\r\\n                  <div  class=\"c-file-upload\" style=\"overflow: visible;\">\\r\\n                    <a class=\"btn btn-default\"   style=\"width: 100px; height: 100px;\">\\r\\n                      <i class=\"fa fa-plus fa-2x\" style=\"color: #ccc;  font-size: 90px;\"></i>\\r\\n                    </a>\\r\\n                    <input id=\"image-input\" class=\"btn btn-default \" type=\"file\" c-img-cropper-select [cropper]=\"cropper\">\\r\\n                  </div>\\r\\n                </li>\\r\\n              </ul>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"modal-footer\">\\r\\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"postFile()\" >\\u786e\\u5b9a\\u4e0a\\u4f20</button>\\r\\n        <button type=\"button\" class=\" btn btn-default\" data-dismiss=\"modal\">\\u5173\\u95ed</button>\\r\\n      </div>\\r\\n    </div>\\x3c!-- /.modal-content --\\x3e\\r\\n  </div>\\x3c!-- /.modal --\\x3e\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<div class=\"modal fade bg-transparent\" id=\"image-details\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\\r\\n  <div class=\"modal-dialog\">\\r\\n    <div class=\"text-align-center\">\\r\\n      <ul>\\r\\n        <li class=\"picture-normal\">\\r\\n          <a class=\"fa fa-times-circle picture-normal-a\" style=\"display:block;\" data-dismiss=\"modal\"></a>\\r\\n          <img  src=\"https://static.kuangyibang.com/wp/2016/12/careers-main2.jpg\">\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div>\\r\\n\\r\\n  </div>\\x3c!-- /.modal --\\x3e\\r\\n</div>\\r\\n\\r\\n\\r\\n'},\"XEY/\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(\"WT6e\"),i=r(\"Xjw4\"),n=r(\"bfOx\"),a=r(\"R12H\"),l=r(\"ntJC\"),o=r(\"7DMc\"),c=r(\"NOoU\"),d=r(\"xHjW\"),p=r(\"OMJi\"),u=r(\"D1Z2\"),h=r(\"a3dU\"),m=this&&this.__decorate||function(e,t,r,s){var i,n=arguments.length,a=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},f=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,r,s,i,n,a){this.http=t,this.router=r,this.routInfo=s,this.cookieStore=i,this.globalService=n,this.notificationService=a,this.datePickerConfig={locale:\"zh-CN\",format:\"YYYY-MM-DD\",enableMonthSelector:!0,showMultipleYearsNavigation:!0},this.approve_user=[],this.follower_user=[],this.submit_user_ids=[],this.remove_user_ids=[],this.selected_user=[],this.check=!1,this.userList=[],this.userDefault=[],this.prev=!1,this.next=!1,this.select_department_ids=[],this.showUl=1,this.showUlChild=0,this.keyword=\"\",this.approval_start_date=\"\",this.approval_end_date=\"\",this.imgList=[],this.imgCount=0,this.path=\"\",this.uid=0,this.cid=0,this.type=1,this.approval_or_copy=\"\",this.domain_url=\"\",this.url=this.globalService.getDomain(),this.rollback_url=\"/process/initiate-leave\",this.globalService.getMenuInfo(),this.uid=this.cookieStore.getCookie(\"uid\"),this.cid=this.cookieStore.getCookie(\"cid\"),this.domain_url=this.globalService.getDomain(),this.cropperSettings1=new h.a,this.cropperSettings1.width=150,this.cropperSettings1.height=150,this.cropperSettings1.croppedWidth=150,this.cropperSettings1.croppedHeight=150,this.cropperSettings1.canvasWidth=200,this.cropperSettings1.canvasHeight=200,this.cropperSettings1.minWidth=10,this.cropperSettings1.minHeight=10,this.cropperSettings1.rounded=!1,this.cropperSettings1.keepAspect=!0,this.cropperSettings1.cropperDrawSettings.strokeColor=\"rgba(255,255,255,1)\",this.cropperSettings1.cropperDrawSettings.strokeWidth=2,this.data1={},this.formModel=e.group({approval_id:[\"\"],type:[\"\"],day:[\"\"],reason:[\"\"],approval_assign:[\"\"],approval_copy_person:[\"\"]}),this.getUserDefault()}return e.prototype.ngOnInit=function(){},e.prototype.cropped=function(e){this.croppedHeight=e.bottom-e.top,this.croppedWidth=e.right-e.left},e.prototype.onSubmit=function(){var e=this;if(\"\"==this.approval_start_date.trim())return alert(\"\\u8bf7\\u586b\\u5199\\u5f00\\u59cb\\u65e5\\u671f\\uff01\"),!1;if(\"\"==this.approval_end_date.trim())return alert(\"\\u8bf7\\u586b\\u5199\\u7ed3\\u675f\\u65e5\\u671f\\uff01\"),!1;var t=[];this.approve_user.forEach(function(e,r,s){t.push(e.id.toString())});var r=[];this.follower_user.forEach(function(e,t,s){r.push(e.id.toString())}),this.http.post(this.globalService.getDomain()+\"/api/v1/addApproval\",{approval_id:this.formModel.value.approval_id,type:this.formModel.value.type,approval_start_date:this.approval_start_date,approval_end_date:this.approval_end_date,day:this.formModel.value.day,reason:this.formModel.value.reason,approval_img:JSON.stringify(this.imgList),approval_assign:JSON.stringify(t),approval_copy_person:JSON.stringify(r),approval_type:this.type,u_id:this.cookieStore.getCookie(\"uid\"),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var r=JSON.parse(t._body);alert(r.msg),200==r.status?e.router.navigate([\"/process/approval-process/0\"]):202==r.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"]))})},e.prototype.getUserDefault=function(){var e=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getUserDefault?type=list&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(e){return e.json()}).subscribe(function(t){e.userDefault=t,202==e.userDefault.status&&(alert(e.userDefault.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.select_department_ids[0]=!0,e.userDefault.result.departmentList.forEach(function(t,r,s){e.select_department_ids[t.department_id]=!0,t.has_child>=1&&t.child.forEach(function(t,r,s){e.select_department_ids[t.department_id]=!0})});var r=\"\";e.select_department_ids.forEach(function(e,t,s){1==e&&(r+=t+\",\")}),e.getUserList(\"1\",r)})},e.prototype.getUserList=function(e,t){var r=this,s=this.globalService.getDomain()+\"/api/v1/getUserList?page=\"+e+\"&sid=\"+this.cookieStore.getCookie(\"sid\");if(\"\"!=this.keyword.trim()&&(s+=\"&keyword=\"+this.keyword.trim()),0!=t)s+=\"&depart=\"+t;else{var i=\"\";this.select_department_ids.forEach(function(e,t,r){1==e&&(i+=t+\",\")}),s+=\"&depart=\"+i}this.http.get(s).map(function(e){return e.json()}).subscribe(function(e){if(r.userList=e,202==r.userList.status&&(r.cookieStore.removeAll(r.rollback_url),r.router.navigate([\"/auth/login\"])),r.submit_user_ids=[],r.userList){if(r.userList.result.userList.current_page==r.userList.result.userList.last_page?r.next=!0:r.next=!1,1==r.userList.result.userList.current_page?r.prev=!0:r.prev=!1,r.userList.result.userList)for(var t=0,s=r.userList.result.userList.data;t<s.length;t++){var i=s[t];r.submit_user_ids[i.id]=!1}r.check=!1}})},e.prototype.selectDepartmentAll=function(){var e=this;1==this.select_department_ids[0]?(this.select_department_ids[0]=!1,this.userDefault.result.departmentList.forEach(function(t,r,s){e.select_department_ids[t.department_id]=!1,t.has_child>=1&&t.child.forEach(function(t,r,s){e.select_department_ids[t.department_id]=!1})})):(this.select_department_ids[0]=!0,this.userDefault.result.departmentList.forEach(function(t,r,s){e.select_department_ids[t.department_id]=!0,t.has_child>=1&&t.child.forEach(function(t,r,s){e.select_department_ids[t.department_id]=!0})}));var t=\"\";this.select_department_ids.forEach(function(e,r,s){1==e&&(t+=r+\",\")}),this.getUserList(\"1\",t)},e.prototype.selectDepartment=function(e,t,r,s){var i=this;if(1==s)1==this.select_department_ids[e]?(this.userDefault.result.departmentList[t]&&this.userDefault.result.departmentList[t].has_child>=1&&this.userDefault.result.departmentList[t].child.forEach(function(e,t,r){i.select_department_ids[e.department_id]=!1}),this.select_department_ids[e]=!1):(this.select_department_ids[e]=!0,this.userDefault.result.departmentList[t]&&this.userDefault.result.departmentList[t].has_child>=1&&this.userDefault.result.departmentList[t].child.forEach(function(e,t,r){i.select_department_ids[e.department_id]=!0}));else if(1!=s)if(1==this.select_department_ids[e])this.select_department_ids[s]=!1,this.select_department_ids[e]=!1;else{this.select_department_ids[e]=!0;var n=0;this.userDefault.result.departmentList[t]&&this.userDefault.result.departmentList[t].has_child>=1&&this.userDefault.result.departmentList[t].child.forEach(function(e,t,r){(0==i.select_department_ids[e.department_id]||Object(p.isUndefined)(i.select_department_ids[e.department_id]))&&n++}),0==n&&(this.select_department_ids[s]=!0)}var a=\"\";this.select_department_ids.forEach(function(e,t,r){1==e&&(a+=t+\",\")}),this.leftIsAll(),this.getUserList(\"1\",a)},e.prototype.leftIsAll=function(){var e=this,t=0;this.userDefault.result.departmentList.forEach(function(r,s,i){0==e.select_department_ids[r.department_id]&&t++}),this.select_department_ids[0]=0==t},e.prototype.showLeftUl=function(e){this.showUl=e},e.prototype.showLeftUlChild=function(e){this.showUlChild=e},e.prototype.changeCheckAll=function(e){var t=this,r=e.target.checked;this.submit_user_ids=[],this.selected_user.forEach(function(e,s,i){t.selected_user[s]=r,t.submit_user_ids.push(s)}),this.check=r},e.prototype.handle=function(e){var t=this,r=e.target,s=r.value,i=r.checked;this.selected_user[s]=i,1==i?this.submit_user_ids.push(s):this.submit_user_ids.forEach(function(e,r,i){e==s&&t.submit_user_ids.splice(r,1)});for(var n=0,a=0,l=this.selected_user;a<l.length;a++){0==l[a]&&(n+=1)}this.check=!(n>=1)},e.prototype.pagination=function(e){this.page=e,this.getUserList(this.page,0)},e.prototype.changeType=function(e){var t=this;this.approval_or_copy=e,\"assign\"==e?this.approve_user.forEach(function(e,r,s){t.selected_user[e.id]=!0,t.submit_user_ids.push(e.id)}):\"follower\"==e&&this.follower_user.forEach(function(e,r,s){t.selected_user[e.id]=!0,t.submit_user_ids.push(e.id)})},e.prototype.submitSelectedUser=function(){var e=this;\"assign\"==this.approval_or_copy&&(this.approve_user=[]),\"follower\"==this.approval_or_copy&&(this.follower_user=[]),this.submit_user_ids.forEach(function(t,r,s){e.userList.result.userList.data.forEach(function(r,s,i){r.id==t&&0!=t&&(\"assign\"==e.approval_or_copy?e.approve_user.push(r):\"follower\"==e.approval_or_copy&&e.follower_user.push(r))})}),this.approval_or_copy=\"\",this.selected_user=[],this.submit_user_ids=[]},e.prototype.removeUser=function(e,t){this.remove_user_ids.push(e);var r=[];\"assign\"==t?(this.approve_user.forEach(function(t,s,i){t.id!=e&&r.push(t)}),this.approve_user=r):\"follower\"==t&&(this.follower_user.forEach(function(t,s,i){t.id!=e&&r.push(t)}),this.follower_user=r)},e.prototype.closeSelectedUser=function(){this.approval_or_copy=\"\",this.selected_user=[],this.submit_user_ids=[]},e.prototype.postFile=function(){var e,t=this,r=document.forms[0],s=new FormData(r);s.append(\"uploadedfile\",this.globalService.convertBase64UrlToBlob(this.data1.image),\"approval_\"+(new Date).getTime()+\".png\");var i=new XMLHttpRequest;i.open(\"POST\",this.globalService.getDomain()+\"/api/v1/uploadFile\"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status?(200==(e=JSON.parse(i.response)).status?t.path=e.result:alert(\"\\u4e0a\\u4f20\\u5931\\u8d25\\uff0c\\u65e0\\u6cd5\\u83b7\\u53d6\\u56fe\\u7247\\u4e0a\\u4f20\\u5730\\u5740\"),t.imgList.push(t.path),t.imgCount=t.imgList.length,console.log(t.imgList)):alert(\"\\u4e0a\\u4f20\\u5931\\u8d25,\\u68c0\\u67e5\\u4e0a\\u4f20\\u5730\\u5740\\u662f\\u5426\\u6b63\\u786e\"))},i.send(s)},e.prototype.removeImg=function(e){this.imgList.splice(e,1),this.imgCount=this.imgList.length},m([Object(s.ViewChild)(\"cropper\",void 0),f(\"design:type\",h.b)],e.prototype,\"cropper\",void 0),e=m([Object(u.a)(),Object(s.Component)({selector:\"app-initiate-leave\",template:r(\"HmGx\"),encapsulation:s.ViewEncapsulation.None,styles:[r(\"kblz\")]}),f(\"design:paramtypes\",[o.a,c.b,n.c,n.a,l.a,a.a,d.a])],e)}(),v=[{path:\"\",component:g}],b=n.d.forChild(v),_=r(\"pvSQ\"),y=r(\"JOm+\"),x=r(\"SSMX\"),k=r(\"jfyD\"),w=r(\"I+zP\");r.d(t,\"InitiateLeaveModule\",function(){return S});var L=this&&this.__decorate||function(e,t,r,s){var i,n=arguments.length,a=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},S=function(){function e(){}return e=L([Object(s.NgModule)({imports:[i.CommonModule,_.a,y.a,b,o.b,o.f,x.a,h.c,w.a],declarations:[g],providers:[k.CookieService,l.a]})],e)}()},kblz:function(e,t){e.exports='@charset \"UTF-8\";\\n/**\\r\\n\\u4e0a\\u4f20\\u56fe\\u7247\\r\\n */\\n/*\\u56fe\\u7247\\u4e0a\\u4f20\\u6309\\u94ae*/\\n.c-file-upload {\\n  display: block;\\n  overflow: hidden;\\n  position: relative; }\\n.c-file-upload [type=file] {\\n    cursor: pointer;\\n    display: block;\\n    filter: alpha(opacity=0);\\n    min-height: 100%;\\n    min-width: 100%;\\n    opacity: 0;\\n    position: absolute;\\n    right: 0;\\n    text-align: right;\\n    top: 0; }\\n/*\\u767d\\u8272*/\\n/*\\u5185\\u5bb9*/\\n.c-content-inner {\\n  background-color: #ffffff;\\n  border: 0px;\\n  border-radius: 1px;\\n  -webkit-box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.03);\\n  box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.03);\\n  -moz-box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.03);\\n  padding: 15px; }\\n.c-mt15 {\\n  margin-top: 15px; }\\n'}});","extractedComments":[]}