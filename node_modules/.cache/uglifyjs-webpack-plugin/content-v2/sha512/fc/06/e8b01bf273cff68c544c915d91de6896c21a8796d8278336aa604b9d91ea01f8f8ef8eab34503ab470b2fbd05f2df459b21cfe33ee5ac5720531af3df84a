{"code":"webpackJsonp([92],{LpUd:function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=o(\"WT6e\"),n=o(\"Xjw4\"),l=o(\"bfOx\"),c=o(\"D1Z2\"),s=o(\"7DMc\"),a=o(\"NOoU\"),i=o(\"ntJC\"),m=o(\"R12H\"),d=o(\"Exih\"),u=o(\"bclE\"),f=this&&this.__decorate||function(e,t,o,r){var n,l=arguments.length,c=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(l<3?n(c):l>3?n(t,o,c):n(t,o))||c);return l>3&&c&&Object.defineProperty(t,o,c),c},p=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(){function e(e,t,o,r,n){this.http=t,this.router=o,this.cookieStore=r,this.globalService=n,this.state={tabs:{demo3:\"hr1\"}},this.customerInfo=[],this.province=[],this.city=[],this.industry_category_default=0,this.category_type=1,this.cid=0,this.rollback_url=\"/account/account-company\";this.globalService.navEventEmitter.emit('{\"title\":\"\\u516c\\u53f8\\u4fe1\\u606f\",\"url\":\"/account/account-company\",\"class_\":\"active\"}'),window.scrollTo(0,0),this.formModel=e.group({c_name:[\"\"],c_number:[\"\"],c_abbreviation:[\"\"],c_link:[\"\"],c_city1:[\"\"],c_city2:[\"\"],c_address:[\"\"],c_industry_category:[\"\"],c_company_size:[\"\"],c_notes:[\"\"]}),this.formModel1=e.group({c_email:[\"\"],c_phone:[\"\"]}),this.province=Object(u.c)(),this.cid=this.cookieStore.getCookie(\"cid\"),this.getCustomerDefault()}return e.prototype.ngOnInit=function(){},e.prototype.getCustomerDefault=function(){var e=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getCustomerInfo?c_id=\"+this.cid+\"&type=company&category_type=\"+this.category_type).map(function(e){return e.json()}).subscribe(function(t){e.customerInfo=t,console.log(e.customerInfo),e.setValue(),0!=e.customerInfo.result.c_city1&&e.getCity()})},e.prototype.getCity=function(){var e=this.formModel.value.c_city1;this.city=Object(u.b)(e)},e.prototype.onSubmit=function(){var e=this;if(\"\"==this.formModel.value.c_name.trim())return alert(\"\\u8bf7\\u586b\\u5199\\u540d\\u79f0\\uff01\"),!1;this.http.post(this.globalService.getDomain()+\"/api/v1/addCustomer\",{c_id:this.cid,name:this.formModel.value.c_name,number:this.formModel.value.c_number,abbreviation:this.formModel.value.c_abbreviation,c_link:this.formModel.value.c_link,c_city:this.formModel.value.c_city1+\",\"+this.formModel.value.c_city2,address:this.formModel.value.c_address,industry_category:this.formModel.value.c_industry_category,c_company_size:this.formModel.value.c_company_size,notes:this.formModel.value.c_notes,email:this.formModel1.value.c_email,phone:this.formModel1.value.c_phone,type:\"company\",category_type:this.category_type,u_id:this.cookieStore.getCookie(\"uid\"),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var o=JSON.parse(t._body);200!=o.status&&alert(o.msg),200==o.status?(e.customerInfo=o,e.lgModal.hide()):202==o.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"]))})},e.prototype.setValue=function(){this.formModel.patchValue({c_name:this.customerInfo.result.customerInfo.c_name,c_number:this.customerInfo.result.customerInfo.c_number,c_abbreviation:this.customerInfo.result.customerInfo.c_abbreviation,c_link:this.customerInfo.result.customerInfo.c_link,c_city1:this.customerInfo.result.customerInfo.c_city1,c_city2:this.customerInfo.result.customerInfo.c_city2,c_address:this.customerInfo.result.customerInfo.c_address,c_industry_category:this.customerInfo.result.customerInfo.c_industry_category,c_company_size:this.customerInfo.result.customerInfo.c_company_size,c_notes:this.customerInfo.result.customerInfo.c_notes}),this.formModel1.patchValue({c_email:this.customerInfo.result.customerInfo.c_email,c_phone:this.customerInfo.result.customerInfo.c_phone})},f([Object(r.ViewChild)(\"lgModal\"),p(\"design:type\",d.d)],e.prototype,\"lgModal\",void 0),e=f([Object(c.a)(),Object(r.Component)({selector:\"app-account-company\",template:o(\"foLt\")}),p(\"design:paramtypes\",[s.a,a.b,l.c,i.a,m.a])],e)}(),_=[{path:\"\",component:b}],v=l.d.forChild(_),h=o(\"pvSQ\"),g=o(\"JOm+\"),y=o(\"jfyD\");o.d(t,\"AccountCompanyModule\",function(){return x});var I=this&&this.__decorate||function(e,t,o,r){var n,l=arguments.length,c=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(l<3?n(c):l>3?n(t,o,c):n(t,o))||c);return l>3&&c&&Object.defineProperty(t,o,c),c},x=function(){function e(){}return e=I([Object(r.NgModule)({imports:[n.CommonModule,h.a,g.a,s.b,s.f,v],declarations:[b],providers:[y.CookieService,i.a]})],e)}()},foLt:function(e,t){e.exports='<div id=\"content\">\\r\\n  <div class=\"row\">\\r\\n    <div class=\"col-sm-12 col-md-12 col-lg-12\">\\r\\n      <div class=\"well well-light well-sm no-margin no-padding\">\\r\\n        <div class=\"row margin-bottom-40\">\\r\\n          <div class=\"col-sm-12\">\\r\\n            <div class=\"air air-right pd-20 text-align-center\">\\r\\n              \\x3c!--<a href=\"\" class=\"btn txt-color-white bg-color-teal btn-sm\"><i class=\"fa fa-check\"></i> \\u5173\\u6ce8</a>&#xA0;--\\x3e\\r\\n              <a (click)=\"lgModal.show()\" class=\"btn txt-color-white bg-color-lightBlue btn-sm\">\\x3c!--<i class=\"fa fa-link\"></i>--\\x3e \\u7f16\\u8f91\\u516c\\u53f8\\u4fe1\\u606f</a>\\r\\n            </div>\\r\\n            <h1 class=\"title-h1\">{{customerInfo?.result?.customerInfo?.c_name}}<a class=\"padding-left-5\" href=\"\">({{customerInfo?.result?.customerInfo?.c_number}})</a></h1><hr />\\r\\n          </div>\\r\\n          <div class=\"col-xs-8\" (click)=\"lgModal.show()\">\\r\\n              <div class=\"editor padding-left-20 line-2\">\\r\\n                <h4 class=\"no-margin size-bold\">{{customerInfo?.result?.customerInfo?.c_abbreviation}}</h4>\\r\\n                <p>{{customerInfo?.result?.customerInfo?.c_notes}}</p>\\r\\n              </div>\\r\\n              <div class=\"editor padding-left-20 line-2 cml-c\">\\r\\n                <span>\\u5730\\u70b9\\uff1a{{customerInfo?.result?.customerInfo?.c_city}}</span>\\r\\n                <span>\\u9886\\u57df\\uff1a{{customerInfo?.result?.customerInfo?.category_desc}}</span>\\r\\n                <span>\\u89c4\\u6a21\\uff1a{{customerInfo?.result?.customerInfo?.c_company_size}}</span>\\r\\n                <span>\\u7f51\\u5740\\uff1a{{customerInfo?.result?.customerInfo?.c_link}}</span>\\r\\n              </div>\\r\\n              <div class=\"padding-left-20 margin-top-40 \">\\r\\n                <h4 class=\"no-margin size-bold\">\\u8054\\u7cfb\\u65b9\\u5f0f</h4>\\r\\n                <hr/>\\r\\n                <div class=\"editor  line-2 cml-c\">\\r\\n                  <span>\\u8054\\u7cfb\\u7535\\u8bdd\\uff1a{{customerInfo?.result?.customerInfo?.c_phone}}</span>\\r\\n                  <span>Email\\uff1a {{customerInfo?.result?.customerInfo?.c_email}}</span>\\r\\n                  <span>\\u8054\\u7cfb\\u5730\\u5740\\uff1a {{customerInfo?.result?.customerInfo?.c_address}}</span>\\r\\n                </div>\\r\\n              </div>\\r\\n          </div>\\r\\n          <div class=\"col-xs-4\">\\r\\n            <div class=\"text-align-center \" >\\r\\n              <span class=\"user-image\"  >\\r\\n              <img  alt=\"\" style=\"width: 160px; height: 160px;\" src=\"assets/img/default_user.png\"  >\\r\\n              </span>\\r\\n              <p class=\"pd-10\">*\\u56fe\\u7247\\u4e0d\\u80fd\\u8d85\\u8fc7300k</p>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  \\x3c!-- end row --\\x3e\\r\\n</div>\\r\\n\\r\\n<div class=\"modal fade\" bsModal #lgModal=\"bs-modal\">\\r\\n  <div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content\">\\r\\n      <div class=\"modal-header\">\\r\\n        \\x3c!-- \\u5173\\u95ed\\u6309\\u94ae --\\x3e\\r\\n        <button type=\"button\" class=\"close\" (click)=\"lgModal.hide()\">\\xd7</button>\\r\\n        \\x3c!-- \\u6807\\u9898 --\\x3e\\r\\n        <h3 class=\"modal-title\" data-ng-bind=\\'results.title\\'>\\u516c\\u53f8\\u4fe1\\u606f</h3>\\r\\n      </div>\\r\\n      <div class=\"modal-body\">\\r\\n        <sa-widget [editbutton]=\"false\" [fullscreenbutton]=\"false\" [custombutton]=\"false\" [sortable]=\"false\">\\r\\n          <header>\\r\\n            <ul class=\"nav nav-tabs pull-left in\">\\r\\n              <li [class.active]=\"state.tabs.demo3==\\'hr1\\'\" class=\"active\">\\r\\n                <a (click)=\"state.tabs.demo3 = \\'hr1\\'\">\\u57fa\\u672c\\u4fe1\\u606f</a>\\r\\n              </li>\\r\\n              <li [class.active]=\"state.tabs.demo3==\\'hr2\\'\" class=\"active\">\\r\\n                <a (click)=\"state.tabs.demo3 = \\'hr2\\'\">\\u8054\\u7cfb\\u65b9\\u5f0f</a>\\r\\n              </li>\\r\\n            </ul>\\r\\n          </header>\\r\\n          <div class=\"height-overflow-380\">\\r\\n            <div class=\"widget-body mt-20\">\\r\\n              <tabset>\\r\\n                <tab [active]=\"state.tabs.demo3 == \\'hr1\\'\">\\r\\n                  <tabset >\\r\\n                    <tab [active]=\"state.tabs.demo3 == \\'hr1\\'\">\\r\\n                      <div class=\"row\">\\r\\n                        <form class=\"smart-form \" [formGroup]=\"formModel\">\\r\\n                          <fieldset>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label\">\\u516c\\u53f8\\u7f16\\u7801</label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" placeholder=\"\\u81ea\\u52a8\\u751f\\u6210\" name=\"c_number\" formControlName=\"c_number\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label txt-color-blue\">\\u516c\\u53f8\\u540d\\u79f0<span class=\"asterisk-color\">*</span></label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" name=\"c_name\" formControlName=\"c_name\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label\">\\u8bc6\\u522b\\u7801</label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" placeholder=\"\\u516c\\u53f8\\u7b80\\u79f0\" name=\"c_abbreviation\" formControlName=\"c_abbreviation\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label txt-color-blue\">\\u516c\\u53f8\\u7f51\\u5740<span class=\"asterisk-color\">*</span></label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" name=\"c_link\" formControlName=\"c_link\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <div class=\"margin-left-15\" >\\r\\n\\r\\n                                <section class=\"col col-4\">\\r\\n                                  <label class=\"label txt-color-blue\">\\u6240\\u5728\\u57ce\\u5e02<span class=\"asterisk-color\">*</span></label>\\r\\n                                  <label class=\"select \">\\r\\n                                    <select name=\"c_city1\"  formControlName=\"c_city1\" [(ngModel)]=\"c_city1_default\" (change)=\"getCity()\">\\r\\n                                      <option value=\"0\">--\\u8bf7\\u9009\\u62e9\\u7701--</option>\\r\\n                                      <option *ngFor=\"let p of province\" [selected]=\"customerInfo?.result?.customerInfo?.c_city1 == p\" value=\"{{p}}\">{{p}}</option>\\r\\n                                    </select>\\r\\n                                    <i></i>\\r\\n                                  </label>\\r\\n                                </section>\\r\\n                                <section class=\"col col-8\">\\r\\n                                  <label class=\"select margin-top-24\">\\r\\n                                    <select name=\"c_city2\"  formControlName=\"c_city2\" [(ngModel)]=\"c_city2_default\">\\r\\n                                      <option value=\"0\">--\\u8bf7\\u9009\\u62e9\\u5e02--</option>\\r\\n                                      <option *ngFor=\"let c of city\" [selected]=\"customerInfo?.result?.customerInfo?.c_city2 == c\" value=\"{{c}}\">{{c}}</option>\\r\\n                                    </select> <i></i> </label>\\r\\n                                </section>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label\">\\u8be6\\u7ec6\\u5730\\u5740</label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" name=\"c_address\" formControlName=\"c_address\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label \">\\u884c\\u4e1a\\u9886\\u57df</label>\\r\\n                                <label class=\"select\">\\r\\n                                  <select name=\"c_industry_category\" formControlName=\"c_industry_category\" [(ngModel)]=\"industry_category_default\">\\r\\n                                    <option *ngFor=\"let c of customerInfo?.result?.categoryInfo\" [selected]=\"customerInfo?.result?.customerInfo?.c_industry_category == c.category_id || this.cid == 0\" value=\"{{c.category_id}}\">{{c.category_desc}}</option>\\r\\n                                  </select>\\r\\n                                  <i></i> </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label\">\\u516c\\u53f8\\u89c4\\u6a21</label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" name=\"c_company_size\" formControlName=\"c_company_size\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label\">\\u8bf4\\u660e</label>\\r\\n                                <label class=\"textarea textarea-resizable\">\\r\\n                                  <textarea class=\"custom-scroll\" rows=\"2\" name=\"c_notes\" formControlName=\"c_notes\"></textarea>\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                          </fieldset>\\r\\n                        </form>\\r\\n\\r\\n                      </div>\\r\\n                    </tab>\\r\\n                  </tabset>\\r\\n                </tab>\\r\\n                <tab [active]=\"state.tabs.demo3 == \\'hr2\\'\">\\r\\n                  <tabset >\\r\\n                    <tab [active]=\"state.tabs.demo3 == \\'hr2\\'\">\\r\\n                      <div class=\"row\">\\r\\n                        <form class=\"smart-form \" [formGroup]=\"formModel1\">\\r\\n                          <fieldset>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label\">\\u8054\\u7cfb\\u7535\\u8bdd</label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" name=\"c_phone\" formControlName=\"c_phone\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                            <div class=\"form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\r\\n                              <section>\\r\\n                                <label class=\"label\">Email</label>\\r\\n                                <label class=\"input\">\\r\\n                                  <input type=\"text\" name=\"c_email\" formControlName=\"c_email\">\\r\\n                                </label>\\r\\n                              </section>\\r\\n                            </div>\\r\\n                          </fieldset>\\r\\n                        </form>\\r\\n                      </div>\\r\\n                    </tab>\\r\\n                  </tabset>\\r\\n                </tab>\\r\\n              </tabset>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </div>\\r\\n      <div class=\"modal-footer\">\\r\\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"onSubmit();\">\\u786e\\u5b9a</button>\\r\\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"lgModal.hide()\">\\u5173\\u95ed</button>\\r\\n      </div>\\r\\n    </div>\\x3c!-- /.modal-content --\\x3e\\r\\n  </div>\\x3c!-- /.modal --\\x3e\\r\\n</div>\\r\\n'}});","extractedComments":[]}