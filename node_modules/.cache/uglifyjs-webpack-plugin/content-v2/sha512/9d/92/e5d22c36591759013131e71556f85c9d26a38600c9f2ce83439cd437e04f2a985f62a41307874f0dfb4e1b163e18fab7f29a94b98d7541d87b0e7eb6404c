{"code":"webpackJsonp([64],{\"4rqD\":function(e,t){e.exports='<div id=\"content\">\\r\\n  <sa-widgets-grid>\\r\\n    <div class=\"row\">\\r\\n      <article class=\"col-sm-12 \">\\r\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" >\\r\\n          <header *ngIf=\"otherorder_id == 0\">\\r\\n            <span class=\"widget-icon\"> <i class=\"fa fa-edit\"></i> </span>\\r\\n            <h2 >\\u6dfb\\u52a0\\u5176\\u4ed6\\u51fa\\u5e93\\u5355</h2>\\r\\n          </header>\\r\\n          <header *ngIf=\"otherorder_id != 0 && isDetail!=\\'detail\\'\">\\r\\n            <span class=\"widget-icon\"> <i class=\"glyphicon glyphicon-pencil\"></i> </span>\\r\\n            <h2 >\\u4fee\\u6539\\u5176\\u4ed6\\u51fa\\u5e93\\u5355 </h2>\\r\\n          </header>\\r\\n          <header *ngIf=\"isDetail==\\'detail\\'\">\\r\\n            <span class=\"widget-icon\"> <i class=\"glyphicon glyphicon-zoom-in\"></i> </span>\\r\\n            <h2 >\\u8be6\\u60c5 </h2>\\r\\n          </header>\\r\\n          <div>\\r\\n            \\x3c!--\\u5c0f\\u90e8\\u4ef6\\u5185\\u5bb9 (ngSubmit)=\"onSubmit()\"--\\x3e\\r\\n            <div class=\"widget-body no-padding\">\\r\\n              <form id=\"smart-form-register\" class=\"smart-form\" [formGroup]=\"formModel\">\\r\\n                <fieldset>\\r\\n                  <legend>\\u57fa\\u672c\\u4fe1\\u606f</legend>\\r\\n                  <div class=\"picture-opacity\" style=\"left: -24px; top: 38px;position: absolute;z-index: 999;\">\\r\\n                    \\x3c!--\\u540c\\u610f--\\x3e\\r\\n                    <img src=\"assets/img/chapter1.png\" *ngIf=\"otherorderInfo?.result?.otherorder_status == \\'yes\\'\">\\r\\n                    \\x3c!--\\u62d2\\u7edd--\\x3e\\r\\n                    <img src=\"assets/img/chapter2.png\" *ngIf=\"otherorderInfo?.result?.otherorder_status == \\'no\\'\">\\r\\n                    \\x3c!--\\u4f5c\\u5e9f--\\x3e\\r\\n                    <img src=\"assets/img/chapter4.png\" *ngIf=\"otherorderInfo?.result?.otherorder_status == \\'cancel\\'\">\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <section class=\"mb-6\">\\r\\n                      <label class=\"label txt-color-blue\">\\u5355\\u636e\\u65e5\\u671f<span class=\"asterisk-color\">*</span></label>\\r\\n                      <label  class=\"input\">\\r\\n                        <input *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" name=\"otherorder_date\"  maxlength=\"20\" formControlName=\"otherorder_date\" placeholder=\"\\u9009\\u62e9\\u65e5\\u671f\" [dpDayPicker]=\"datePickerConfig\" [theme]=\"\\'dp-material\\'\" [mode]=\"\\'day\\'\" class=\"form-control ng-binding expire-text-soon\"/>\\r\\n                        <input *ngIf=\"isDetail!=\\'detail\\'\" name=\"otherorder_date\"  maxlength=\"20\" formControlName=\"otherorder_date\" placeholder=\"\\u9009\\u62e9\\u65e5\\u671f\" [dpDayPicker]=\"datePickerConfig\" [theme]=\"\\'dp-material\\'\" [mode]=\"\\'day\\'\" class=\"form-control ng-binding expire-text-soon\"/>\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <section>\\r\\n                      <label class=\"label txt-color-blue\">\\u5355\\u636e\\u53f7<span class=\"asterisk-color\">*</span></label>\\r\\n                      <label class=\"input\">\\r\\n                        <input *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" type=\"text\" placeholder=\"\\u5355\\u636e\\u53f7\" name=\"otherorder_order\" formControlName=\"otherorder_order\">\\r\\n                        <input *ngIf=\"isDetail!=\\'detail\\'\" type=\"text\" placeholder=\"\\u5355\\u636e\\u53f7\" name=\"otherorder_order\" formControlName=\"otherorder_order\">\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  \\x3c!--<div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">--\\x3e\\r\\n                    \\x3c!--<label class=\"label\">\\u9ed8\\u8ba4\\u4ed3\\u5e93</label>--\\x3e\\r\\n                    \\x3c!--<section>--\\x3e\\r\\n                      \\x3c!--<div class=\"input-group\">--\\x3e\\r\\n                        \\x3c!--<label   class=\"select form-control border-0\">--\\x3e\\r\\n                          \\x3c!--<select *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" name=\"storehouse_id\" formControlName=\"storehouse_id\" [(ngModel)]=\"storehouse_id_default\">--\\x3e\\r\\n                            \\x3c!--<option [selected]=\"this.otherorder_id == 0\" value=\"0\">&#45;&#45;\\u8bf7\\u9009\\u62e9&#45;&#45;</option>--\\x3e\\r\\n                            \\x3c!--<option *ngFor=\"let u of otherorderList?.result?.storehouse\" [selected]=\"otherorderInfo.result?.storehouse_id == u.storehouse_id\" value=\"{{ u.storehouse_id }}\">{{u.storehouse_name}}</option>--\\x3e\\r\\n                          \\x3c!--</select>--\\x3e\\r\\n                          \\x3c!--<select *ngIf=\"isDetail!=\\'detail\\'\" name=\"storehouse_id\" formControlName=\"storehouse_id\" [(ngModel)]=\"storehouse_id_default\">--\\x3e\\r\\n                            \\x3c!--<option [selected]=\"this.otherorder_id == 0\" value=\"0\">&#45;&#45;\\u8bf7\\u9009\\u62e9&#45;&#45;</option>--\\x3e\\r\\n                            \\x3c!--<option *ngFor=\"let u of otherorderList?.result?.storehouse\" [selected]=\"otherorderInfo.result?.storehouse_id == u.storehouse_id\" value=\"{{ u.storehouse_id }}\">{{u.storehouse_name}}</option>--\\x3e\\r\\n                          \\x3c!--</select><i></i>--\\x3e\\r\\n                        \\x3c!--</label>--\\x3e\\r\\n                        \\x3c!--<div class=\"input-group-btn\">--\\x3e\\r\\n                          \\x3c!--<a  href=\"http://cn.i3ot.com/#/forms/inventory1/0\" (click)=\"smartModEg1()\" target=\"_blank\"  class=\"btn btn-default btn-sm pb-6\" type=\"button\">--\\x3e\\r\\n                            \\x3c!--&lt;!&ndash; <i class=\"fa fa-plus \"></i>&ndash;&gt; \\u6dfb\\u52a0--\\x3e\\r\\n                          \\x3c!--</a>--\\x3e\\r\\n                          \\x3c!--<a class=\"btn btn-default btn-sm pb-6\" type=\"button\" ><i class=\"fa fa-link\"></i>--\\x3e\\r\\n                            \\x3c!--\\u5237\\u65b0--\\x3e\\r\\n                          \\x3c!--</a>--\\x3e\\r\\n                        \\x3c!--</div>--\\x3e\\r\\n                      \\x3c!--</div>--\\x3e\\r\\n                    \\x3c!--</section>--\\x3e\\r\\n                  \\x3c!--</div>--\\x3e\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <label class=\"label\">\\u51fa\\u5e93\\u7c7b\\u522b</label>\\r\\n                    <section>\\r\\n                      <div class=\"input-group\">\\r\\n                        <label   class=\"select form-control border-0\">\\r\\n                          <select *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" name=\"category_id\" formControlName=\"category_id\" [(ngModel)]=\"category_id_default\">\\r\\n                            <option [selected]=\"this.otherorder_id == 0\" value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                            <option *ngFor=\"let u of otherorderList?.result?.category\" [selected]=\"otherorderInfo.result?.category_id == u.category_id\" value=\"{{ u.category_id }}\">{{u.category_desc}}</option>\\r\\n                          </select>\\r\\n                          <select *ngIf=\"isDetail!=\\'detail\\'\" name=\"category_id\" formControlName=\"category_id\" [(ngModel)]=\"category_id_default\">\\r\\n                            <option [selected]=\"this.otherorder_id == 0\" value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                            <option *ngFor=\"let u of otherorderList?.result?.category\" [selected]=\"otherorderInfo.result?.category_id == u.category_id\" value=\"{{ u.category_id }}\">{{u.category_desc}}</option>\\r\\n                          </select><i></i>\\r\\n                        </label>\\r\\n                        <div class=\"input-group-btn\">\\r\\n                          <a  href=\"http://cn.i3ot.com/#/management/setting-repertory\" (click)=\"smartModEg1()\" target=\"_blank\"  class=\"btn btn-default btn-sm pb-6\" type=\"button\">\\r\\n                            \\x3c!-- <i class=\"fa fa-plus \"></i>--\\x3e \\u6dfb\\u52a0\\r\\n                          </a>\\r\\n                          <a class=\"btn btn-default btn-sm pb-6\" type=\"button\" ><i class=\"fa fa-link\"></i>\\r\\n                            \\u5237\\u65b0\\r\\n                          </a>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <label class=\"label\">\\u7ecf\\u624b\\u4eba</label>\\r\\n                    <section>\\r\\n                      <div class=\"input-group\">\\r\\n                        <label   class=\"select form-control border-0\">\\r\\n                          <select *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" name=\"otherorder_user_id\" formControlName=\"otherorder_user_id\" [(ngModel)]=\"otherorder_user_id_default\" (change)=\"getDepartment($event,1)\">\\r\\n                            <option [selected]=\"this.otherorder_id == 0\" value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                            <option *ngFor=\"let u of otherorderList?.result?.userList\" [selected]=\"otherorderInfo.result?.otherorder_user_id == u.id\" value=\"{{ u.id }}\">{{u.u_username}}</option>\\r\\n                          </select>\\r\\n                          <select *ngIf=\"isDetail!=\\'detail\\'\" name=\"otherorder_user_id\" formControlName=\"otherorder_user_id\" [(ngModel)]=\"otherorder_user_id_default\" (change)=\"getDepartment($event,1)\">\\r\\n                            <option [selected]=\"this.otherorder_id == 0\" value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                            <option *ngFor=\"let u of otherorderList?.result?.userList\" [selected]=\"otherorderInfo.result?.otherorder_user_id == u.id\" value=\"{{ u.id }}\">{{u.u_username}}</option>\\r\\n                          </select><i></i>\\r\\n                        </label>\\r\\n                        <div class=\"input-group-btn\">\\r\\n                          <a  href=\"http://cn.i3ot.com/#/forms/employees/0\" (click)=\"smartModEg1()\" target=\"_blank\"  class=\"btn btn-default btn-sm pb-6\" type=\"button\">\\r\\n                            \\x3c!-- <i class=\"fa fa-plus \"></i>--\\x3e \\u6dfb\\u52a0\\r\\n                          </a>\\r\\n                          <a class=\"btn btn-default btn-sm pb-6\" type=\"button\" ><i class=\"fa fa-link\"></i>\\r\\n                            \\u5237\\u65b0\\r\\n                          </a>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <label class=\"label\">\\u4e1a\\u52a1\\u90e8\\u95e8</label>\\r\\n                    <section>\\r\\n                      <div class=\"input-group\">\\r\\n                        <label  class=\"input\">\\r\\n                          <input disabled=\"disabled\" name=\"department_name_default\"  maxlength=\"20\" [(ngModel)]=\"department_name_default\" [ngModelOptions]=\"{standalone: true}\" class=\"form-control ng-binding expire-text-soon\"/>\\r\\n                        </label>\\r\\n                      </div>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\\r\\n                    <section>\\r\\n                      <label class=\"label\">\\u626b\\u7801</label>\\r\\n                      <label class=\"textarea textarea-resizable\">\\r\\n                        <textarea *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" type=\"text\" class=\"custom-scroll\" placeholder=\"\" name=\"otherorder_qrcode\" formControlName=\"otherorder_qrcode\"></textarea>\\r\\n                        <textarea *ngIf=\"isDetail!=\\'detail\\'\" type=\"text\" placeholder=\"\" class=\"custom-scroll\" name=\"otherorder_qrcode\" formControlName=\"otherorder_qrcode\"></textarea>\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 \">\\r\\n                    <section>\\r\\n                      <label class=\"label\">\\u641c\\u7d22\\u9009\\u62e9\\u5546\\u54c1\\u540d\\u79f0</label>\\r\\n                      <label class=\"input\">\\r\\n                        <i *ngIf=\"isDetail!=\\'detail\\'\" class=\"icon-append glyphicon glyphicon-search cursor-pointer\" (click)=\"showProduct()\"></i>\\x3c!-- data-toggle=\"modal\" data-target=\"#myModal\"--\\x3e\\r\\n                        <input *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" type=\"text\" placeholder=\"\" name=\"keyword\" [(ngModel)]=\"keyword\" [ngModelOptions]=\"{standalone: true}\">\\r\\n                        <input *ngIf=\"isDetail!=\\'detail\\'\" type=\"text\" placeholder=\"\" name=\"keyword\" [(ngModel)]=\"keyword\" [ngModelOptions]=\"{standalone: true}\">\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 padding20\">\\r\\n                    <div class=\"widget-body no-padding\">\\r\\n                      <div  class=\"padding0\">\\r\\n                        <div style=\"z-index: 2;width:20%;float:left;\" class=\"table-responsive padding0 table-minheight\">\\r\\n                          <table style=\"margin-top: 0!important;\" class=\"table table-hover table-border table-bordered dataTable table-height-50\">\\r\\n                            <thead>\\r\\n                            <tr>\\r\\n                              <th>\\u64cd\\u4f5c</th>\\r\\n                              <th >\\u5546\\u54c1\\u540d\\u79f0 </th>\\r\\n                            </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                            <tr *ngFor=\"let p of selectProductList;let ind = index;\">\\r\\n                              <td>\\r\\n                                <a *ngIf=\"isDetail!=\\'detail\\'\" class=\"btn btn-danger btn-xs\" (click)=\"removeInput(ind)\"><span class=\"glyphicon glyphicon-remove\"></span></a>\\r\\n                              </td>\\r\\n                              <td>\\r\\n                                {{p.p_name}}\\r\\n                              </td>\\r\\n                            </tr>\\r\\n                            </tbody>\\r\\n                            <tfoot>\\r\\n                            <tr class=\"he-40\">\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                            </tr>\\r\\n                            </tfoot>\\r\\n                          </table>\\r\\n                        </div>\\r\\n                        <div style=\"padding: 0;z-index:1;width:80%;float:left;\" class=\"table-responsive table-minheight\">\\r\\n                          <table style=\"margin-top: 0!important;\" class=\"table table-hover table-border table-bordered dataTable table-height-50\">\\r\\n                            <thead>\\r\\n                            <tr>\\r\\n                              <th>\\u5546\\u54c1\\u7f16\\u7801</th>\\r\\n                              <th>\\u5546\\u54c1\\u5206\\u7c7b</th>\\r\\n                              <th>\\u89c4\\u683c\\u578b\\u53f7</th>\\r\\n                              <th>\\u5355\\u4f4d</th>\\r\\n                              <th>\\u5269\\u4f59\\u5e93\\u5b58\\u91cf</th>\\r\\n                              <th>\\u8c03\\u51fa\\u4ed3\\u5e93</th>\\r\\n                              <th class=\"txt-color-blue\">\\u8c03\\u5165\\u4ed3\\u5e93</th>\\r\\n                              <th class=\"txt-color-blue\">\\u6570\\u91cf</th>\\r\\n                              <th class=\"txt-color-blue\">\\u51fa\\u5e93\\u5355\\u4ef7</th>\\r\\n                              <th>\\u51fa\\u5e93\\u6210\\u672c</th>\\r\\n                              <th>\\u6761\\u7801</th>\\r\\n                            </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                            <tr *ngFor=\"let p of selectProductList;let ind1 = index;\">\\r\\n                              <td>{{p.p_product_id}}</td>\\r\\n                              <td>{{p.category}}</td>\\r\\n                              <td>{{p.p_specification}}</td>\\r\\n                              <td>{{p.p_unit}}</td>\\r\\n                              <td>{{p.openinginventory_surplus_count}}</td>\\r\\n                              <td>{{p.storehouse_name}}</td>\\r\\n                              <td>\\r\\n                                <span>\\r\\n                                  <label class=\"select form-control border-0 wi-100\">\\r\\n                                    <select *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"p.p_storehouse_id\">\\r\\n                                      <option [selected]=\"this.otherorder_id == 0\" value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                                      <option *ngFor=\"let u of otherorderList?.result?.storehouse\" [selected]=\"otherorderInfo.result?.storehouse_id == u.storehouse_id\" value=\"{{ u.storehouse_id }}\">{{u.storehouse_name}}</option>\\r\\n                                    </select>\\r\\n                                    <select *ngIf=\"isDetail!=\\'detail\\'\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"p.p_storehouse_id\">\\r\\n                                      <option [selected]=\"this.otherorder_id == 0\" value=\"0\">--\\u8bf7\\u9009\\u62e9--</option>\\r\\n                                      <option *ngFor=\"let u of otherorderList?.result?.storehouse\" [selected]=\"otherorderInfo.result?.storehouse_id == u.storehouse_id\" value=\"{{ u.storehouse_id }}\">{{u.storehouse_name}}</option>\\r\\n                                    </select><i></i>\\r\\n                                  </label>\\r\\n                                </span>\\r\\n                              </td>\\r\\n                              <td>\\r\\n                                <span>\\r\\n                                  <label  class=\"input wi-100\">\\r\\n                                    <input *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"p.p_count\" value=\"{{p.p_count}}\" type=\"number\">\\r\\n                                    <input *ngIf=\"isDetail!=\\'detail\\'\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"p.p_count\" value=\"{{p.p_count}}\" type=\"number\" (keyup)=\"sumPCounts($event,ind1,p.p_count,p.old_p_count,p.openinginventory_surplus_count)\">\\r\\n                                  </label>\\r\\n                                </span>\\r\\n                              </td>\\r\\n                              <td>\\r\\n                                <span>\\r\\n                                  <label  class=\"input wi-100\">\\r\\n                                  <input *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"p.p_price\" value=\"{{p.p_price}}\" type=\"number\">\\r\\n                                  <input *ngIf=\"isDetail!=\\'detail\\'\" [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"p.p_price\" value=\"{{p.p_price}}\" type=\"number\" (blur)=\"sumPCount()\">\\r\\n                                </label>\\r\\n                                </span>\\r\\n                              </td>\\r\\n                              <td>{{p.p_price * p.p_count}}</td>\\r\\n                              <td>{{p.p_qrcode}}</td>\\r\\n                            </tr>\\r\\n                            </tbody>\\r\\n                            <tfoot>\\r\\n                            <tr class=\"he-40\">\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th></th>\\r\\n                              <th>{{p_prices}}</th>\\r\\n                              <th></th>\\r\\n                            </tr>\\r\\n                            </tfoot>\\r\\n                          </table>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\\r\\n                    <section>\\r\\n                      <label class=\"label\">\\u5907\\u6ce8</label>\\r\\n                      <label class=\"textarea textarea-resizable\">\\r\\n                        <textarea *ngIf=\"isDetail==\\'detail\\'\" disabled=\"disabled\" class=\"custom-scroll\" rows=\"2\" name=\"otherorder_note\" formControlName=\"otherorder_note\"></textarea>\\r\\n                        <textarea *ngIf=\"isDetail!=\\'detail\\'\" class=\"custom-scroll\" rows=\"2\" name=\"otherorder_note\" formControlName=\"otherorder_note\"></textarea>\\r\\n                      </label>\\r\\n                    </section>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\r\\n                    <div class=\"label \">\\u5ba1\\u6279\\u4eba<a *ngIf=\"isDetail!=\\'detail\\'\" class=\"txt-color-blue pd-10\" (click)=\"showDetail(\\'assign\\')\">\\u6dfb\\u52a0\\u5ba1\\u6279\\u4eba</a></div>\\r\\n                    <ul  class=\"avatars\" *ngIf=\"approve_user\">\\r\\n                      <li *ngFor=\"let su of approve_user;let ind = index;\">\\r\\n                        <a *ngIf=\"isDetail!=\\'detail\\'\" class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su.id,\\'assign\\')\"></a>\\r\\n                        <a class=\"portrait-size\" title=\"{{su.u_username}}\">\\r\\n                          {{su.u_username}}\\r\\n                        </a>\\r\\n                        <div class=\"approval-arrow\" *ngIf=\"ind < approve_user.length && ind != 0\" >\\r\\n                          <img  src=\"assets/img/icon/arrow.png\" >\\r\\n                        </div>\\r\\n                      </li>\\r\\n                    </ul>\\r\\n                  </div>\\r\\n                  <div class=\"form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-20\">\\r\\n                    <div class=\"label \">\\u6284\\u9001\\u4eba<a *ngIf=\"isDetail!=\\'detail\\'\" class=\"txt-color-blue pd-10\" (click)=\"showDetail(\\'follower\\')\">\\u6dfb\\u52a0\\u6284\\u9001\\u4eba</a><span class=\"txt-color-blueLight pd-10\">(\\u5ba1\\u6279\\u901a\\u8fc7\\u540e\\uff0c\\u901a\\u77e5\\u6284\\u9001\\u4eba)</span></div>\\r\\n                    <ul  class=\"avatars\" *ngIf=\"follower_user\">\\r\\n                      <li *ngFor=\"let su1 of follower_user;let ind1 = index;\">\\r\\n                        <a *ngIf=\"isDetail!=\\'detail\\'\" class=\"fa fa-times-circle picture-a\" style=\"display:block;\" (click)=\"removeUser(su1.id,\\'follower\\')\"></a>\\r\\n                        <a class=\"portrait-size\" title=\"{{su1.u_username}}\">\\r\\n                          {{su1.u_username}}\\r\\n                        </a>\\r\\n                      </li>\\r\\n                    </ul>\\r\\n                  </div>\\r\\n                </fieldset>\\r\\n                <footer>\\r\\n                  <div *ngIf=\"isPermission(menu_id,\\'verify\\')\">\\r\\n                  <button type=\"button\" class=\"btn btn-primary\"  (click)=\"showDetail(\\'transfer\\')\" *ngIf=\"isDetail!=\\'detail\\' && uid == otherorderInfo?.result?.otherorder_status\">\\r\\n                    \\u8f6c\\u4ea4\\r\\n                  </button>\\r\\n                  <button type=\"button\" class=\"btn btn-primary\" (click)=\"showModal(\\'urge\\',\\'urge\\')\" *ngIf=\"isDetail!=\\'detail\\' && uid == otherorderInfo?.result?.u_id && otherorderInfo?.result?.otherorder_status != \\'yes\\' && otherorderInfo?.result?.otherorder_status != \\'no\\' && otherorderInfo?.result?.otherorder_status != \\'cancel\\'\" >\\r\\n                    \\u50ac\\u529e\\r\\n                  </button>\\r\\n                  <button type=\"button\" class=\"btn btn-primary\" (click)=\"showModal(\\'operation\\',\\'back_cancel\\')\" *ngIf=\"isDetail!=\\'detail\\' && uid == otherorderInfo?.result?.u_id && otherorderInfo?.result?.otherorder_status == \\'cancel\\'\">\\r\\n                    \\u5f03\\u5e9f\\r\\n                  </button>\\r\\n                  <button type=\"button\" class=\"btn btn-warning\"  (click)=\"showModal(\\'operation\\',\\'cancel\\')\" *ngIf=\"isDetail!=\\'detail\\' && uid == otherorderInfo?.result?.u_id && otherorderInfo?.result?.otherorder_status != \\'yes\\' && otherorderInfo?.result?.otherorder_status != \\'no\\' && otherorderInfo?.result?.otherorder_status != \\'cancel\\'\">\\r\\n                    \\u4f5c\\u5e9f\\r\\n                  </button>\\r\\n                  <button type=\"button\" class=\"btn btn-warning\" (click)=\"showModal(\\'operation\\',\\'operation\\')\" *ngIf=\"isDetail!=\\'detail\\' && uid == otherorderInfo?.result?.otherorder_status\">\\r\\n                    \\u5ba1\\u6838\\r\\n                  </button>\\r\\n                  </div>\\r\\n                  <button type=\"button\" class=\"btn btn-default\" [routerLink]=\"[\\'/inventory-management/outbound\\']\">\\r\\n                    \\u8fd4\\u56de\\r\\n                  </button>\\r\\n                  <div *ngIf=\"isPermission(menu_id,\\'add\\')\">\\r\\n                  <button class=\"btn btn-success\" type=\"button\" (click)=\"onSubmit(2)\">\\u63d0\\u4ea4\\u5e76\\u65b0\\u589e</button>\\r\\n                  <button *ngIf=\"otherorder_id==0\" type=\"button\" (click)=\"onSubmit(1)\" class=\"btn btn-primary\">\\u63d0\\u4ea4</button>\\r\\n                  </div>\\r\\n                  <button *ngIf=\"isPermission(menu_id,\\'edit\\') && isDetail!=\\'detail\\' && otherorder_id!=0 && otherorderInfo?.result?.otherorder_status != \\'no\\' && otherorderInfo?.result?.otherorder_status != \\'yes\\' && otherorderInfo?.result?.otherorder_status != \\'cancel\\'\" type=\"button\" (click)=\"onSubmit(1)\" class=\"btn btn-primary\">\\u63d0\\u4ea4</button>\\r\\n                </footer>\\r\\n              </form>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </article>\\r\\n    </div>\\r\\n  </sa-widgets-grid>\\r\\n</div>\\r\\n\\x3c!--\\u9009\\u62e9\\u5e93\\u5b58--\\x3e\\r\\n<app-select-stock [productDefault]=\"productDefault\"  [searchProductList]=\"searchProductList\" [select_category_ids]=\"select_category_ids\" [p_type]=\"p_type\" [isShowProduct]=\"isShowProduct\" [keyword]=\"keyword\" (isShowProducts)=\"getShowProductStatus($event)\" (selectProductList)=\"getProductData($event)\" *ngIf=\"isShowProduct\"></app-select-stock>\\r\\n\\x3c!--\\u9009\\u62e9\\u5ba1\\u6279\\u4eba\\u548c\\u6284\\u9001\\u4eba--\\x3e\\r\\n<app-select-user (approve_users)=\"getData($event)\" [is_show_detail]=\"is_show_detail\" (is_show_details)=\"getShowStatus($event)\" [approval_or_copy]=\"approval_or_copy\" *ngIf=\"is_show_detail\"></app-select-user>\\r\\n\\x3c!--\\u5ba1\\u6279\\u64cd\\u4f5c\\u5f39\\u6846--\\x3e\\r\\n<app-verify-frame [log_type]=\"log_type\" [log_table_name]=\"log_table_name\" [operate_type]=\"operate_type\" [username]=\"otherorderInfo?.result?.create_user_name\" [order_number]=\"otherorderInfo?.result?.otherorder_order\" [pr_id]=\"otherorder_id\" [create_user_id]=\"create_user_id\" [operate_button_type_is_more]=\"operate_button_type_is_more\" [operate_button_type]=\"operate_button_type\" (operate_types)=\"getOperateTypes($event)\"></app-verify-frame>\\r\\n'},\"ht+D\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(\"WT6e\"),s=r(\"Xjw4\"),n=r(\"bfOx\"),i=r(\"NOoU\"),a=r(\"ntJC\"),l=r(\"R12H\"),d=r(\"7DMc\"),c=r(\"Exih\"),u=r(\"OMJi\"),h=r(\"xHjW\"),p=this&&this.__decorate||function(e,t,r,o){var s,n=arguments.length,i=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(n<3?s(i):n>3?s(t,r,i):s(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i},_=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,r,o,s,n,i){this.http=t,this.router=r,this.routInfo=o,this.cookieStore=s,this.globalService=n,this.notificationService=i,this.otherorder_id=\"\",this.otherorderList=[],this.userList=[],this.otherorderInfo=[],this.otherorder_user_id_default=0,this.department_name_default=\"\",this.category_id_default=0,this.datePickerConfig={locale:\"zh-CN\",format:\"YYYY-MM-DD\",enableMonthSelector:!0,showMultipleYearsNavigation:!0},this.isDetail=\"\",this.keyword=\"\",this.category_type=20,this.category_tab=1,this.otherorder_type=2,this.p_type=2,this.role=3,this.p_prices=0,this.rollback_url=\"\",this.isShowProduct=\"\",this.selectProductList=[],this.category_type_product=6,this.searchProductList=[],this.productDefault=[],this.select_category_ids=[],this.approve_user=[],this.follower_user=[],this.transfer_user=[],this.remove_user_ids=[],this.approval_or_copy=\"\",this.is_show_detail=\"\",this.is_show_details=\"\",this.approve_users=[],this.operate_type=\"\",this.operate_button_type=\"\",this.operate_button_type_is_more=\"\",this.operate_types=\"\",this.uid=0,this.create_user_id=0,this.log_table_name=\"otherorder\",this.log_type=\"otherorder_out\",this.permissions=[],this.uid=this.cookieStore.getCookie(\"uid\"),this.formModel=e.group({otherorder_order:[\"\"],otherorder_date:[\"\"],otherorder_user_id:[\"\"],otherorder_department_id:[\"\"],storehouse_id:[\"\"],category_id:[\"\"],otherorder_qrcode:[\"\"],otherorder_detail:[\"\"],otherorder_note:[\"\"]})}return e.prototype.ngOnInit=function(){var e=this,t=this.routInfo.snapshot.params.otherorder_id;if(\"\"!=t&&\"0\"!=t){if(t.indexOf(\"_\")>=0){var r=t.split(\"_\");this.otherorder_id=r[0],this.isDetail=r[1]}else this.otherorder_id=t;this.getOtherorderInfo(this.otherorder_id),this.rollback_url+=\"/\"+t}else this.rollback_url+=\"/0\";this.getOtherorderDefault(\"\"),this.globalService.getMenuInfo(),setTimeout(function(){e.menu_id=e.globalService.getMenuId(),e.rollback_url=e.globalService.getMenuUrl(),e.permissions=e.globalService.getPermissions()},this.globalService.getMenuPermissionDelayTime())},e.prototype.isPermission=function(e,t){var r=e+\"_\"+t;return\"\"==t&&(r=e),this.cookieStore.in_array(r,this.permissions)},e.prototype.getOtherorderInfo=function(e){var t=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getOtherorderInfo?otherorder_id=\"+e).map(function(e){return e.json()}).subscribe(function(r){t.otherorderInfo=r,t.formModel.patchValue({otherorder_id:e,otherorder_order:t.otherorderInfo.result.otherorder_order,otherorder_date:t.otherorderInfo.result.otherorder_date,otherorder_user_id:t.otherorderInfo.result.otherorder_user_id,otherorder_department_id:t.otherorderInfo.result.otherorder_department_id,storehouse_id:t.otherorderInfo.result.storehouse_id,category_id:t.otherorderInfo.result.category_id,otherorder_qrcode:t.otherorderInfo.result.otherorder_qrcode,otherorder_detail:t.otherorderInfo.result.otherorder_detail,otherorder_note:t.otherorderInfo.result.otherorder_note,otherorder_assign:t.otherorderInfo.result.otherorder_assign,otherorder_copy_person:t.otherorderInfo.result.otherorder_copy_person}),t.create_user_id=t.otherorderInfo.result.u_id,t.approve_user=t.otherorderInfo.result.assign_user_name,t.follower_user=t.otherorderInfo.result.copy_user,t.otherorder_user_id_default=t.otherorderInfo.result.otherorder_user_id,t.category_id_default=t.otherorderInfo.result.category_id,t.selectProductList=t.otherorderInfo.result.detail,t.sumPCount(),0!=t.otherorderInfo.result.otherorder_user_id&&t.getDepartment(t.otherorderInfo.result.otherorder_user_id,2)})},e.prototype.getOtherorderDefault=function(e){var t=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getOtherorderDefault?category_tab=\"+this.category_tab+\"&category_type=\"+this.category_type+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(e){return e.json()}).subscribe(function(e){t.otherorderList=e,202==t.otherorderList.status&&(alert(t.otherorderList.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"]))}),\"\"==e&&this.getProductDefault()},e.prototype.getDepartment=function(e,t){var r=this,o=0;o=1==t?e.target.value:e;var s=this.globalService.getDomain()+\"/api/v1/getDepartment\";0!=o&&(s+=\"?u_id=\"+o),this.http.get(s).map(function(e){return e.json()}).subscribe(function(e){201==e.status?alert(e.msg):200==e.status&&(r.department_name_default=e.result.department_name,r.formModel.patchValue({otherorder_department_id:e.result.department_id}))})},e.prototype.onSubmit=function(e){var t=this;if(\"\"==this.formModel.value.otherorder_date.trim())return alert(\"\\u8bf7\\u586b\\u5199\\u5355\\u636e\\u65e5\\u671f\\uff01\"),!1;if(\"\"==this.formModel.value.otherorder_order.trim())return alert(\"\\u8bf7\\u586b\\u5199\\u5355\\u636e\\u53f7\\uff01\"),!1;var r=[];this.approve_user.length>0&&this.approve_user.forEach(function(e,t,o){r.push(e.id.toString())});var o=[];this.follower_user.length>0&&this.follower_user.forEach(function(e,t,r){o.push(e.id.toString())}),this.http.post(this.globalService.getDomain()+\"/api/v1/addOtherorder\",{otherorder_id:this.otherorder_id,otherorder_type:this.otherorder_type,otherorder_order:this.formModel.value.otherorder_order,otherorder_date:this.formModel.value.otherorder_date,otherorder_user_id:this.formModel.value.otherorder_user_id,otherorder_department_id:this.formModel.value.otherorder_department_id,storehouse_id:this.formModel.value.storehouse_id,category_id:this.formModel.value.category_id,otherorder_qrcode:this.formModel.value.otherorder_qrcode,otherorder_detail:JSON.stringify(this.selectProductList),otherorder_note:this.formModel.value.otherorder_note,otherorder_assign:JSON.stringify(r),otherorder_copy_person:JSON.stringify(o),otherorder_prices:this.p_prices,u_id:this.cookieStore.getCookie(\"uid\"),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(r){var o=JSON.parse(r._body);alert(o.msg),200==o.status?2==e?t.clear_():t.router.navigate([\"/inventory-management/outbound\"]):202==o.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"]))})},e.prototype.clear_=function(){this.formModel.patchValue({otherorder_id:\"\",otherorder_order:\"\",otherorder_date:\"\",otherorder_user_id:\"\",otherorder_department_id:\"\",category_id:\"\",otherorder_qrcode:\"\",otherorder_detail:\"\",otherorder_note:\"\",otherorder_assign:\"\",otherorder_copy_person:\"\"}),this.create_user_id=0,this.approve_user=[],this.follower_user=[],this.otherorder_user_id_default=0,this.category_id_default=0,this.selectProductList=[]},e.prototype.searchKey=function(e){var t=this,r=this.globalService.getDomain()+\"/api/v1/getStockProductList?page=\"+e+\"&p_type=\"+this.p_type+\"&type=list&sid=\"+this.cookieStore.getCookie(\"sid\");\"\"!=this.keyword.trim()&&(r+=\"&keyword=\"+this.keyword.trim());var o=\"\";this.select_category_ids.forEach(function(e,t,r){1==e&&(o+=t+\",\")}),r+=\"&category_ids=\"+o,this.http.get(r).map(function(e){return e.json()}).subscribe(function(e){t.searchProductList=e,202==t.searchProductList.status&&(alert(t.searchProductList.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"]))})},e.prototype.getProductDefault=function(){var e=this;this.http.get(this.globalService.getDomain()+\"/api/v1/getProductDefault?type=list&p_type=\"+this.p_type+\"&category_type=\"+this.category_type_product+\"&sid=\"+this.cookieStore.getCookie(\"sid\")).map(function(e){return e.json()}).subscribe(function(t){e.productDefault=t,202==e.productDefault.status&&(alert(e.productDefault.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.select_category_ids[0]=!0,e.productDefault.result.categoryList.forEach(function(t,r,o){e.select_category_ids[t.category_id]=!0,t.has_child>=1&&t.child.forEach(function(t,r,o){e.select_category_ids[t.category_id]=!0})})})},e.prototype.sumPCounts=function(e,t,r,o,s){var n=this;if(0!=e){if(r-o>s)return alert(\"\\u5e93\\u5b58\\u4e0d\\u8db3,\\u8bf7\\u4fee\\u6539\\u4f7f\\u7528\\u6570\\u91cf\\u5728\\u603b\\u6570\\u91cf\\u4ee5\\u5185\\u3002\"),!1;e.target.value>s+o&&(e.target.value=o)}this.p_prices=0,this.selectProductList.forEach(function(r,o,s){if(o==t){var i=r.p_count;if(Object(u.isNull)(i)&&(e.target.value=0),parseInt(i)-parseInt(r.old_p_count)<=parseInt(r.openinginventory_surplus_count)){var a=parseInt(r.openinginventory_price);isNaN(a)&&(a=0),n.p_prices+=a*parseInt(i)}}})},e.prototype.sumPCount=function(){var e=this;this.p_prices=0,this.selectProductList.forEach(function(t,r,o){e.p_prices+=parseInt(t.p_price)*parseInt(t.p_count)})},e.prototype.removeInput=function(e){this.selectProductList.splice(e,1),this.sumPCount()},e.prototype.showProduct=function(){this.isShowProduct=\"stock\",this.searchKey(1)},e.prototype.getProductData=function(e){this.selectProductList=JSON.parse(e)},e.prototype.getShowProductStatus=function(e){this.isShowProduct=e},e.prototype.showDetail=function(e){var t=this;this.approval_or_copy=e,setTimeout(function(){t.is_show_detail=\"1\",console.log(t.is_show_detail)},500)},e.prototype.getData=function(e){var t=this,r=\"\";\"assign\"==this.approval_or_copy?this.approve_user=JSON.parse(e):\"follower\"==this.approval_or_copy?this.follower_user=JSON.parse(e):\"transfer\"==this.approval_or_copy&&(this.transfer_user=JSON.parse(e),this.transfer_user.forEach(function(e,t,o){r+='\"'+e.id+'\",'}),this.http.post(this.globalService.getDomain()+\"/api/v1/addOtherorderLog\",{other_id:this.otherorder_id,other_table_name:this.log_table_name,log_type:this.log_type,log_operation_type:\"transfer\",log_uid:r,create_user_id:this.otherorderInfo.result.u_id,u_id:this.cookieStore.getCookie(\"uid\"),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(e){var r=JSON.parse(e._body);200==r.status?t.getOtherorderInfo(t.otherorder_id):202==r.status?(alert(r.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"])):9999!=r.status&&201!=r.status||alert(r.msg)}))},e.prototype.getShowStatus=function(e){this.is_show_detail=e},e.prototype.removeUser=function(e,t){this.remove_user_ids.push(e);var r=[];\"assign\"==t?(this.approve_user.forEach(function(t,o,s){t.id!=e&&r.push(t)}),this.approve_user=r):\"follower\"==t&&(this.follower_user.forEach(function(t,o,s){t.id!=e&&r.push(t)}),this.follower_user=r)},e.prototype.showModal=function(e,t){this.operate_type=e,this.operate_button_type=t,this.operate_button_type_is_more=\"\"},e.prototype.getOperateTypes=function(e){this.operate_type=\"\",this.operate_button_type=\"\",this.getOtherorderInfo(this.otherorder_id)},e.prototype.smartModEg1=function(){this.notificationService.smartMessageBox({title:\"\\u6dfb\\u52a0\",content:\"\\u8bf7\\u5728\\u65b0\\u9875\\u9762\\u6dfb\\u52a0\\u9009\\u9879\\uff0c\\u6dfb\\u52a0\\u5b8c\\u6210\\u540e\\u5728\\u5f53\\u524d\\u9875\\u9762\\u70b9\\u51fb<i class='fa fa-link'></i>\\u5237\\u65b0\\u6309\\u94ae\\u7ee7\\u7eed\\u9009\\u62e9\\uff08\\u6ce8\\uff1a\\u5237\\u65b0\\u6309\\u94ae\\u53ea\\u662f\\u5c40\\u90e8\\u5237\\u65b0\\uff09\",buttons:\"[\\u53d6\\u6d88][\\u786e\\u5b9a]\"},function(e){})},p([Object(o.ViewChild)(\"lgModal\"),_(\"design:type\",c.d)],e.prototype,\"lgModal\",void 0),e=p([Object(o.Component)({selector:\"app-add-outbound\",template:r(\"4rqD\")}),_(\"design:paramtypes\",[d.a,i.b,n.c,n.a,a.a,l.a,h.a])],e)}(),g=[{path:\"\",component:f}],b=n.d.forChild(g),m=r(\"pvSQ\"),y=r(\"JOm+\"),v=r(\"SSMX\"),x=r(\"50Tv\"),I=r(\"pkyk\"),k=r(\"+ZDh\");r.d(t,\"AddOutboundModule\",function(){return w});var D=this&&this.__decorate||function(e,t,r,o){var s,n=arguments.length,i=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(n<3?s(i):n>3?s(t,r,i):s(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i},w=function(){function e(){}return e=D([Object(o.NgModule)({imports:[s.CommonModule,m.a,y.a,d.b,d.f,v.a,x.a,I.a,k.a,b],declarations:[f]})],e)}()}});","extractedComments":[]}