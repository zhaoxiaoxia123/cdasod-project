{"code":"webpackJsonp([57],{\"+/W5\":function(t,e){t.exports='<div id=\"content\">\\r\\n  <sa-widgets-grid>\\r\\n    <div class=\"row\">\\r\\n      <article class=\"col-sm-12 \">\\r\\n        <sa-widget [editbutton]=\"false\" [deletebutton]=\"false\" [colorbutton]=\"false\">\\r\\n          <header>\\r\\n            <span class=\"widget-icon\"><i class=\"fa {{menuInfos?.menu_icon}}\"></i> </span>\\r\\n            <h2>{{menuInfos?.menu_name}}</h2>\\r\\n          </header>\\r\\n          <div>\\r\\n            <div class=\"widget-body no-padding\">\\r\\n              <div  class=\"row\">\\r\\n                <article  class=\"col-sm-12\">\\r\\n                  <div class=\"navbar navbar-default\">\\r\\n                      <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n                        <div class=\"form-group pdlr-4\" *ngIf=\"isPermission(menu_id,\\'add\\')\">\\r\\n                          <a class=\"btn btn-success btn-sm\" (click)=\"isDemo(\\'/inventory-management/add-requisition\\',\\'0\\',\\'\\')\">\\r\\n                            <span class=\"glyphicon glyphicon-plus mr-5\"></span>\\u6dfb\\u52a0</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\" *ngIf=\"isPermission(menu_id,\\'edit\\')\">\\r\\n                          <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':editStatusStockallotId == 0}\" (click)=\"isDemo(\\'/inventory-management/add-requisition\\',\\'1\\',\\'edit\\')\">\\r\\n                            <span class=\"glyphicon glyphicon-pencil mr-5 color-yellow\"></span>\\u4fee\\u6539</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\" *ngIf=\"isPermission(menu_id,\\'delete\\')\">\\r\\n                          <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':editStatusStockallotId == 0}\" (click)=\"deleteStockallot(\\'id\\')\">\\r\\n                            <span class=\"fa-fw fa  fa-trash-o mr-5 color-red\"></span>\\u5220\\u9664</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\" *ngIf=\"isPermission(menu_id,\\'detail\\')\">\\r\\n                          <a [ngClass]=\"{\\'btn default-btn btn-sm\\':true,\\'not-click\\':editStatusStockallotId == 0}\" (click)=\"isDemo(\\'/inventory-management/add-requisition\\',\\'1\\',\\'detail\\')\" >\\r\\n                            <span class=\"glyphicon glyphicon-zoom-in mr-5 color-green\"></span>\\u8be6\\u60c5</a>\\r\\n                        </div>\\r\\n                        \\x3c!--<div class=\"form-group pdlr-4\" *ngIf=\"isStatus == 2\">--\\x3e\\r\\n                          \\x3c!--<a class=\"btn default-btn btn-sm\" (click)=\"editStatus(1,\\'id\\')\">--\\x3e\\r\\n                            \\x3c!--<span class=\"fa-fw fa fa-play mr-5 color-green\"></span>\\u542f\\u7528</a>--\\x3e\\r\\n                        \\x3c!--</div>--\\x3e\\r\\n                        \\x3c!--<div class=\"form-group pdlr-4\" *ngIf=\"isStatus == 1\">--\\x3e\\r\\n                          \\x3c!--<a class=\"btn default-btn btn-sm\" (click)=\"editStatus(2,\\'id\\')\" >--\\x3e\\r\\n                            \\x3c!--<span class=\"fa-fw fa fa-stop mr-5 txt-color-blueDark\"></span>\\u65e0\\u6548</a>--\\x3e\\r\\n                        \\x3c!--</div>--\\x3e\\r\\n                        <div *ngIf=\"isPermission(menu_id,\\'verify\\')\">\\r\\n                        <div class=\"form-group pdlr-4\" (click)=\"showModal(\\'operation\\',\\'operation\\',\\'\\')\" *ngIf=\"uid == sa_status\">\\r\\n                          <a class=\"btn default-btn btn-sm\" >\\r\\n                            <span class=\"fa-fw fa fa-stop  mr-5 text-warning\"></span>\\u5ba1\\u6838</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\" (click)=\"showModal(\\'operation\\',\\'cancel\\',\\'\\')\" *ngIf=\"uid == sa_u_id && sa_status != \\'yes\\' && sa_status != \\'no\\' && sa_status != \\'cancel\\'\">\\r\\n                          <a  class=\"btn default-btn btn-sm\" >\\r\\n                            <span class=\"fa-fw fa fa-trash-o mr-5 text-warning\"></span>\\u4f5c\\u5e9f</a>\\r\\n                        </div>\\r\\n                        <div class=\"form-group pdlr-4\" (click)=\"showModal(\\'operation\\',\\'back_cancel\\',\\'\\')\" *ngIf=\"uid == sa_u_id && sa_status == \\'cancel\\'\">\\r\\n                          <a class=\"btn default-btn btn-sm\" >\\r\\n                            <span class=\"fa-fw fa fa-mail-reply-all mr-5 text-primary\"></span>\\u5f03\\u5e9f</a>\\r\\n                        </div>\\r\\n                        </div>\\r\\n                        <div class=\"form-group btn-group pdlr-4\" *ngIf=\"isPermission(menu_id,\\'verify\\') || isPermission(menu_id,\\'delete\\')\">\\r\\n                          <a class=\"btn default-btn btn-sm dropdown-toggle\" (click)=\"showAllCheck()\" data-toggle=\"dropdown\">\\r\\n                            <span class=\"fa-fw fa fa-th-large mr-5 color-red\"></span>\\u6279\\u5904\\u7406<i class=\"fa fa-fw fa-chevron-down\"></i></a>\\r\\n\\r\\n                          <ul class=\"dropdown-menu\" role=\"menu\">\\r\\n                            \\x3c!--<li><a (click)=\"editStatus(1,\\'all\\')\"><span class=\"fa-fw fa fa-play mr-5 color-green\"></span>\\u6279\\u91cf\\u8bbe\\u4e3a\\u542f\\u52a8</a></li>--\\x3e\\r\\n                            \\x3c!--<li><a (click)=\"editStatus(2,\\'all\\')\"><span class=\"fa-fw fa fa-stop mr-5 txt-color-blueDark\"></span>\\u6279\\u91cf\\u8bbe\\u4e3a\\u65e0\\u6548</a></li>--\\x3e\\r\\n                            \\x3c!--<li class=\"divider\"></li>--\\x3e\\r\\n                            \\x3c!--<li><a  data-toggle=\"modal\" data-target=\"#audit\"><span class=\"fa-fw fa  fa-stop  mr-5 text-warning\"></span>\\u6279\\u91cf\\u5ba1\\u6838</a></li>--\\x3e\\r\\n                            \\x3c!--<li class=\"divider\"></li>--\\x3e\\r\\n                            \\x3c!--<li><a  data-toggle=\"modal\" data-target=\"#audit\"><span class=\"fa-fw fa fa-trash-o mr-5 text-warning\"></span>\\u6279\\u91cf\\u4f5c\\u5e9f</a></li>--\\x3e\\r\\n                            \\x3c!--<li><a  data-toggle=\"modal\" data-target=\"#audit\"><span class=\"fa-fw fa fa-mail-reply-all mr-5 text-primary\"></span>\\u6279\\u91cf\\u5f03\\u5e9f</a></li>--\\x3e\\r\\n                            <li *ngIf=\"isPermission(menu_id,\\'verify\\')\"><a (click)=\"showModal(\\'operation\\',\\'operation\\',\\'all\\')\"><span class=\"fa-fw fa  fa-stop  mr-5 text-warning\"></span>\\u6279\\u91cf\\u5ba1\\u6838</a></li>\\r\\n                            <li class=\"divider\"></li>\\r\\n                            <li *ngIf=\"isPermission(menu_id,\\'verify\\')\"><a (click)=\"showModal(\\'operation\\',\\'cancel\\',\\'all\\')\"><span class=\"fa-fw fa fa-trash-o mr-5 text-warning\"></span>\\u6279\\u91cf\\u4f5c\\u5e9f</a></li>\\r\\n                            <li *ngIf=\"isPermission(menu_id,\\'verify\\')\"><a (click)=\"showModal(\\'operation\\',\\'back_cancel\\',\\'all\\')\"><span class=\"fa-fw fa fa-mail-reply-all mr-5 text-primary\"></span>\\u6279\\u91cf\\u5f03\\u5e9f</a></li>\\r\\n\\r\\n                            <li class=\"divider\"></li>\\r\\n                            <li *ngIf=\"isPermission(menu_id,\\'delete\\')\"><a (click)=\"deleteStockallot(\\'all\\')\"><span class=\"fa-fw fa  fa-trash-o color-red mr-5\"></span>\\u6279\\u91cf\\u5220\\u9664</a></li>\\r\\n                          </ul>\\r\\n                        </div>\\r\\n                      </form>\\r\\n                    <form  class=\"navbar-form navbar-left ng-pristine ng-valid ng-touched\" novalidate=\"\" role=\"search\" >\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <input  class=\"form-control ng-pristine ng-valid ng-touched\" maxlength=\"15\" name=\"keyword\" [(ngModel)]=\"keyword\" placeholder=\"\\u8bf7\\u8f93\\u5165\\u641c\\u7d22\\u5185\\u5bb9\" type=\"text\">\\r\\n                      </div>\\r\\n                      <div class=\"form-group pdlr-4\">\\r\\n                        <button class=\"btn btn-default\" type=\"button\" (click)=\"getStockallotList(1)\">\\r\\n                          <i  class=\"glyphicon glyphicon-search\"></i>\\r\\n                          \\u641c\\u7d22\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </form>\\r\\n                  </div>\\r\\n                </article>\\r\\n              </div>\\r\\n              <div class=\"padding0\">\\r\\n                <div *ngIf=\"isAll != 0\" [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'2\\',\\'width\\':width,\\'float\\':\\'left\\'}\" class=\"table-scrolling padding0\">\\r\\n                  <table class=\"table table-striped  smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr>\\r\\n                      <td><label class=\"checkbox mt-8\">\\r\\n                        <input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"check\" (change)=\"changeCheckAll($event)\" >\\r\\n                        <i></i>\\r\\n                      </label>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let s of stockallotList?.result?.stockallotList?.data\">\\r\\n                      <td>\\r\\n                        <label class=\"checkbox mt-8\">\\r\\n                          <input type=\"checkbox\" value=\"{{s.stock_allot_id}}\" [checked]=\"selects[s.stock_allot_id]\" (change)=\"handle($event)\">\\r\\n                          <i></i>\\r\\n                        </label>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n\\r\\n                <div style=\"z-index: 2;width:30%;float:left;\" class=\"table-scrolling padding0\">\\r\\n                  <table class=\"table table-striped  smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr >\\r\\n                      \\x3c!--<td *ngIf=\"isAll != 0\"><label class=\"checkbox mt-8\">--\\x3e\\r\\n                        \\x3c!--<input type=\"checkbox\" name=\"checkbox-inline\" [checked]=\"check\" (change)=\"changeCheckAll($event)\" >--\\x3e\\r\\n                        \\x3c!--<i></i>--\\x3e\\r\\n                      \\x3c!--</label>--\\x3e\\r\\n                      \\x3c!--</td>--\\x3e\\r\\n                      <th>\\u5355\\u636e\\u72b6\\u6001 </th>\\r\\n                      <th>\\u5355\\u636e\\u53f7</th>\\r\\n                      <th>\\u5355\\u636e\\u65e5\\u671f </th>\\r\\n                      \\x3c!--<th>\\u5355\\u636e\\u72b6\\u6001</th>--\\x3e\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let s of stockallotList?.result?.stockallotList?.data\" (click)=\"isStatusShow(s.stock_allot_id,s.stock_allot_status,s.u_id,s.u_username,s.stock_allot_number)\" [ngClass]=\"{\\'table-color\\':editStatusStockallotId == s.stock_allot_id}\">\\r\\n                      \\x3c!--<td *ngIf=\"isAll != 0\">--\\x3e\\r\\n                        \\x3c!--<label class=\"checkbox mt-8\">--\\x3e\\r\\n                          \\x3c!--<input type=\"checkbox\" value=\"{{s.stock_allot_id}}\" [checked]=\"selects[s.stock_allot_id]\" (change)=\"$event.preventDefault();$event.stopPropagation();handle($event)\">--\\x3e\\r\\n                          \\x3c!--<i></i>--\\x3e\\r\\n                        \\x3c!--</label>--\\x3e\\r\\n                      \\x3c!--</td>--\\x3e\\r\\n                      <td>\\r\\n                        <div>\\r\\n                          <span class=\"label-maintain\" *ngIf=\"s.stock_allot_status != \\'yes\\' && s.stock_allot_status != \\'no\\' && s.stock_allot_status != \\'cancel\\'\">\\u5ba1\\u6838\\u4e2d</span>\\r\\n                          <span class=\"label-normal\" *ngIf=\"s.stock_allot_status == \\'yes\\'\">\\u5df2\\u540c\\u610f</span>\\r\\n                          <span  class=\"label-full\" *ngIf=\"s.stock_allot_status == \\'no\\'\">\\u5df2\\u62d2\\u7edd</span>\\r\\n                          <span  class=\"label-full\" *ngIf=\"s.stock_allot_status == \\'cancel\\'\">\\u5df2\\u4f5c\\u5e9f</span>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <div class=\"click-a\"><a>{{s.stock_allot_number}}</a></div>\\r\\n                        </td>\\r\\n                      <td>{{s.stock_allot_date}}</td>\\r\\n                      \\x3c!--<td>--\\x3e\\r\\n                        \\x3c!--<span [ngSwitch]=\"s.stock_allot_status\">--\\x3e\\r\\n                          \\x3c!--<span class=\"label-normal\" *ngSwitchCase=\"1\">\\u6b63\\u5e38</span>--\\x3e\\r\\n                          \\x3c!--<span class=\"label-invalid\" *ngSwitchCase=\"2\">\\u5931\\u6548</span>--\\x3e\\r\\n                          \\x3c!--<span class=\"label-unknown\" *ngSwitchDefault>\\u672a\\u77e5</span>--\\x3e\\r\\n                        \\x3c!--</span>--\\x3e\\r\\n                      \\x3c!--</td>--\\x3e\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div  [ngStyle]=\"{\\'padding\\': \\'0\\',\\'z-index\\': \\'1\\',\\'width\\':width_1,\\'float\\':\\'left\\'}\" class=\"table-responsive\">\\r\\n                  <table class=\"table table-striped   smart-form table-height-20\">\\r\\n                    <thead>\\r\\n                    <tr>\\r\\n                      <th>\\u8c03\\u62e8\\u72b6\\u6001</th>\\r\\n                      \\x3c!--<th>\\u8c03\\u5165\\u4ed3\\u5e93</th>--\\x3e\\r\\n                      \\x3c!--<th>\\u8c03\\u51fa\\u4ed3\\u5e93</th>--\\x3e\\r\\n                      <th>\\u7ecf\\u624b\\u4eba</th>\\r\\n                      <th>\\u7ecf\\u624b\\u90e8\\u95e8 </th>\\r\\n                      <th>\\u5236\\u5355\\u4eba</th>\\r\\n                      <th>\\u521b\\u5efa\\u65f6\\u95f4 </th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                    <tr *ngFor=\"let s of stockallotList?.result?.stockallotList?.data\" (click)=\"isStatusShow(s.stock_allot_id,s.stock_allot_status,s.u_id,s.u_username,s.stock_allot_number)\" [ngClass]=\"{\\'table-color\\':editStatusStockallotId == s.stock_allot_id}\">\\r\\n                      <td>\\r\\n                        <span [ngSwitch]=\"s.stock_allot_type\">\\r\\n                            <span class=\"label-normal\" *ngSwitchCase=\"1\">\\u7b49\\u4ef7\\u8c03\\u62e8</span>\\r\\n                            <span class=\"label-invalid\" *ngSwitchCase=\"2\">\\u5dee\\u4ef7\\u8c03\\u62e8</span>\\r\\n                            <span class=\"label-unknown\" *ngSwitchDefault>\\u672a\\u77e5</span>\\r\\n                        </span>\\r\\n                      </td>\\r\\n                      \\x3c!--<td>{{s.storehouse_name}}</td>--\\x3e\\r\\n                      \\x3c!--<td>{{s.out_storehouse_name}}</td>--\\x3e\\r\\n                      <td>{{s.user_name}}</td>\\r\\n                      <td>{{s.stock_allot_date}}</td>\\r\\n                      <td>{{s.u_username}}</td>\\r\\n                      <td>{{s.created_at | date:\\'yyyy-MM-dd\\'}}</td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\"dt-toolbar\">\\r\\n                <div class=\"col-xs-12 col-sm-6\">\\r\\n                  <span>\\u5171{{stockallotList?.result?.stockallotList?.total}}\\u6761</span>\\r\\n                </div>\\r\\n                <div class=\"hidden-xs right\">\\r\\n                  <ul class=\"pagination pagination-sm\">\\r\\n                    <li *ngFor=\"let p of stockallotList?.result?.page\" class=\"{{p.class}}\">\\r\\n                      <a (click)=\"pagination(p.value)\" *ngIf=\"p.method==\\'method\\'\">{{p.text}}</a>\\r\\n                      <a *ngIf=\"p.method==\\'\\'\">{{p.text}}</a>\\r\\n                    </li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </sa-widget>\\r\\n      </article>\\r\\n    </div>\\r\\n  </sa-widgets-grid>\\r\\n</div>\\r\\n\\r\\n<app-verify-frame [log_type]=\"log_type\" [log_table_name]=\"log_table_name\" [select_count]=\"select_count\" [selects]=\"selects\" [operate_type]=\"operate_type\" [username]=\"sa_u_username\" [order_number]=\"sa_order\" [pr_id]=\"editStatusStockallotId\" [create_user_id]=\"sa_u_id\" [operate_button_type]=\"operate_button_type\" [operate_button_type_is_more]=\"operate_button_type_is_more\"  (operate_types)=\"getOperateTypes($event)\" *ngIf=\"operate_type\"></app-verify-frame>\\r\\n\\r\\n'},aXOd:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=s(\"WT6e\"),n=s(\"Xjw4\"),l=s(\"bfOx\"),o=s(\"NOoU\"),r=s(\"ntJC\"),i=s(\"R12H\"),c=this&&this.__decorate||function(t,e,s,a){var n,l=arguments.length,o=l<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,a);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(o=(l<3?n(o):l>3?n(e,s,o):n(e,s))||o);return l>3&&o&&Object.defineProperty(e,s,o),o},d=this&&this.__metadata||function(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,s,a){this.http=t,this.router=e,this.cookieStore=s,this.globalService=a,this.stockallotList=[],this.stockallotInfo=[],this.prev=!1,this.next=!1,this.selects=[],this.check=!1,this.editStatusStockallotId=0,this.isStatus=0,this.isAll=0,this.width=\"0%\",this.width_1=\"70%\",this.keyword=\"\",this.rollback_url=\"\",this.uid=\"\",this.sa_status=\"\",this.sa_u_id=\"\",this.sa_u_username=\"\",this.sa_order=\"\",this.operate_type=\"\",this.operate_button_type=\"\",this.operate_button_type_is_more=\"\",this.select_count=\"\",this.operate_types=\"\",this.log_type=\"stockallot\",this.log_table_name=\"stockallot\",this.permissions=[],this.menuInfos=[],this.uid=this.cookieStore.getCookie(\"uid\"),this.getStockallotList(\"1\"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){var t=this;this.globalService.getMenuInfo(),setTimeout(function(){t.menu_id=t.globalService.getMenuId(),t.rollback_url=t.globalService.getMenuUrl(),t.permissions=t.globalService.getPermissions(),t.menuInfos=t.globalService.getMenuInfos()},this.globalService.getMenuPermissionDelayTime())},t.prototype.isPermission=function(t,e){var s=t+\"_\"+e;return\"\"==e&&(s=t),this.cookieStore.in_array(s,this.permissions)},t.prototype.getStockallotList=function(t){var e=this,s=this.globalService.getDomain()+\"/api/v1/getStockallotList?page=\"+t+\"&sid=\"+this.cookieStore.getCookie(\"sid\");\"\"!=this.keyword.trim()&&(s+=\"&keyword=\"+this.keyword.trim()),this.http.get(s).map(function(t){return t.json()}).subscribe(function(t){if(e.stockallotList=t,console.log(e.stockallotList),202==e.stockallotList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.stockallotList){e.stockallotList.result.stockallotList.current_page==e.stockallotList.result.stockallotList.last_page?e.next=!0:e.next=!1,1==e.stockallotList.result.stockallotList.current_page?e.prev=!0:e.prev=!1,e.selects=[];for(var s=0,a=e.stockallotList.result.stockallotList.data;s<a.length;s++){var n=a[s];e.selects[n.stock_allot_id]=!1}e.check=!1}})},t.prototype.changeCheckAll=function(t){var e=this,s=t.target.checked;this.selects.forEach(function(t,a,n){e.selects[a]=s}),this.check=s},t.prototype.handle=function(t){var e=t.target,s=e.value,a=e.checked;this.selects[s]=a;for(var n=0,l=0,o=this.selects;l<o.length;l++){0==o[l]&&(n+=1)}this.check=!(n>=1)},t.prototype.editStockallot=function(){var t=0,e=0;this.selects.forEach(function(s,a,n){1==s&&(t+=1,e=a)});var s=\"\";if(t<=0?s=\"\\u8bf7\\u9009\\u4e2d\\u8981\\u7f16\\u8f91\\u7684\\u4fe1\\u606f\\uff0c\\u518d\\u70b9\\u51fb\\u6b64\\u201c\\u4fee\\u6539\\u201d\\u6309\\u94ae\\uff01\":t>1&&(s=\"\\u4ec5\\u652f\\u6301\\u9009\\u4e2d\\u4e00\\u6761\\u8981\\u7f16\\u8f91\\u7684\\u4fe1\\u606f\\uff01\"),\"\"!=s)return alert(s),!1;this.router.navigate([\"/inventory-management/add-requisition/\"+e])},t.prototype.detailStockallot=function(){var t=this,e=0,s=0;this.selects.forEach(function(t,a,n){1==t&&(e+=1,s=a)});var a=\"\";if(e<=0?a=\"\\u8bf7\\u9009\\u4e2d\\u8981\\u67e5\\u770b\\u8be6\\u60c5\\u7684\\u884c\\uff0c\\u518d\\u70b9\\u51fb\\u6b64\\u201c\\u8be6\\u60c5\\u201d\\u6309\\u94ae\\uff01\":e>1&&(a=\"\\u4ec5\\u652f\\u6301\\u9009\\u4e2d\\u5e76\\u67e5\\u770b\\u4e00\\u884c\\u8981\\u67e5\\u770b\\u7684\\u4fe1\\u606f\\uff01\"),\"\"!=a)return alert(a),!1;var n=this.globalService.getDomain()+\"/api/v1/getStockallotInfo?stock_allot_id=\"+s;this.http.get(n).map(function(t){return t.json()}).subscribe(function(e){t.stockallotInfo=e,202==t.stockallotInfo.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate([\"/auth/login\"]))})},t.prototype.deleteStockallot=function(t){var e=this;if(this.globalService.demoAlert(\"\",\"\"))return!1;var s=\"\",a=\"\";if(\"id\"==t)a=this.editStatusStockallotId;else if(\"all\"==t){var n=0;if(this.selects.forEach(function(t,e,s){1==t&&(a+=e+\",\",n+=1)}),n<1)return s=\"\\u8bf7\\u786e\\u8ba4\\u5df2\\u9009\\u4e2d\\u9700\\u8981\\u5220\\u9664\\u7684\\u4fe1\\u606f\\uff01\",alert(s),!1}if(s=\"\\u60a8\\u786e\\u5b9a\\u8981\\u5220\\u9664\\u8be5\\u4fe1\\u606f\\u5417\\uff1f\",confirm(s)){var l=this.globalService.getDomain()+\"/api/v1/deleteStockallotById?stock_allot_id=\"+a+\"&type=\"+t+\"&sid=\"+this.cookieStore.getCookie(\"sid\");this.http.delete(l).map(function(t){return t.json()}).subscribe(function(t){if(e.stockallotList=t,202==e.stockallotList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate([\"/auth/login\"])),e.stockallotList){e.stockallotList.result.stockallotList.current_page==e.stockallotList.result.stockallotList.last_page?e.next=!0:e.next=!1,1==e.stockallotList.result.stockallotList.current_page?e.prev=!0:e.prev=!1,e.selects=[];for(var s=0,a=e.stockallotList.result.stockallotList.data;s<a.length;s++){var n=a[s];e.selects[n.stock_allot_id]=!1}e.check=!1}})}},t.prototype.isDemo=function(t,e,s){\"1\"==e&&(e=this.editStatusStockallotId,\"detail\"==s&&(e=e+\"_\"+s)),this.globalService.demoAlert(t,e)},t.prototype.pagination=function(t){this.page=t,this.getStockallotList(this.page)},t.prototype.isStatusShow=function(t,e,s,a,n){var l=this;this.editStatusStockallotId=t,this.isStatus=e,this.sa_u_id=s,this.sa_status=e,this.sa_u_username=a,this.sa_order=n,this.isAll=0,this.width=\"0%\",this.width_1=\"70%\",this.selects.forEach(function(t,e,s){1==t&&(l.selects[e]=!1)})},t.prototype.editStatus=function(t,e){var s=this,a=\"\";if(\"all\"==e?this.selects.forEach(function(t,e,s){1==t&&(a+=e+\",\")}):a=this.editStatusStockallotId,!a)return alert(\"\\u8bf7\\u786e\\u4fdd\\u5df2\\u9009\\u4e2d\\u9700\\u8981\\u64cd\\u4f5c\\u7684\\u9879\\uff01\"),!1;this.http.post(this.globalService.getDomain()+\"/api/v1/addStockallot\",{stock_allot_id:a,stock_allot_status:t,type:e,keyword:this.keyword.trim(),sid:this.cookieStore.getCookie(\"sid\")}).subscribe(function(t){var e=JSON.parse(t._body);if(alert(e.msg),200==e.status){if(s.stockallotList=e,s.stockallotList){s.stockallotList.result.stockallotList.current_page==s.stockallotList.result.stockallotList.last_page?s.next=!0:s.next=!1,1==s.stockallotList.result.stockallotList.current_page?s.prev=!0:s.prev=!1,s.selects=[];for(var a=0,n=s.stockallotList.result.stockallotList.data;a<n.length;a++){var l=n[a];s.selects[l.stock_allot_id]=!1}s.check=!1}}else 202==e.status&&(s.cookieStore.removeAll(s.rollback_url),s.router.navigate([\"/auth/login\"]));s.editStatusStockallotId=0,s.isStatus=0})},t.prototype.showAllCheck=function(){0==this.isAll&&(this.isAll=1,this.editStatusStockallotId=0,this.isStatus=0,this.width=\"5%\",this.width_1=\"65%\")},t.prototype.showModal=function(t,e,s){this.operate_type=t,this.operate_button_type=e,this.operate_button_type_is_more=s;var a=[],n=0;this.selects.forEach(function(t,e,s){1==t&&(a[e]=t,n+=1)}),this.selects=a,this.select_count=n},t.prototype.getOperateTypes=function(t){this.operate_type=\"\",this.operate_button_type=\"\",this.editStatusStockallotId=0,this.sa_u_id=\"\",this.sa_status=\"\",this.sa_u_username=\"\",this.sa_order=\"\",this.getStockallotList(\"1\")},t=c([Object(a.Component)({selector:\"app-inventory-requisition\",template:s(\"+/W5\")}),d(\"design:paramtypes\",[o.b,l.c,r.a,i.a])],t)}(),u=[{path:\"\",component:p}],h=l.d.forChild(u),f=s(\"pvSQ\"),g=s(\"JOm+\"),_=s(\"pkyk\");s.d(e,\"InventoryRequisitionModule\",function(){return m});var k=this&&this.__decorate||function(t,e,s,a){var n,l=arguments.length,o=l<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,a);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(o=(l<3?n(o):l>3?n(e,s,o):n(e,s))||o);return l>3&&o&&Object.defineProperty(e,s,o),o},m=function(){function t(){}return t=k([Object(a.NgModule)({imports:[n.CommonModule,f.a,g.a,_.a,h],declarations:[p]})],t)}()}});","extractedComments":[]}