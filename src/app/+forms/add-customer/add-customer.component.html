<!-- MAIN CONTENT -->
<div id="content">
  <div class="row">
    <sa-big-breadcrumbs *ngIf="c_id == 0" [items]="['企业设置', '添加客户']" icon="pencil-square-o" class="col-xs-12 col-sm-9 col-md-9 col-lg-9"></sa-big-breadcrumbs>
    <sa-big-breadcrumbs *ngIf="c_id != 0" [items]="['企业设置', '修改客户']" icon="pencil-square-o" class="col-xs-12 col-sm-9 col-md-9 col-lg-9"></sa-big-breadcrumbs>
  </div>
  <sa-widgets-grid>
    <div class="row">
      <article class="col-sm-12 ">
        <!-- Widget ID (each widget will need unique ID)-->
        <sa-widget [editbutton]="false" [deletebutton]="false" >
          <header>
            <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
            <h2 *ngIf="c_id == 0">添加客户</h2>
            <h2 *ngIf="c_id != 0">修改客户</h2>
          </header>
          <div>
            <!-- widget content -->
            <div class="widget-body no-padding">

              <form id="smart-form-register" class="smart-form" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate>
                <fieldset>
                  <legend>基本信息</legend>
                  <input type="hidden" name="c_id" formControlName="c_id">

                  <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                    <section >
                      <label class="label">客户ID</label>
                      <label class="input">
                        <input type="text" name="number" placeholder="请输入客户编号" maxlength="20" formControlName="number"/>
                      </label>
                    </section>

                  </div>
                  <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                    <section >
                      <label class="label">全称</label>
                      <label class="input">
                        <input type="text" name="name" placeholder="请输入全称 " maxlength="30" formControlName="name"/>
                      </label>
                    </section>

                  </div>
                  <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                    <section >
                      <label class="label">简称</label>
                      <label class="input">
                        <input type="text" name="abbreviation" placeholder="请输入简称 " maxlength="10" formControlName="abbreviation"/>
                      </label>
                    </section>
                  </div>
                  <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                    <section >
                      <label class="label ">所属行业</label>
                      <div class="">
                        <label class="select">
                          <select name="industry_category" formControlName="industry_category" [(ngModel)]="industry_category_default">
                            <option *ngFor="let c of userList.result?.industryCategoryList" [selected]="customer_info.result?.c_industry_category == c.category_id || this.c_id == 0" value="{{c.category_id}}">{{c.category_desc}}</option>
                          </select> <i></i> </label></div>
                      <!--<div class="col col-lg-2">
                        <button type="button" class="btn btn-info btn-sm">
                          添加所属行业
                        </button>
                      </div>-->
                    </section>

                  </div>
                  <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                    <section >
                      <label class="label">企业邮箱</label>
                      <label class="input"> <i class="icon-append fa fa-envelope-o"></i>
                        <input name="email" placeholder="E-mail" type="email" formControlName="email">
                      </label>
                    </section>

                  </div>
                  <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                    <div class="margin-left-15">
                      <label class="labe2">联系人</label>
                      <section class="col col-4">

                        <label class="input ">
                          <input  name='contacts' placeholder="请输入姓名"  type="text" formControlName="contacts" maxlength="5">
                        </label>
                      </section>
                      <section class="col col-8">
                        <label class="input "> <i class="icon-append fa fa-phone"></i>
                          <input name="phone" placeholder="请输入联系电话" formControlName="phone" samaskedinput="(999) 999-9999" type="tel" ng-reflect-sa-masked-input="(999) 999-9999" aria-required="true" class="valid" aria-invalid="false" maxlength="13">
                        </label>
                      </section>

                    </div>

                  </div>
                  <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="margin-left-15">
                      <section class="col col-4">
                        <label class="label txt-color-pink">所在地</label>
                        <label class="select ">
                          <select name="" >
                            <option value="0">--请选择省--</option>
                            <option ></option>
                          </select> <i></i> </label>
                      </section>
                      <section class="col col-4">
                        <label class="select margin-top-24">
                          <select name="" >
                            <option value="0">--请选择市--</option>
                            <option ></option>
                          </select> <i></i> </label>
                      </section>
                      <section class="col col-4">
                        <label class="select margin-top-24">
                          <select name="" >
                            <option value="0">--请选择区--</option>
                            <option ></option>
                          </select> <i></i> </label>
                      </section>


                    </div>
                  </div>
                  <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12 ">
                    <section>
                      <label class="label">详细地址</label>
                      <label class="input">
                        <input  name='address' placeholder="请输入详细地址"  type="text" formControlName="address">
                      </label>
                    </section>
                  </div>


                  <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                    <section>
                      <label class="label">链接百度云密钥</label>
                      <label class="input">
                        <input  name='iot_secret' placeholder="请输入链接百度云密钥" type="text" >
                      </label>
                    </section>

                  </div>
                  <div class="form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
                    <section>
                      <label class="label">主要产品</label>
                      <label class="textarea textarea-resizable">
                        <textarea class="custom-scroll" rows="3" name="products" formControlName="products"></textarea>
                      </label>
                    </section>
                  </div>

                </fieldset>

                <fieldset>
                  <legend>其他信息</legend>
                </fieldset>

                <div [ngStyle]="{'display':is_showDiv?'block':'none'}">
                  <fieldset >
                    <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                      <section >
                        <label class="label">客户来源</label>
                        <div class="">
                          <label class="select">
                            <select name="source" formControlName="source" [(ngModel)]="source_default">
                              <option *ngFor="let c of userList.result?.sourceList" [selected]="customer_info.result?.c_source == c.category_id || this.c_id == 0" value="{{c.category_id}}">{{c.category_desc}}</option>
                            </select> <i></i> </label></div>
                        <!--<div class="col col-lg-4">
                          <button type="button" class="btn btn-info btn-sm">
                            添加客户来源
                          </button>
                        </div>-->
                      </section>

                    </div>
                    <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                      <section >
                        <label class="label">协助跟进人</label>
                        <label class="select">
                          <select name="service_person" formControlName="service_person" [(ngModel)]="service_person_default">
                            <option *ngFor="let u of userList.result?.userList" [selected]="customer_info.result?.c_service_person == u.id || this.c_id == 0" value="{{u.id}}">{{u.u_username}}</option>
                          </select> <i></i> </label>
                      </section>

                    </div>
                    <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">
                      <section >
                        <label class="label">客户配置</label>
                        <label class="input">
                          <input type="text" formControlName="config" name="config" placeholder="请输入客户配置 "/>
                        </label>
                      </section>

                    </div>
                    <div class="form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
                      <section>
                      <label class="label">备注说明</label>
                        <label class="textarea textarea-resizable">
                          <textarea formControlName="notes" name="notes" class="custom-scroll" rows="3"></textarea>
                        </label>
                      </section>
                    </div>

                  </fieldset>
                </div>
                <fieldset>

                  <button type="button" class="btn btn-primary btn-sm margin-top-20 margin-left-20" (click)="changeDivStatus()" >
                    {{(is_showDiv == true) ?'收起':'展开'}}
                  </button>
                </fieldset>
                <footer>
                  <button type="button" class="btn btn-default" >
                    返回
                  </button>
                  <button class="btn btn-success" type="button">提交并新增</button>
                  <button type="submit" class="btn btn-primary">
                    提交
                  </button>
                </footer>
              </form>
            </div>
            <!-- end widget content -->
          </div>
          <!-- end widget div -->
        </sa-widget>
      </article>
      <!-- END COL -->
    </div>
    <!-- END ROW -->
  </sa-widgets-grid>
  <!-- end widget grid -->
</div>
