webpackJsonp([82],{ZPve:function(t,e){t.exports='<div id="content" >\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12 ">\r\n        <sa-widget [editbutton]="false" [deletebutton]="false" [colorbutton]="false">\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa {{menuInfos?.menu_icon}}"></i> </span>\r\n            <h2>{{menuInfos?.menu_name}}</h2>\r\n          </header>\r\n          <div>\r\n            <div class="widget-body no-padding" >\r\n              <div  class="row">\r\n                <article  class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n                    <form  class="navbar-form navbar-left ng-pristine ng-valid ng-touched" novalidate="" role="search" >\r\n                      <div class="form-group pdlr-4" *ngIf="isPermission(menu_id,\'add\')">\r\n                        <a class="btn btn-success btn-sm" (click)="lgModal.show();">\r\n                          <span class="glyphicon glyphicon-plus mr-5"></span>\u6dfb\u52a0</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4" *ngIf="isPermission(menu_id,\'edit\')">\r\n                        <a [ngClass]="{\'btn default-btn btn-sm\':true,\'not-click\':isStatus == 0}" (click)="detailCustomer(\'edit\')">\r\n                          <span class="glyphicon glyphicon-pencil mr-5 color-yellow"></span>\u4fee\u6539</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4" *ngIf="isPermission(menu_id,\'delete\')">\r\n                        <a [ngClass]="{\'btn default-btn btn-sm\':true,\'not-click\':isStatus == 0}" (click)="deleteCustomer(\'id\')">\r\n                          <span class="fa-fw fa  fa-trash-o mr-5 color-red"></span>\u5220\u9664</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4" *ngIf="isPermission(menu_id,\'detail\')">\r\n                        <a [ngClass]="{\'btn default-btn btn-sm\':true,\'not-click\':isStatus == 0}" (click)="detailCustomer(\'detail\')">\r\n                          <span class="glyphicon glyphicon-zoom-in mr-5 color-green"></span>\u8be6\u60c5</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4" *ngIf="isStatus == 2 && isPermission(menu_id,\'edit\')">\r\n                        <a class="btn default-btn btn-sm" (click)="editStatus(1,\'id\')">\r\n                          <span class="fa-fw fa fa-play mr-5 color-green"></span>\u542f\u7528</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4" *ngIf="isStatus == 1 && isPermission(menu_id,\'edit\')">\r\n                        <a class="btn default-btn btn-sm" (click)="editStatus(2,\'id\')" >\r\n                          <span class="fa-fw fa fa-stop mr-5 txt-color-blueDark"></span>\u65e0\u6548</a>\r\n                      </div>\r\n                      <div class="form-group btn-group pdlr-4" *ngIf="isPermission(menu_id,\'edit\') || isPermission(menu_id,\'delete\')">\r\n                        <a class="btn default-btn btn-sm dropdown-toggle" (click)="showAllCheck()" data-toggle="dropdown">\r\n                          <span class="fa-fw fa fa-th-large mr-5 color-red"></span>\u6279\u5904\u7406<i class="fa fa-fw fa-chevron-down"></i></a>\r\n                        <ul class="dropdown-menu" role="menu">\r\n                          <li *ngIf="isPermission(menu_id,\'edit\')"><a (click)="editStatus(1,\'all\')" ><span class="fa-fw fa fa-play mr-5 color-green"></span>\u6279\u91cf\u8bbe\u4e3a\u542f\u52a8</a></li>\r\n                          <li *ngIf="isPermission(menu_id,\'edit\')"><a (click)="editStatus(2,\'all\')"><span class="fa-fw fa fa-stop mr-5 txt-color-blueDark"></span>\u6279\u91cf\u8bbe\u4e3a\u65e0\u6548</a></li>\r\n                          <li class="divider"></li>\r\n                          <li *ngIf="isPermission(menu_id,\'delete\')"><a (click)="deleteCustomer(\'all\')"><span class="fa-fw fa  fa-trash-o color-red mr-5"></span>\u6279\u91cf\u5220\u9664</a></li>\r\n                        </ul>\r\n                      </div>\r\n                    </form>\r\n\r\n                    <form class="navbar-form navbar-left ng-pristine ng-valid ng-touched" novalidate="" role="search">\r\n                      <div class="form-group pdlr-4">\r\n                        <input  class="form-control ng-pristine ng-valid ng-touched" maxlength="15" name="keyword" [(ngModel)]="keyword" placeholder="\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9" type="text">\r\n                      </div>\r\n                      <div class="form-group pdlr-4">\r\n                        <button class="btn btn-default" type="button" (click)="getCustomerList(1)">\r\n                          <i  class="glyphicon glyphicon-search"></i>\r\n                          \u641c\u7d22\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n\r\n              <div  class="padding0">\r\n                <div *ngIf="isAll != 0" [ngStyle]="{\'padding\': \'0\',\'z-index\': \'2\',\'width\':width,\'float\':\'left\'}" class="table-responsive padding0">\r\n                  <table class="table table-striped smart-form table-height-20">\r\n                    <thead>\r\n                    <tr>\r\n                      <td><label class="checkbox mt-8">\r\n                        <input type="checkbox" name="checkbox-inline" [checked]="check" (change)="changeCheckAll($event)">\r\n                        <i></i>\r\n                      </label>\r\n                      </td>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr  *ngFor="let c of customerList?.result?.customerList?.data">\r\n                      <td *ngIf="isAll != 0">\r\n                        <label class="checkbox mt-8" >\r\n                          <input type="checkbox" name="checkbox-inline" value="{{ c.c_id }}" [checked]="selects[c.c_id]" (change)="handle($event)">\r\n                          <i></i>\r\n                        </label>\r\n                      </td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div style="z-index: 2;width:20%;float:left;" class="table-responsive padding0">\r\n                  <table class="table table-striped   smart-form table-height-20">\r\n                    <thead>\r\n                    <tr>\r\n                      <th>\u5355\u4f4d\u7f16\u53f7</th>\r\n                      <th>\u5355\u4f4d\u540d\u79f0</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr *ngFor="let c of customerList?.result?.customerList?.data" (click)="isStatusShow(c.c_id,c.c_status)" [ngClass]="{\'table-color\':editStatusCustomerId == c.c_id}">\r\n                      <td>{{c.c_number}}</td>\r\n                      <td>{{c.c_name}}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div [ngStyle]="{\'padding\': \'0\',\'z-index\': \'1\',\'width\':width_1,\'float\':\'left\'}" class="table-responsive">\r\n                  <table class="table table-striped smart-form table-height-20">\r\n                    <thead>\r\n                    <tr>\r\n                      <th>\u767b\u8bb0\u65e5\u671f</th>\r\n                      <th>\u5355\u4f4d\u5206\u7c7b </th>\r\n                      <th>\u5355\u4f4d\u7535\u8bdd </th>\r\n                      <th>\u8054\u7cfb\u4eba </th>\r\n                      <th>\u8054\u7cfb\u4eba\u624b\u673a </th>\r\n                      <th>\u5355\u4f4d\u5730\u5740</th>\r\n                      <th>\u72b6\u6001 </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr *ngFor="let c of customerList?.result?.customerList?.data" (click)="isStatusShow(c.c_id,c.c_status)" [ngClass]="{\'table-color\':editStatusCustomerId == c.c_id}">\r\n                      <td>{{c.created_at}}</td>\r\n                      <td>\u77ff\u77ff\u4e1a</td>\r\n                      <td>{{c.c_phone}}</td>\r\n                      <td>{{c.c_contacts}}</td>\r\n                      <td>{{c.c_phone}}</td>\r\n                      <td>{{c.c_address}}</td>\r\n                      <td>\r\n                        <span [ngSwitch]="c.c_status">\r\n                          <span class="label-normal" *ngSwitchCase=1>\u6b63\u5e38</span>\r\n                          <span class="label-invalid" *ngSwitchCase=2>\u65e0\u6548</span>\r\n                          <span class="label-unknown" *ngSwitchDefault>\u672a\u77e5</span>\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              \x3c!-- \u5e95\u90e8-\uff08\u5206\u9875\u90e8\u5206\uff09--\x3e\r\n              <div class="dt-toolbar">\r\n                <div class="col-xs-12 col-sm-6">\r\n                  <span>\u5171{{customerList.result?.customerList?.total}}\u6761</span>\r\n                </div>\r\n                <div class="hidden-xs right">\r\n                  <ul class="pagination pagination-sm">\r\n                    <li *ngFor="let p of customerList?.result?.page" class="{{p.class}}">\r\n                      <a (click)="pagination(p.value)" *ngIf="p.method==\'method\'">{{p.text}}</a>\r\n                      <a *ngIf="p.method==\'\'">{{p.text}}</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n    </div>\r\n  </sa-widgets-grid>\r\n</div>\r\n\x3c!--id="myModal"--\x3e\r\n<div  bsModal #lgModal="bs-modal" class="modal fade"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n  <div class="modal-dialog">\r\n    \x3c!--<form class="smart-form "  [formGroup]="formModel">--\x3e\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        \x3c!-- \u5173\u95ed\u6309\u94ae --\x3e\r\n        <button type="button" class="close"  (click)="lgModal.hide()" aria-label="Close">\r\n          \xd7\r\n        </button>\r\n        \x3c!-- \u6807\u9898 --\x3e\r\n        <h3 class="modal-title txt-color-blue" data-ng-bind=\'results.title\' *ngIf="c_id == 0"><i class="fa-fw fa fa-plus"></i>\u6dfb\u52a0\u5f80\u6765\u5355\u4f4d</h3>\r\n        <h3 class="modal-title  color-yellow" data-ng-bind=\'results.title\' *ngIf="c_id != 0"><i class="glyphicon glyphicon-pencil"></i>\u4fee\u6539\u5f80\u6765\u5355\u4f4d</h3>\r\n      </div>\r\n      <div class="modal-body">\r\n        <sa-widget [editbutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">\r\n          <header>\r\n            <ul class="nav nav-tabs pull-left in">\r\n              <li [class.active]="state.tabs.demo3==\'hr1\'" class="active">\r\n                <a (click)="state.tabs.demo3 = \'hr1\'">\u57fa\u672c\u4fe1\u606f</a>\r\n              </li>\r\n              <li [class.active]="state.tabs.demo3==\'hr2\'" class="active">\r\n                <a (click)="state.tabs.demo3 = \'hr2\'">\u8054\u7cfb\u4eba\u4fe1\u606f</a>\r\n              </li>\r\n              <li [class.active]="state.tabs.demo3==\'hr3\'" class="active">\r\n                <a (click)="state.tabs.demo3 = \'hr3\'">\u5176\u4ed6\u4fe1\u606f</a>\r\n              </li>\r\n            </ul>\r\n          </header>\r\n          <div class="height-overflow-380">\r\n            <div class="widget-body mt-20">\r\n              <tabset>\r\n                <tab [active]="state.tabs.demo3 == \'hr1\'">\r\n                  <tabset >\r\n                    <tab [active]="state.tabs.demo3 == \'hr1\'">\r\n                      <div class="row">\r\n                        <form class="smart-form ">\r\n                          <fieldset>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label txt-color-blue">\u5355\u4f4d\u7f16\u53f7<span class="asterisk-color">*</span></label>\r\n                                <label class="input">\r\n                                  <input type="text" placeholder="\u5355\u4f4d\u7f16\u53f7" name="c_number" [(ngModel)]="c_number">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label txt-color-blue">\u5355\u4f4d\u540d\u79f0<span class="asterisk-color">*</span></label>\r\n                                <label class="input">\r\n                                  <input type="text" placeholder="" name="c_name" [(ngModel)]="c_name" (blur)="showPinyin()">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label">\u5546\u6237\u7c7b\u578b</label>\r\n                                <label class="select">\r\n                                  <select class="input-sm" name="c_role" [(ngModel)]="c_role">\r\n                                    <option value="0" disabled="disabled">--\u8bf7\u9009\u62e9--</option>\r\n                                    <option value="3" >\u4f9b\u5e94\u5546</option>\r\n                                    <option value="4" >\u88ab\u4f9b\u5e94\u5546</option>\r\n                                  </select> <i></i>\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label txt-color-blue">\u4e0a\u7ea7\u5206\u7c7b<span class="asterisk-color">*</span></label>\r\n                                <label class="select">\r\n                                  <select class="input-sm" name="c_category_id" [(ngModel)]="c_category_id">\r\n                                    <option [selected]="c_id == 0" value="0">--\u8bf7\u9009\u62e9--</option>\r\n                                    <option *ngFor="let c of customerDefault.result?.categoryList" [selected]="customerInfo.result?.c_category_id == c.category_id" value="{{ c.category_id }}">\r\n                                      <b *ngIf="c.category_depth == 0">{{c.category_desc}}</b>\r\n                                      <b *ngIf="c.category_depth != 0">--{{c.category_desc}}</b>\r\n                                    </option>\r\n                                  </select><i></i>\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label">\u5355\u4f4d\u7535\u8bdd</label>\r\n                                <label class="input"> <i class="icon-append fa fa-phone"></i>\r\n                                  <input name="c_phone" [(ngModel)]="c_phone" placeholder="\u8bf7\u8f93\u5165\u7535\u8bdd\u53f7\u7801" maxlength="12">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label txt-color-blue">\u5355\u4f4d\u5730\u5740<span class="asterisk-color">*</span></label>\r\n                                <label class="input">\r\n                                  <input type="text" placeholder="" name="c_address" [(ngModel)]="c_address">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label">\u52a9\u8bb0\u7801</label>\r\n                                <label class="input">\r\n                                  <input type="text" placeholder="\u52a9\u8bb0\u7801(\u6216\u5355\u4f4d\u7b80\u79f0)" disabled="disabled" name="c_abbreviation" [(ngModel)]="c_abbreviation" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label txt-color-blue">\u4ef7\u683c\u7ea7\u522b<span class="asterisk-color">*</span></label>\r\n                                <label class="select">\r\n                                  <select name="c_price_type" [(ngModel)]="c_price_type">\r\n                                    <option disabled="" selected="" value="0" >\u8bf7\u9009\u62e9\u4ef7\u683c\u7ea7\u522b</option>\r\n                                    <option value="1" >\u53c2\u6570\u9ed8\u8ba4</option>\r\n                                    <option value="2" >\u53c2\u8003\u4ef7</option>\r\n                                    <option value="3" >\u96f6\u552e\u4ef7</option>\r\n                                    <option value="4" >\u4e00\u7ea7\u4ef7</option>\r\n                                  </select> <i></i> </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label">\u94fe\u63a5\u767e\u5ea6\u4e91\u5bc6\u94a5</label>\r\n                                <label class="input">\r\n                                  <input  name="c_secret" placeholder="\u8bf7\u8f93\u5165\u94fe\u63a5\u767e\u5ea6\u4e91\u5bc6\u94a5" type="text" [(ngModel)]="c_secret">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12">\r\n                              <section>\r\n                                <label class="label">\u5907\u6ce8</label>\r\n                                <label class="textarea textarea-resizable">\r\n                                  <textarea class="custom-scroll" rows="2" name="c_notes" [(ngModel)]="c_notes"></textarea>\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                          </fieldset>\r\n                        </form>\r\n                      </div>\r\n                    </tab>\r\n                  </tabset>\r\n                </tab>\r\n                <tab [active]="state.tabs.demo3 == \'hr2\'">\r\n                  <tabset >\r\n                    <tab [active]="state.tabs.demo3 == \'hr2\'">\r\n                      <div class="row">\r\n                        <form   class="smart-form ">\r\n                          <fieldset>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u8054\u7cfb\u4eba</label>\r\n                                <label class="input">\r\n                                  <input name="c_contacts" [(ngModel)]="c_contacts" type="text" >\r\n                                </label>\r\n                                \x3c!--<label class="select">--\x3e\r\n                                \x3c!--<select name="c_contacts" [(ngModel)]="c_contacts">--\x3e\r\n                                \x3c!--<option [selected]="c_id == 0" value="0">&#45;&#45;\u8bf7\u9009\u62e9&#45;&#45;</option>--\x3e\r\n                                \x3c!--<option *ngFor="let u of customerDefault.result?.userList" [selected]="customerInfo.result?.c_follow_user_id == u.id" value="{{ u.id }}">{{u.u_username}}</option>--\x3e\r\n                                \x3c!--</select><i></i>--\x3e\r\n                                \x3c!--</label>--\x3e\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u804c\u52a1</label>\r\n                                <label class="input">\r\n                                  <input name="user_title" [(ngModel)]="user_title" type="text" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label">\u7535\u8bdd</label>\r\n                                <label class="input"> <i class="icon-append fa fa-phone"></i>\r\n                                  <input name="user_phone" [(ngModel)]="user_phone" placeholder="\u8bf7\u8f93\u5165\u7535\u8bdd\u53f7\u7801" maxlength="12">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label">\u624b\u673a</label>\r\n                                <label class="input"> <i class="icon-append fa fa-phone"></i>\r\n                                  <input name="user_mobile" [(ngModel)]="user_mobile" placeholder="\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801" maxlength="12">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">Email</label>\r\n                                <label class="input">\r\n                                  <input name="user_email" [(ngModel)]="user_email" type="text" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">QQ</label>\r\n                                <label class="input">\r\n                                  <input name="user_qq" [(ngModel)]="user_qq" type="text" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u5730\u5740</label>\r\n                                <label class="input">\r\n                                  <input name="user_addr" [(ngModel)]="user_addr" type="text" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                          </fieldset>\r\n                        </form>\r\n                      </div>\r\n                    </tab>\r\n                  </tabset>\r\n                </tab>\r\n                <tab [active]="state.tabs.demo3 == \'hr3\'">\r\n                  <tabset >\r\n                    <tab [active]="state.tabs.demo3 == \'hr3\'">\r\n                      <div class="row">\r\n                        <form class="smart-form ">\r\n                          <fieldset>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label txt-color-blue">\u4e1a\u52a1\u5458<span class="asterisk-color">*</span></label>\r\n                                <label class="select">\r\n                                  <select name="c_follow_user_id" [(ngModel)]="c_follow_user_id" (change)="getDepartment($event,1)">\r\n                                    <option [selected]="c_id == 0" value="0">--\u8bf7\u9009\u62e9\u4e1a\u52a1\u5458--</option>\r\n                                    <option *ngFor="let u of customerDefault.result?.userList" [selected]="customerInfo.result?.c_follow_user_id == u.id" value="{{ u.id }}">{{u.u_username}}</option>\r\n                                  </select><i></i>\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section>\r\n                                <label class="label txt-color-blue">\u5206\u7ba1\u90e8\u95e8<span class="asterisk-color">*</span></label>\r\n                                <label class="input">\r\n                                  \x3c!--<i class="icon-append glyphicon glyphicon-search cursor-pointer" data-toggle="modal" data-target="#myModalname"></i>--\x3e\r\n                                  <input type="text" placeholder="" disabled="disabled" name="department" [(ngModel)]="department">\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u7a0e\u7387%</label>\r\n                                <label class="input">\r\n                                  <input name="c_tax" [(ngModel)]="c_tax" type="number" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u7a0e\u53f7</label>\r\n                                <label class="input">\r\n                                  <input name="c_tax_number" [(ngModel)]="c_tax_number" type="text" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u5f00\u6237\u884c</label>\r\n                                <label class="input">\r\n                                  <input name="c_bank" [(ngModel)]="c_bank" type="text" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u94f6\u884c\u5e10\u53f7</label>\r\n                                <label class="input">\r\n                                  <input name="c_bank_account" [(ngModel)]="c_bank_account" type="text" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u6298\u6263\u7387%</label>\r\n                                <label class="input">\r\n                                  <input name="c_discount_rate" [(ngModel)]="c_discount_rate" type="number" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                            <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                              <section >\r\n                                <label class="label ">\u4fe1\u7528\u989d\u5ea6</label>\r\n                                <label class="input">\r\n                                  <input name="c_credit_amount" [(ngModel)]="c_credit_amount" type="number" >\r\n                                </label>\r\n                              </section>\r\n                            </div>\r\n                          </fieldset>\r\n                        </form>\r\n                      </div>\r\n                    </tab>\r\n                  </tabset>\r\n                </tab>\r\n              </tabset>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <div  *ngIf="isPermission(menu_id,\'add\') || isPermission(menu_id,\'edit\')">\r\n        <button class="btn btn-success btn-sm" type="button" (click)="onSubmit(2);"><span class="glyphicon glyphicon-plus"></span>\u4fdd\u5b58\u5e76\u65b0\u589e</button>\r\n        <button type="button" class="btn btn-primary" (click)="onSubmit(1);">\u4fdd\u5b58</button>\r\n        </div>\r\n        <button type="button" class="btn btn-default"  (click)="lgModal.hide()" aria-label="Close">\u8fd4\u56de</button>\r\n      </div>\r\n    </div>\r\n    \x3c!--</form>--\x3e\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<div class="modal fade" bsModal #detailModal="bs-modal">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        \x3c!-- \u5173\u95ed\u6309\u94ae --\x3e\r\n        <button type="button" class="close" (click)="detailModal.hide()">\r\n          \xd7\r\n        </button>\r\n        \x3c!-- \u6807\u9898 --\x3e\r\n        <h3 class="modal-title" data-ng-bind=\'results.title\'></h3>\r\n        <h4 class="modal-title">{{customerInfo?.result?.c_name}}-{{customerInfo?.result?.c_number}}</h4>\r\n      </div>\r\n      <div class="modal-body height-overflow-380">\r\n        <div class="row ">\r\n          <div class="col-sm-12">\r\n            <div class="" >\r\n              <P class="alert alert-info">\u57fa\u672c\u4fe1\u606f</P>\r\n              <table class="table table-striped table-forum">\r\n                <tbody>\r\n                <tr>\r\n                  <td class="width-120">\u5355\u4f4d\u7f16\u53f7:</td>\r\n                  <td class="">{{customerInfo?.result?.c_number}}</td>\r\n                  <td class="width-120">\u5355\u4f4d\u540d\u79f0:</td>\r\n                  <td >\r\n                    {{customerInfo?.result?.c_name}}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u5546\u6237\u7c7b\u578b:</td>\r\n                  <td class="">{{customerInfo?.result?.c_role}}</td>\r\n                  <td class="width-120">\u4e0a\u7ea7\u5206\u7c7b\uff1a</td>\r\n                  <td class="">{{customerInfo?.result?.c_category_id}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u5355\u4f4d\u7535\u8bdd\uff1a</td>\r\n                  <td class="">{{customerInfo?.result?.c_phone}}</td>\r\n                  <td class="width-120">\u5355\u4f4d\u5730\u5740:</td>\r\n                  <td class="">{{customerInfo?.result?.c_address}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u52a9\u8bb0\u7801\uff1a</td>\r\n                  <td class="">{{customerInfo?.result?.c_abbreviation}}</td>\r\n                  <td class="width-120"></td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u5907\u6ce8\uff1a</td>\r\n                  <td class="">{{customerInfo?.result?.c_notes}}</td>\r\n                  <td class="width-120"></td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n              <P class="alert alert-info">\u8054\u7cfb\u4eba\u4fe1\u606f</P>\r\n              <table class="table table-striped table-forum">\r\n                <tbody>\r\n                <tr>\r\n                  <td class="width-120">\u8054\u7cfb\u4eba:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120">\u804c\u52a1:</td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u7535\u8bdd:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120">\u624b\u673a:</td>\r\n                  <td class=""></td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td class="width-120">Email:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120">QQ:</td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u5730\u5740:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120"></td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n              <P class="alert alert-info">\u5176\u4ed6\u4fe1\u606f</P>\r\n              <table class="table table-striped table-forum">\r\n                <tbody>\r\n                <tr>\r\n                  <td class="width-120">\u4e1a\u52a1\u5458:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120">\u5206\u7ba1\u90e8\u95e8:</td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u7a0e\u7387%:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120">\u7a0e\u53f7:</td>\r\n                  <td class=""></td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td class="width-120">\u5f00\u6237\u884c:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120">\u94f6\u884c\u5e10\u53f7:</td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                <tr>\r\n                  <td class="width-120">\u6298\u6263\u7387%:</td>\r\n                  <td class=""></td>\r\n                  <td class="width-120">\u4fe1\u7528\u989d\u5ea6:</td>\r\n                  <td class=""></td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button type="button" class="btn btn-default" (click)="detailModal.hide()">\u8fd4\u56de</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},egKi:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("WT6e"),n=s("Xjw4"),l=s("bfOx"),a=s("NOoU"),o=s("ntJC"),i=s("R12H"),c=s("Exih"),d=this&&this.__decorate||function(t,e,s,r){var n,l=arguments.length,a=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,s,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(l<3?n(a):l>3?n(e,s,a):n(e,s))||a);return l>3&&a&&Object.defineProperty(e,s,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(){function t(t,e,s,r){this.http=t,this.router=e,this.cookieStore=s,this.globalService=r,this.state={tabs:{demo3:"hr1"}},this.prev=!1,this.next=!1,this.customerDefault=[],this.customerList=[],this.customerInfo=[],this.selects=[],this.check=!1,this.c_id=0,this.c_number="",this.c_name="",this.c_role=0,this.c_category_id=0,this.c_phone="",this.c_address="",this.c_abbreviation="",this.c_price_type=0,this.c_secret="",this.c_notes="",this.c_contacts="",this.user_title="",this.user_phone="",this.user_mobile="",this.user_email="",this.user_qq="",this.user_addr="",this.departmentInfo=[],this.department="",this.c_follow_user_id=0,this.c_tax="",this.c_tax_number="",this.c_bank="",this.c_bank_account="",this.c_discount_rate="",this.c_credit_amount="",this.editStatusCustomerId=0,this.isStatus=0,this.isAll=0,this.width="0%",this.width_1="80%",this.keyword="",this.role="3,4",this.category_type=21,this.rollback_url="",this.permissions=[],this.menuInfos=[],this.getCustomerList("1"),window.scrollTo(0,0),this.getCustomerDefault()}return t.prototype.ngOnInit=function(){var t=this;this.globalService.getMenuInfo(),setTimeout(function(){t.menu_id=t.globalService.getMenuId(),t.rollback_url=t.globalService.getMenuUrl(),t.permissions=t.globalService.getPermissions(),t.menuInfos=t.globalService.getMenuInfos()},this.globalService.getMenuPermissionDelayTime())},t.prototype.isPermission=function(t,e){var s=t+"_"+e;return""==e&&(s=t),this.cookieStore.in_array(s,this.permissions)},t.prototype.showPinyin=function(){var t=this,e=this.c_name;""!=e.trim()&&this.http.get(this.globalService.getDomain()+"/api/v1/getPinyin?name="+e).map(function(t){return t.json()}).subscribe(function(e){t.c_abbreviation=e.result})},t.prototype.getCustomerDefault=function(){var t=this;this.http.get(this.globalService.getDomain()+"/api/v1/getCustomerDefault?role="+this.role+"&category_type="+this.category_type+"&sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(e){t.customerDefault=e,console.log(t.customerDefault),202==t.customerDefault.status&&(alert(t.customerDefault.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"]))})},t.prototype.getCustomerList=function(t){var e=this,s=this.globalService.getDomain()+"/api/v1/getCustomerList?role="+this.role+"&page="+t+"&sid="+this.cookieStore.getCookie("sid");""!=this.keyword.trim()&&(s+="&keyword="+this.keyword.trim()),this.http.get(s).map(function(t){return t.json()}).subscribe(function(t){e.customerList=t,console.log(e.customerList),202==e.customerList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.selects=[];for(var s=0,r=e.customerList.result.customerList.data;s<r.length;s++){var n=r[s];e.selects[n.c_id]=!1}e.check=!1})},t.prototype.changeCheckAll=function(t){var e=this,s=t.target.checked;this.selects.forEach(function(t,r,n){e.selects[r]=s}),this.check=s},t.prototype.handle=function(t){var e=t.target,s=e.value,r=e.checked;this.selects[s]=r;for(var n=0,l=0,a=this.selects;l<a.length;l++){0==a[l]&&(n+=1)}this.check=!(n>=1),console.log(this.selects),console.log(this.check)},t.prototype.getCustomerInfo=function(){var t=this,e=0,s=0;this.selects.forEach(function(t,r,n){1==t&&(e+=1,s=r)});var r="";if(e<=0?r="\u8bf7\u9009\u4e2d\u8981\u67e5\u770b\u7684\u4fe1\u606f\uff0c\u518d\u70b9\u51fb\u6b64\u201c\u4fee\u6539\u201d\u6309\u94ae\uff01":e>1&&(r="\u4ec5\u652f\u6301\u9009\u62e9\u4e00\u6761\u8981\u67e5\u770b\u8be6\u60c5\u7684\u4fe1\u606f\uff01"),""!=r)return alert(r),!1;this.http.get(this.globalService.getDomain()+"/api/v1/getCustomerInfo?c_id="+s).map(function(t){return t.json()}).subscribe(function(e){t.customerInfo=e,console.log(t.customerInfo),0!=t.customerInfo.result.c_follow_user_id&&t.getDepartment(t.customerInfo.result.c_follow_user_id,2)})},t.prototype.getDepartment=function(t,e){var s=this,r=0;r=1==e?t.target.value:t;var n=this.globalService.getDomain()+"/api/v1/getDepartment";console.log(r),0!=r&&(n+="?u_id="+r),this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){s.departmentInfo=t,201==s.departmentInfo.status?alert(s.departmentInfo.msg):200==s.departmentInfo.status&&(s.department=s.departmentInfo.result.department_name),console.log(s.department)})},t.prototype.onSubmit=function(t){var e=this;return""==this.c_number.trim()?(alert("\u8bf7\u8f93\u5165\u7f16\u53f7\uff01"),!1):""==this.c_name.trim()?(alert("\u8bf7\u8f93\u5165\u540d\u79f0\uff01"),!1):void this.http.post(this.globalService.getDomain()+"/api/v1/addCustomer",{c_id:this.c_id,number:this.c_number,name:this.c_name,role:this.c_role,phone:this.c_phone,address:this.c_address,abbreviation:this.c_abbreviation,notes:this.c_notes,contacts:this.c_contacts,category_id:this.c_category_id,price_type:this.c_price_type,c_secret:this.c_secret,user_title:this.user_title,user_phone:this.user_phone,user_mobile:this.user_mobile,user_email:this.user_email,user_qq:this.user_qq,user_addr:this.user_addr,c_follow_user_id:this.c_follow_user_id,c_tax:this.c_tax,c_tax_number:this.c_tax_number,c_bank:this.c_bank,c_bank_account:this.c_bank_account,c_discount_rate:this.c_discount_rate,c_credit_amount:this.c_credit_amount,c_status:1,sid:this.cookieStore.getCookie("sid")}).subscribe(function(s){var r=JSON.parse(s._body);if(alert(r.msg),200==r.status){e.clear_(),e.customerList=r,e.selects=[];for(var n=0,l=e.customerList.result.customerList.data;n<l.length;n++){var a=l[n];e.selects[a.c_id]=!1}e.check=!1,1==t&&e.lgModal.hide()}else 202==r.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"]))})},t.prototype.clear_=function(){this.c_id=0,this.c_number="",this.c_name="",this.c_role=0,this.c_category_id=0,this.c_phone="",this.c_address="",this.c_abbreviation="",this.c_price_type=0,this.c_secret="",this.c_notes="",this.c_contacts="",this.user_title="",this.user_phone="",this.user_mobile="",this.user_email="",this.user_qq="",this.user_addr="",this.department="",this.c_follow_user_id=0,this.c_tax="",this.c_tax_number="",this.c_bank="",this.c_bank_account="",this.c_discount_rate="",this.c_credit_amount=""},t.prototype.setValue=function(t){this.c_id=t.result.c_id,this.c_number=t.result.c_number,this.c_name=t.result.c_name,this.c_role=t.result.c_role,this.c_category_id=t.result.c_category_id,this.c_phone=t.result.c_phone,this.c_address=t.result.c_address,this.c_abbreviation=t.result.c_abbreviation,this.c_price_type=t.result.c_price_type,this.c_secret=t.result.c_secret,this.c_notes=t.result.c_notes,this.c_contacts=t.result.c_contacts,this.user_title=t.result.user_info.user_title,this.user_phone=t.result.user_info.user_phone,this.user_mobile=t.result.user_info.user_mobile,this.user_email=t.result.user_info.user_email,this.user_qq=t.result.user_info.user_qq,this.user_addr=t.result.user_info.user_addr,this.c_follow_user_id=t.result.c_follow_user_id,this.c_tax=t.result.c_tax,this.c_tax_number=t.result.c_tax_number,this.c_bank=t.result.c_bank,this.c_bank_account=t.result.c_bank_account,this.c_discount_rate=t.result.c_discount_rate,this.c_credit_amount=t.result.c_credit_amount},t.prototype.detailCustomer=function(t){var e=this;if(0==this.isStatus)return!1;"edit"==t?this.lgModal.show():this.detailModal.show(),this.http.get(this.globalService.getDomain()+"/api/v1/getCustomerInfo?c_id="+this.editStatusCustomerId+"&type="+t+"&role="+this.role+"&sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(s){e.customerInfo=s,e.c_id=0,200==e.customerInfo.status&&"edit"==t?e.setValue(e.customerInfo):202==e.customerInfo.status&&(alert(e.customerInfo.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),0!=e.customerInfo.result.c_follow_user_id&&e.getDepartment(e.customerInfo.result.c_follow_user_id,2)})},t.prototype.deleteCustomer=function(t){var e=this;if(this.globalService.demoAlert("",""))return!1;var s="",r="";if("id"==t)r=this.editStatusCustomerId;else if("all"==t){var n=0;if(this.selects.forEach(function(t,e,s){1==t&&(r+=e+",",n+=1)}),n<1)return s="\u8bf7\u786e\u8ba4\u5df2\u9009\u4e2d\u9700\u8981\u5220\u9664\u7684\u4fe1\u606f\uff01",alert(s),!1}if(s="\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8be5\u4fe1\u606f\u5417\uff1f",confirm(s)){var l=this.globalService.getDomain()+"/api/v1/deleteCustomerById?c_ids="+r+"&role="+this.role+"&type="+t+"&sid="+this.cookieStore.getCookie("sid");this.http.delete(l).map(function(t){return t.json()}).subscribe(function(t){e.customerList=t,202==e.customerList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.selects=[];for(var s=0,r=e.customerList.result.customerList.data;s<r.length;s++){var n=r[s];e.selects[n.c_id]=!1}e.check=!1})}},t.prototype.isStatusShow=function(t,e){var s=this;this.editStatusCustomerId=t,this.isStatus=e,this.isAll=0,this.width="0%",this.width_1="80%",this.selects.forEach(function(t,e,r){1==t&&(s.selects[e]=!1)})},t.prototype.editStatus=function(t,e){var s=this,r="";if("all"==e?this.selects.forEach(function(t,e,s){1==t&&(r+=e+",")}):r=this.editStatusCustomerId,!r)return alert("\u8bf7\u786e\u4fdd\u5df2\u9009\u4e2d\u9700\u8981\u6279\u91cf\u64cd\u4f5c\u7684\u9879\uff01"),!1;this.http.post(this.globalService.getDomain()+"/api/v1/addCustomer",{c_id:r,c_status:t,type:e,role:this.role,keyword:this.keyword.trim(),sid:this.cookieStore.getCookie("sid")}).subscribe(function(t){var e=JSON.parse(t._body);if(alert(e.msg),200==e.status){s.customerList=e,s.selects=[];for(var r=0,n=s.customerList.result.customerList.data;r<n.length;r++){var l=n[r];s.selects[l.c_id]=!1}s.check=!1}else 202==e.status&&(s.cookieStore.removeAll(s.rollback_url),s.router.navigate(["/auth/login"]));s.editStatusCustomerId=0,s.isStatus=0})},t.prototype.showAllCheck=function(){0==this.isAll&&(this.isAll=1,this.editStatusCustomerId=0,this.isStatus=0,this.width="10%",this.width_1="70%")},d([Object(r.ViewChild)("lgModal"),u("design:type",c.d)],t.prototype,"lgModal",void 0),d([Object(r.ViewChild)("detailModal"),u("design:type",c.d)],t.prototype,"detailModal",void 0),t=d([Object(r.Component)({selector:"app-customer-unit",template:s("ZPve")}),u("design:paramtypes",[a.b,l.c,o.a,i.a])],t)}(),h=[{path:"",component:m}],b=l.d.forChild(h),p=s("pvSQ"),_=s("JOm+"),f=s("7DMc"),g=s("jfyD");s.d(e,"CustomerUnitModule",function(){return y});var v=this&&this.__decorate||function(t,e,s,r){var n,l=arguments.length,a=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,s,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(l<3?n(a):l>3?n(e,s,a):n(e,s))||a);return l>3&&a&&Object.defineProperty(e,s,a),a},y=function(){function t(){}return t=v([Object(r.NgModule)({imports:[n.CommonModule,p.a,_.a,f.b,f.f,b],declarations:[m],providers:[g.CookieService,o.a]})],t)}()}});